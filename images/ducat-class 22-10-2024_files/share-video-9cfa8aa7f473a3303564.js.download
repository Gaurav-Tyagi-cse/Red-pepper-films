(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[4896,8221],{61917:function(e,t,n){"use strict";n.d(t,{Z:function(){return r},x:function(){return a}});let a={googleChat:"googleChat",smartChip:"smartChip"},r={[a.googleChat]:["https://chat.google.com/"],[a.smartChip]:["https://addons.gsuite.google.com/"]}},17486:function(e,t,n){"use strict";n.d(t,{C7:function(){return f},C8:function(){return h},FP:function(){return i},GH:function(){return a},G_:function(){return M},HO:function(){return v},I2:function(){return x},IB:function(){return B},MU:function(){return y},Nk:function(){return l},OX:function(){return w},PU:function(){return r},QD:function(){return $},R5:function(){return p},R6:function(){return u},S4:function(){return N},SB:function(){return L},T6:function(){return I},TF:function(){return W},TG:function(){return D},VV:function(){return C},ZX:function(){return c},Zg:function(){return U},_T:function(){return k},bX:function(){return b},co:function(){return S},dR:function(){return O},e:function(){return o},g_:function(){return s},m0:function(){return F},mv:function(){return E},ne:function(){return _},oi:function(){return m},tr:function(){return T},w8:function(){return d},yR:function(){return g}});let a=12,r="ALL",i="ARCHIVED",l="SPACE",o="USER_SPACE",s="ALL_PUBLIC_SPACES",c="USER_PUBLIC_SPACES",d="USER_PROFILE_SPACES",u="WATCH_LATER",m="ACTIVE",p="ARCHIVED",g="SPACE",v="PUBLIC",f="PUBLISH_STATUS",h="CREATED_BY",E="FOLDER_STATUS",_="TAGS_STATUS",k="PUBLISHED",b="UNPUBLISHED",y="CREATED_BY_ME",w="CREATED_BY_OTHERS",S="IN_FOLDER",C="NOT_IN_FOLDER",N="LAST_DAYS",T="TAG",I="SECONDARY_TAG",A="SECONDARY_PUBLISH_STATUS",x="WORKSPACE_PROFILE",L="PROFILE";var R,P,F=((R=F||{})[R.VIDEOS=0]="VIDEOS",R[R.FOLDERS=1]="FOLDERS",R[R.ARCHIVE=2]="ARCHIVE",R[R.PROFILE=3]="PROFILE",R[R.SCREENSHOTS=4]="SCREENSHOTS",R[R.SYNCED_MEETINGS=5]="SYNCED_MEETINGS",R[R.NOTIFICATIONS_ALL=6]="NOTIFICATIONS_ALL",R[R.NOTIFICATIONS_SHARED=7]="NOTIFICATIONS_SHARED",R[R.NOTIFICATIONS_COMMENT=8]="NOTIFICATIONS_COMMENT",R[R.TAGS=9]="TAGS",R[R.SPACES=10]="SPACES",R[R.FOLDER_IN_SPACES=11]="FOLDER_IN_SPACES",R[R.FOLDER_IN_MY_LIBRARY=12]="FOLDER_IN_MY_LIBRARY",R[R.BROWSE_SPACES_CLOSED=13]="BROWSE_SPACES_CLOSED",R[R.BROWSE_SPACES_ARCHIVED=14]="BROWSE_SPACES_ARCHIVED",R);let O={type:y,label:"Created by me"},D={type:"COMMUNITY_PUBLISHED",label:"Community Looms"},W={type:h,label:"Created by",filterOptions:[{type:y,label:"Me"},{type:w,label:"Others"}]},B={type:f,label:"Post status",filterOptions:[{type:b,label:"Not posted",parent:A},{type:k,label:({workspace:e})=>(null==e?void 0:e.name)?"Posted to ".concat(e.name):"Posted",parent:A}]},$={type:E,label:"Folder status",filterOptions:[{type:C,label:"Not in a folder"},{type:S,label:"In a folder"}]},M={type:_,label:"Tagged with",filterOptions:[]};var U=((P=U||{}).MY_LIBRARY_TO_SPACE="MY_LIBRARY_TO_SPACE",P.SPACE_TO_MY_LIBRARY="SPACE_TO_MY_LIBRARY",P.SPACE_TO_NEW_SPACE="SPACE_TO_NEW_SPACE",P.SAME_ROOT_CONTEXT="SAME_ROOT_CONTEXT",P)},93281:function(e,t,n){"use strict";n.d(t,{$m:function(){return r},cD:function(){return a},mN:function(){return i}});let a="highlightComment",r="highlightReply",i="highlightTask"},97579:function(e,t,n){"use strict";n.d(t,{Bq:function(){return i},fl:function(){return r},q5:function(){return a}});let a="desktop",r="chrome-extension",i="sdk"},15385:function(e,t,n){"use strict";let a;n.r(t),n.d(t,{OTHER:function(){return W},PERSISTENT_RECORD_BUTTON:function(){return O},REMINDER_TO_RECORD_NOTIFICATION:function(){return B},RecordButton:function(){return $},SHARE_PAGE:function(){return D},useRecordButtonClick:function(){return M}});var r=n(20887),i=n(81504),l=n(16032),o=n(45493),s=n(58453),c=n(50679),d=n(70211),u=n(58216),m=n(76559),p=n(76706),g=n(25051),v=n(36897),f=n(63087),h=n(61882),E=n.n(h),_=n(97579),k=n(51110),b=n(21597),y=n(84988),w=n(51673);let S={disablePreviewModal:!0,enableOnboardingTutorial:!0,productName:"loom",entryPointName:"persistent_record"};var C=n(45372),N=n(46061);let T=!1;function I(e){return e.preventDefault(),e.returnValue="",""}var A=n(90978);let x=(e,t)=>new Promise(n=>{let a=[k.v$,k.s6,k.eo,k.JR],i=window.location.pathname.includes("/spaces")||a.includes(window.location.pathname),l=i&&C.ED?t:500,o=()=>{setTimeout(()=>{document.hasFocus()?n(!1):(v.track(r.xL1,{source:e,recorder_type:_.q5}),(0,m.v3)("recorder.initiate",{recorder_type:_.q5,source:e}),n(!0))},l)};window.addEventListener("beforeunload",o),window.location.href=`${(0,N.g1)(b.lC)}://`,setTimeout(()=>window.removeEventListener("beforeunload",o),1e4)}),L=(e,t)=>new Promise(n=>{(!C.ED||document.hasFocus())&&(0,A.f1)("persistent-record",t,t=>{t&&(v.track(r.xL1,{source:e,recorder_type:_.fl}),(0,m.v3)("recorder.initiate",{recorder_type:_.fl,source:e}),n(!0)),n(!1)})}),R=null,P=async e=>{if(R)return;let{configureButton:t}=await (a||(a=new w.U(S)),a).waitOnInstance(),n=await (0,f.F)(p.wDN),i=p.ADk.includes(n);R=t({hooks:{onStart:()=>{e?.onStart?.(),v.track(i?r.Thw:r.xRm,{source:e.source}),(0,m.v3)("recorder.start_recording",{recorder_type:_.Bq,source:e.source,isLoggedIn:e.isLoggedIn})},onCancel:()=>{e?.onCancel?.(),v.track(i?r.nnD:r.k$D,{source:e.source}),(0,m.v3)("recorder.cancel_recording",{recorder_type:_.Bq,source:e.source,isLoggedIn:e.isLoggedIn})},onRecordingComplete:t=>{T||(T=!0,window.addEventListener("beforeunload",I)),e?.onRecordingComplete?.(t),window.open(t.sharedUrl+"?from_recorder=1","_blank"),v.track(i?r.l6n:r.hI$,{source:e.source,videoUrl:t.sharedUrl,videoId:t.id}),(0,m.v3)("recorder.recording_complete",{recorder_type:_.Bq,source:e.source,isLoggedIn:e.isLoggedIn})},onUploadComplete:t=>{T&&(T=!1,window.removeEventListener("beforeunload",I)),e?.onUploadComplete?.(t),v.track(i?r.v2:r.tWB,{source:e.source,videoUrl:t.sharedUrl,videoId:t.id}),(0,m.v3)("recorder.upload_complete",{recorder_type:_.Bq,source:e.source,isLoggedIn:e.isLoggedIn})}}})},F=async e=>{let{supported:t}=await (0,y.l)(),n=await (0,f.F)(p.wDN),a=p.ADk.includes(n);return!!t&&(await P(e),v.track(a?r.YgP:r.xL1,{source:e.source,recorder_type:_.Bq}),(0,m.v3)("recorder.initiate",{recorder_type:_.Bq,source:e.source,isLoggedIn:e.isLoggedIn}),R.openPreRecordPanel(),!0)},O="persistent-record",D="share-page",W="other",B="reminder-to-record-notification";function $({children:e,priorityList:t=[_.fl,_.q5,_.Bq],source:n=O,location:a=W,shouldLaunchExtensionTutorial:r=!1}){let{onButtonClick:i}=M({priorityList:t,source:n,location:a,shouldLaunchExtensionTutorial:r}),l=s.Children.only(e);return s.cloneElement(l,{onClick:function(...e){return(...t)=>{e.forEach(e=>e?.(...t))}}(i,l.props.onClick)})}function M({priorityList:e=[_.fl,_.q5,_.Bq],source:t=O,location:n=W,shouldLaunchExtensionTutorial:a=!1}){let s=(0,c.I0)(),h=(0,l.useIsCurrentUserLoggedIn)(),[k]=(0,i.D)(E(),{onCompleted:({result:e})=>{"createAnonPartnerSessionRecordingCachePayload"!==e.__typename&&u.error(Error(e.message),{},{feature:g.L0.RecorderSDK})}}),b=async n=>{let i=await (0,f.F)(p.kT3),l=e[n],c=null;switch(l){case _.q5:c=await x(t,i);break;case _.fl:c=await L(t,a);break;default:(c=await F({source:t,isLoggedIn:h,onRecordingComplete(){s((0,d.h7)({modalType:o.oc}))},onUploadComplete(e){s((0,d.Mr)()),t!==O||h||k({variables:{videoId:e.id}})}}))||(v.track(r.Xkh),(0,m.v3)("recorder_initiate.no_recorder_fallback_modal",{source:t}),s((0,d.h7)({modalType:o.K$,options:{source:t}})))}!c&&n<e.length-1&&b(n+1)};return{onButtonClick:()=>{v.track(r.Hfk,{source:t,location:n}),(0,m.v3)("button.click",{source:t,isLoggedIn:h}),b(0)}}}},58730:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var a=n(50679),r=n(15051),i=n(56694);let l=(0,r.P1)([e=>e.workspace.workspaces,(e,t)=>t],(e,t)=>e.find(e=>e.id===t)?.memberLimits),o=(e,t=null)=>{let n=(0,i.hP)(),r=t||n.id,o=(0,a.v9)(e=>l(e,r));return e?o?.[e]:o}},82215:function(e,t,n){"use strict";n.d(t,{Kh:function(){return k},OI:function(){return _},gC:function(){return y},gG:function(){return b}});var a=n(51110),r=n(21597),i=n(45372),l=n(44588),o=n(58216),s=n(62508),c=n(10669),d=n(34941),u=n(25051),m=n(36897);let p=async()=>i.u?(await navigator.serviceWorker.register("/sw.js",{scope:"/"}),Promise.resolve(!0)):Promise.resolve(!1),g=async()=>{let e=await navigator.serviceWorker.ready,t={userVisibleOnly:!0,applicationServerKey:v(r.EZ)},n=null;try{n=await e.pushManager.subscribe(t)}catch(a){if(a.name===d.CN){let a=await e.pushManager.getSubscription();await a.unsubscribe(),n=await e.pushManager.subscribe(t)}else throw a}return n},v=e=>{let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(n),r=new Uint8Array(a.length);for(let e=0;e<a.length;++e)r[e]=a.charCodeAt(e);return r},f=(e,t)=>(0,l.Z)("/v1/users",{method:"PATCH",credentials:"include",headers:{[s.Jd]:c._R},body:JSON.stringify({push_subscription:e.toJSON(),activated_location:t})}).then(e=>{if(!e.ok)throw Error(`could not send notification subscription - ${e.status}`)}),h=()=>new Promise((e,t)=>{let n=Notification.requestPermission(t=>{e(t)});n&&n.then&&n.then(e).catch(t)}).then(e=>e),E=()=>window.Notification?navigator.permissions?navigator.permissions.query({name:"notifications"}).then(e=>e.state):new Promise(e=>{e(Notification.permission)}):Promise.resolve(d.YU),_=async()=>{if(i.u){let e=await navigator.serviceWorker.getRegistrations();e.forEach(e=>{e.scope!==`${a.OA}/`&&e.unregister()})}},k=async(e="")=>{try{let t=await p();if(!t)return;let n=await g();await f(n,e)}catch(t){o.error(t,{message:`Unable to register push subscription from ${e}`},{feature:u.L0.Notifications})}},b=async e=>{try{if(!window.Notification)return d._u;let t=await E();if(t===d.bU&&(t=await h()),t!==d.qZ)return d.YU;if(!i.u)return d._u;return await k(e),d.qZ}catch(e){o.warning(e,"Error while setting up Push Notificatons")}},y=e=>{m.track(e.event,e),e.notif_id&&(0,l.Z)(`/v1/notifications/${e.notif_id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:d._x})})}},17116:function(e,t,n){"use strict";let a;n.d(t,{k:function(){return s}});var r=n(20887),i=n(36897),l=n(43956);let o=()=>{if(a)return;a=Object.fromEntries(new URLSearchParams(location.search));let e=a?.data,t=e?(0,l.FL)(atob(e),{}):{};e&&i.track(r.s0d,{notificationType:t?.event,url:t.url}),a={...a,...t}},s=e=>{a||o();let t=a[e];return t?String(t):""};o()},71621:function(e,t,n){"use strict";n.d(t,{JG:function(){return r},g9:function(){return l},zp:function(){return i}});let a=e=>{if(e.select)e.select();else if(document.body.createTextRange){let t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){let t=document.createRange();t.selectNodeContents(e);let n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}},r=e=>{try{let t;return a(e),window.document.execCommand("copy"),(t="string"==typeof e?e:e.textContent?e.textContent:e.value)&&navigator?.clipboard?.writeText(t),!0}catch(e){return!1}},i=e=>{try{let t=window.document.activeElement,n=window.document.createElement("textarea");return n.value=e,n.style.position="absolute",n.style.left="-9999px",window.document.body.appendChild(n),n.select(),window.document.execCommand("copy"),window.document.body.removeChild(n),navigator?.clipboard?.writeText(e),t&&t.focus(),!0}catch(e){return!1}};function l(e){let t=!0,n=function(e){let t=document.createElement("div");return t.innerHTML=e,t}(e.innerHTML);try{let e=document.createRange(),t=document.getSelection();document.body.appendChild(n),e.selectNode(n),t&&(t.removeAllRanges(),t.addRange(e)),document.execCommand("copy")}catch(e){t=!1}return n&&document.body.removeChild(n),t}},37747:function(e,t,n){"use strict";n.d(t,{Q:function(){return p}});var a=n(58453),r=n(50679),i=n(23904),l=n(59279),o=n(58789),s=n(33266),c=n(25051),d=n(95796);let u=e=>{let{message:t,show:n}=e.confirmation_modal;return{message:t,show:n}},m=()=>{let e=(0,r.I0)(),t=(0,r.v9)(u),{featureLoadedRef:n}=(0,o.kX)(),{message:i,show:l}=t;return l?a.createElement("div",{ref:n},a.createElement(s.FNi,{isOpen:l,onCloseClick:()=>e((0,d.N_)())},i)):null},p=()=>a.createElement(i.$,{feature:c.L0.ConfirmationToast,errorType:l.s.SILENT,additionalLoggingValues:{version:"confirmation toast"}},a.createElement(m,null))},52874:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var a=n(93298),r=n(55068),i=n(58453),l=n(59101),o=n(33266),s=n(21643);let c=e=>{let t=(0,r.hP)(),{data:n,loading:c}=(0,a.rj)({variables:{workspaceId:t?.id},skip:!t}),d=n?.billing?.billing_details,u=!!d?.paused,m=!!d&&(0,l.V9)(d),{onClick:p}=(0,s.L)({...e,paused:u,pureTrial:m});if(c)return null;switch(e.purchaseType){case"request-ai":return i.createElement(o.zxk,{variant:e.buttonVariant,type:"button",onClick:p},e.cta||"Upgrade");case"sales-led":return i.createElement(o.zxk,{type:"button",variant:e.buttonVariant,htmlTag:"a",onClick:p},e.cta||"Contact Sales");case"add-on-only":return i.createElement(o.zxk,{type:"button",onClick:p,variant:e.showAiPanelWithWorkflows?"neutral":e.buttonVariant,style:{width:"fit-content"}},e.cta?e.cta:e.showAiPanelWithWorkflows?"Upgrade to Loom AI":"Buy Now");case"has-ai-addon":return i.createElement(o.zxk,{variant:e.buttonVariant,type:"button",onClick:p},e.cta||"Get Started");default:return i.createElement(o.zxk,{variant:e.buttonVariant,htmlTag:"a",onClick:p},e.cta||"Upgrade")}}},89734:function(e,t,n){"use strict";n.d(t,{R:function(){return r}});var a=n(58453);let r=({size:e,blur:t,position:n,parallax:r,mousePosition:i})=>a.createElement("div",{className:"loom-ai-bubble_bubble_1gk",style:{filter:t?`blur(${t}px)`:"none",height:`${e}rem`,width:`${e}rem`,left:`calc(50% - ${e/2}rem + ${n[0]/2}%)`,top:`calc(50% - ${e/2}rem + ${n[1]/2}%)`,transform:r&&i?`translate(${i.x*r/100}px, ${i.y*r/100}px)`:"none"}})},26094:function(e,t,n){"use strict";n.d(t,{H:function(){return s},p:function(){return o}});var a=n(58453),r=n(33266),i={loomBadgeWrapper:"loom-badge_loomBadgeWrapper_1jt",loomBadgeText:"loom-badge_loomBadgeText_xQD",loomBadgeLogo:"loom-badge_loomBadgeLogo_1TR"};let l=()=>a.createElement(a.Fragment,null,a.createElement("span",{className:i.loomBadgeText},"Made with"),a.createElement(r.TRl,{className:i.loomBadgeLogo,maxWidth:"4.25em",symbolColor:"primary",wordmarkColor:"body"})),o=()=>a.createElement("div",{className:i.loomBadgeWrapper},a.createElement(l,null)),s=({href:e,title:t})=>a.createElement("a",{className:i.loomBadgeWrapper,href:e,"aria-label":`Go to ${t}`},a.createElement(l,null))},66667:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var a=n(58453),r=n(5383);let i=(0,r.r)(()=>n.e(2028).then(n.bind(n,52694)).then(e=>({default:e.MobileDownloadBanner}))),l=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(i,{...e}))},32965:function(e,t,n){"use strict";n.d(t,{$:function(){return r},y:function(){return i}});var a,r=((a=r||{}).FALL_24_New_User="fall-24-new-user",a.FALL_24_EXISTING_WORKSPACE_AI_TRIAL="fall-24-existing-workspace-ai-trial",a.FALL_24_BIZ_ENT_PREV_AI="fall-24-biz-ent-prev-ai",a.FALL_24_HARD_UPSELL="fall-24-hard-upsell",a.Disabled="disabled",a);let i=["fall-24-new-user","fall-24-existing-workspace-ai-trial","fall-24-biz-ent-prev-ai","fall-24-hard-upsell"]},46508:function(e,t,n){"use strict";n.d(t,{O:function(){return q},X:function(){return z}});var a=n(20887),r=n(32910),i=n.n(r),l=n(16032),o=n(82548),s=n(45431),c=n(11903),d=n(6854),u=n(58453),m=n(66519),p=n(76559),g=n(23904),v=n(59279),f=n(33266),h=n(76706),E=n(25051),_=n(55918),k=n(15358),b=n(74970),y=n(36897);let w="400px",S="https://cdn.loom.com/assets/img/seasonal-launch";var C=n(32965),N=n(87552),T={modal:"seasonal-launch-modal_modal_3o9",featureContainer:"seasonal-launch-modal_featureContainer_2cZ",border:"seasonal-launch-modal_border_Tr4",activeBorder:"seasonal-launch-modal_activeBorder_2Hy",inactiveBorder:"seasonal-launch-modal_inactiveBorder_sSP",featureContent:"seasonal-launch-modal_featureContent_tCJ",animateHeight:"seasonal-launch-modal_animateHeight_1TH",expandedContent:"seasonal-launch-modal_expandedContent_2Am",collapsedContent:"seasonal-launch-modal_collapsedContent_2UL",animateVisibility:"seasonal-launch-modal_animateVisibility_2fB",text:"seasonal-launch-modal_text_18z",isActive:"seasonal-launch-modal_isActive_1FC",visible:"seasonal-launch-modal_visible_3IO",invisible:"seasonal-launch-modal_invisible_2zF",openCloseIcon:"seasonal-launch-modal_openCloseIcon_3CY",open:"seasonal-launch-modal_open_1iq",videoContainer:"seasonal-launch-modal_videoContainer_3ZK",imageContainer:"seasonal-launch-modal_imageContainer_X2W",assetContainer:"seasonal-launch-modal_assetContainer_3IN",footer:"seasonal-launch-modal_footer_2dk"};let I=(e,t)=>{let n=document.getElementById("seasonal-launch-modal-footer"),a=n?.getBoundingClientRect().top;(0,u.useEffect)(()=>{let{bottom:n}=e.current?.getBoundingClientRect()||{};t&&n&&a&&n>a&&e.current?.scrollIntoView({behavior:"smooth",block:"center"})},[t])},A=e=>{let{description:t,featureId:n,hasAiAddOn:r,hasChangedSteps:l,icon:o,index:c,isActive:d,collapsible:m=!0,memberRole:g,personaRole:v,showFeature:E,title:_,tourIsEnabled:k,workspaceType:b,isBeta:w}=e,S=(0,s.W9)(h.EjA);(0,u.useEffect)(()=>{d&&(y.track(a.bco,{ai_addOn:r,role:g,persona:v,workspace_type:b,tour_is_enabled:k,variant:S,feature:n}),(0,p.v3)("seasonal.launch.ftux.feature.shown",{feature:n}))},[d,n,g,v,b,k,r,S]);let C=(0,u.useRef)(null);I(C,d);let A=m?i()("text:left",l&&T.animateVisibility,T.text,d&&T.isActive,d?T.visible:T.invisible):"text:left";return u.createElement("div",{ref:C},u.createElement(f.W20,{as:"button",onClick:()=>E(c),className:i()(T.featureContainer)},u.createElement("div",{className:i()(T.border,T.activeBorder,d&&T.visible)}),u.createElement("div",{className:i()(T.border,T.inactiveBorder,!d&&T.visible)}),u.createElement("div",{className:i()(T.featureContent,m&&d&&T.expandedContent,m&&!d&&T.collapsedContent,l&&T.animateHeight)},u.createElement(f.ggW,{gap:1,alignItems:"start"},u.createElement(f.JO$,{icon:o,color:"body"}),u.createElement("div",null,u.createElement(f.ggW,{justifyContent:"space-between"},u.createElement(f.ggW,{gap:1,alignItems:"start"},u.createElement(f.xvT,{size:"body-md",fontWeight:"bold"},_),w&&u.createElement(f.DRh,{color:"blurple",backgroundColor:"blurpleLight"},"Beta")),m&&u.createElement(f.JO$,{icon:u.createElement(N.I,null),color:"bodyDimmed",className:i()(T.openCloseIcon,d&&T.open)})),u.createElement("div",{className:A},u.createElement(f.LZC,{top:1,bottom:0},u.createElement(f.xvT,{size:"body-md",fontWeight:"book"},t))))))))};var x=n(86195);n(51110);var L=n(4105);n(45493);var R=n(86357);n(76788);var P=n(50679);n(70211),n(72024);let F=({dismissModal:e,eventProps:t})=>{let n=(0,P.I0)();return u.createElement(f.zxk,{variant:"primary",size:"large",onClick:()=>{(0,p.v3)("seasonal.launch.ftux.cta.clicked",{cta:"plan-upgrade-fall-24-launch",upgrade_type:"plan-fall-24-launch"}),y.track(a.Sv6,{...t,cta:"plan-upgrade-fall-24-launch",upgrade_type:"plan-fall-24-launch"},()=>{n((0,L.O)("loom-ai",{analyticEvent:"fall-launch-24-upgrade-button",source:x.y.SEASONAL_LAUNCH_MODAL})),e("plan-upgrade-fall-24-launch")})}},"Upgrade now")},O=({dismissModal:e,eventProps:t})=>u.createElement(R.e,null,u.createElement(F,{dismissModal:e,eventProps:t}));var D=n(79336),W=n(95002),B=n(43323),$=n(76505);let M=({imageName:e,altText:t})=>{let n=`${S}/${e}`;return u.createElement("div",{className:T.imageContainer},u.createElement("img",{src:n,alt:t,height:w}))},U=({videoName:e})=>{let t=`${S}/${e}`;return u.createElement("div",{className:T.videoContainer},u.createElement("video",{src:t,loop:!0,autoPlay:!0,muted:!0,height:w}))},V=({variant:e,hasAiAddOn:t})=>e===C.$.FALL_24_New_User?{title:"14 days of better communication with AI",subtitle:"Communicate your best with videos auto-enhanced by AI and intuitive editing",features:H({hasAiAddOn:t,whatsNew:!1})}:e===C.$.FALL_24_EXISTING_WORKSPACE_AI_TRIAL?{title:"Your chance to experience the best of Loom",subtitle:"Your 14-day trial of better editing and AI starts now",features:H({hasAiAddOn:t,whatsNew:!1})}:e===C.$.FALL_24_HARD_UPSELL?{title:"Get the best of Loom with the Business + AI Plan",subtitle:"Communicate your best with videos auto-enhanced by AI and intuitive editing",features:H({hasAiAddOn:t,whatsNew:!1})}:(C.$.FALL_24_BIZ_ENT_PREV_AI,{title:"What’s new with Loom AI",subtitle:"Say goodbye to re-recording with easy editing and customization",features:H({hasAiAddOn:t,whatsNew:!0})}),H=({hasAiAddOn:e,whatsNew:t})=>t?[{id:"fall-24-trim-transcript-editing",title:"A New Home for Trim and Transcript Editing",icon:u.createElement(B.l,null),description:"Our most intuitive, most powerful editor yet",asset:u.createElement(M,{imageName:"fall-24-trim-transcript-editing.jpg",altText:"A New Home for Trim and Transcript Editing"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-workflows",title:"AI Workflows in 50+ Languages",icon:u.createElement(D.m,null),description:"Auto-draft docs or bug reports in your preferred language",asset:u.createElement(M,{imageName:"fall-24-workflows.jpg",altText:"AI Workflows in 50+ Languages"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-variables",title:"Personalize with Audio Variables",icon:u.createElement($.j,null),description:"AI-generated names in your voice, so you can personalize your video without re-recording",asset:u.createElement(M,{imageName:"fall-24-variables.jpg",altText:"Personalize with Audio Variables"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!0}]:[{id:"fall-24-auto-context",title:"Auto-Titles, Summaries, and Chapters",icon:u.createElement(W.r,null),description:"Entice your viewers to click play",asset:u.createElement(U,{videoName:"fall-24-auto-context.webm"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-quick-edit",title:"Easy and Intuitive Editor",icon:u.createElement(B.l,null),description:"Trim and transcript editing in one place",asset:u.createElement(U,{videoName:"fall-24-quick-edit.webm"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1},{id:"fall-24-write-doc",title:"Auto-Draft Docs, Bug Reports, and Messages",icon:u.createElement(D.m,null),description:"Turn your video into a doc to work faster",asset:u.createElement(U,{videoName:"fall-24-write-doc.webm"}),isAiFeature:!0,workspaceHasFeature:e,isBeta:!1}],z=({workspace:e,skipModal:t})=>{let{startSeasonalLaunchTour:n,isActive:a,shouldShowTour:r,setShouldShowTour:i}=(0,d.V)(),{setHideBackgroundPreview:l}=(0,o.dPl)();return u.createElement(q,{setHideBackgroundPreview:l,startSeasonalLaunchTour:n,isActive:a,workspace:e,skipModal:t,shouldShowTour:r,setShouldShowTour:i})},q=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:n=!1,workspace:a,shouldShowTour:r,setShouldShowTour:i,skipModal:l=!1})=>u.createElement(g.$,{feature:E.L0.SeasonalLaunch,errorType:v.s.SILENT},u.createElement(G,{setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:n,workspace:a,shouldShowTour:r,setShouldShowTour:i,skipModal:l})),G=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:n,workspace:r,shouldShowTour:o,setShouldShowTour:d,skipModal:g})=>{let{value:v}=(0,b.h)(_.aM.ALLOWS_AI),E=(0,s.W9)(h.EjA),S=!![C.$.FALL_24_New_User,C.$.FALL_24_EXISTING_WORKSPACE_AI_TRIAL,C.$.FALL_24_HARD_UPSELL].includes(E),N=(0,l.useCurrentUserSelector)(e=>e.persona?.persona_v1?.role,null),[I,x]=(0,u.useState)(!n&&!g),L=(0,u.useMemo)(()=>({ai_addOn:v,role:r?.memberRole,persona:N,workspace_type:r?.type,tour_is_enabled:!1,variant:E}),[v,r?.memberRole,r?.type,N,!1,E]),{title:R,subtitle:P,features:F}=V({variant:E,hasAiAddOn:v}),D=(0,m.k6)();(0,u.useEffect)(()=>{e&&e(!0)},[e,n]);let W=(0,c.st)(),[B,$]=(0,u.useState)(0),M=B===F.length-1,[U,H]=(0,u.useState)(!1),z=e=>{H(!0),$(e),y.track(a.oSv,{...L})},q=t=>{y.track(a.HIB,{...L,source:t}),(0,p.v3)("seasonal.launch.ftux.modal.closed",{source:t}),W(k.BR.SEASONAL_LAUNCH_MODAL_VARIANTS),e&&e(!1),x(!1),d&&d(!1)},G=()=>{q(),D.push("?reminderToRecord=saveMeetingTime")};return((0,u.useEffect)(()=>{},[o,e,g,t,!1]),(0,u.useEffect)(()=>{!I&&e&&e(!1)},[I,e]),r)?u.createElement(f.YMn,{isOpen:I},u.createElement(f.pUH,{maxWidth:110,maxHeight:"80vh",onCloseClick:()=>q("close-button"),isOpen:I,className:i()(T.modal)},u.createElement(f.ggW,{rows:["1fr","auto"]},u.createElement(f.W20,{paddingX:"xlarge",paddingTop:"xlarge",paddingBottom:"90px"},u.createElement(f.xMy,{alignment:"center"},u.createElement(f.LZC,{bottom:1},u.createElement(f.ggW,{gap:"2px"},u.createElement(f.xvT,{size:"heading-md",fontWeight:"bold"},R),u.createElement(f.W20,{marginTop:-3},u.createElement(f.TRl,{variant:"symbol",maxWidth:"20px",brand:"ai"})))),u.createElement(f.LZC,{bottom:4},u.createElement(f.xvT,{color:"bodyDimmed",size:"body-lg"},P))),u.createElement(f.ggW,{gap:5,alignItems:"start",columns:[45,"1fr"]},u.createElement(f.ggW,{gap:2,rows:"auto"},F.map((e,t)=>u.createElement("span",{key:t},u.createElement(A,{collapsible:!1,description:e.description,featureId:e.id,hasAiAddOn:v,hasChangedSteps:U,icon:e.icon,index:t,isActive:t===B,memberRole:r.memberRole,personaRole:N,showFeature:z,title:e.title,tourIsEnabled:!1,workspaceType:r.type,isBeta:e.isBeta})))),u.createElement(f.W20,{width:"400px",height:w,position:"relative"},F.map((e,t)=>{let n=t===B;return u.createElement("span",{className:i()(T.assetContainer,n?T.visible:T.invisible,U&&T.animateVisibility),key:e.id},u.createElement("div",null,e.asset))}))),u.createElement(f.LZC,{bottom:"large"})),u.createElement(f.W20,{id:"seasonal-launch-modal-footer",paddingY:"medium",paddingX:"xlarge",borderSide:"top",className:i()(T.footer)},u.createElement(f.Pag,{justifyContent:"center"},u.createElement(f.I7m,null,u.createElement(f.ggW,{gap:1},S&&u.createElement(O,{dismissModal:q,eventProps:L}),u.createElement(f.zxk,{variant:S?"neutral":"primary",size:"large",onClick:()=>M?G():z(B+1)},M?"Get started":"Next")))))))):null}},20980:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var a=n(58453),r=n(5383);let i=(0,r.r)(()=>n.e(3445).then(n.bind(n,58399)).then(e=>({default:e.WebPermissionsBanner}))),l=e=>a.createElement(a.Suspense,{fallback:null},a.createElement(i,{...e}))},41906:function(e,t,n){"use strict";n.d(t,{V:function(){return E},u:function(){return h}});var a=n(20887),r=n(16175),i=n(86510),l=n(30495),o=n(58453),s=n(55049),c=n(78934),d=n(20409),u=n(33266),m=n(58466),p=n(2165),g=n(36897),v=n(90885);function f({videoId:e,videoName:t,analyticsSource:n,currentSeconds:f=0,showTutorial:h=!1,variant:E="neutral",isTextButton:_}){let k=(0,i.U)(),b=(0,p.MS)(),y=function(e,{currentSeconds:t,nameForSlug:n}){if((0,v.no)(window.location.pathname)){let[,e]=location.pathname.match(/\/a\/([a-z0-9]{32})*/)??[];if(e)return(0,v.HA)(e,t)}return(0,v.rx)(e,{currentSeconds:t,nameForSlug:n})}(e,{currentSeconds:f,nameForSlug:k?t:null}),w=(0,o.useRef)(null),[S,C]=(0,o.useState)((0,c.R)({isCopied:!1,expirationDate:null})),[N,T]=(0,s.Z)(r.GA);function I(){let[t,r]=(0,d.t1)({videoUrl:w?.current?.value});C((0,c.R)({isCopied:!0})),setTimeout(()=>{C((0,c.R)({isCopied:!1}))},2e3),h&&T(!1),g.track(a.tRo,{video_id:e,share_id:r,source:n,seconds:f>=1?f:void 0}),g.trackSprigEvent("copy-link-clicked")}let A=o.createElement("input",{className:"none",ref:w,readOnly:!0,value:y});return(0,l.b)(()=>{C((0,c.R)({isCopied:!1}))}),o.createElement(o.Fragment,null,h&&N&&o.createElement(()=>o.createElement(o.Fragment,null,o.createElement(u.W20,{position:"absolute",top:0,left:0,right:0,bottom:"-1px",backgroundColor:"rgba(75, 66, 173, 0.8)",zIndex:2}),o.createElement("div",{className:"copy-link-button_animatedArrow_33N"},o.createElement("svg",{width:114,height:119,viewBox:"0 0 114 119",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{className:"copy-link-button_styledArrow_2Au",d:"M81.1026 17.1876C82.9771 11.8374 87.1421 1.30131 88.8057 1.95893C90.4692 2.61656 97.4592 12.9136 100.746 17.98",stroke:"white",strokeWidth:"3",strokeMiterlimit:"1.5"}),o.createElement("path",{className:"copy-link-button_styledLine_3N7",d:"M2 92.1658C21.3572 99.2581 60.9676 104.849 64.5522 70.4755C65.2016 64.2483 58.6091 52.6449 51.6939 57.137C45.3954 61.2285 52.8272 72.55 68.0603 69.6427C89.4236 65.5654 100.769 34.5125 88.7188 4.16391",stroke:"white",strokeWidth:"3"})))),null),_?o.createElement(u.W20,{backgroundColor:"background",position:"relative",radius:"full",zIndex:2},A,o.createElement(u.ua7,{tabIndex:-1,content:S,placement:"bottomCenter"},o.createElement(u.hU,{altText:"Copy link",icon:o.createElement(m.w,null),onClick:I}))):o.createElement(u.W20,null,A,o.createElement(u.ua7,{tabIndex:-1,content:S,placement:"bottomCenter"},o.createElement(u.zxk,{variant:E,onClick:I,size:b?"medium":"small"},o.createElement(u.JO$,{icon:o.createElement(m.w,null),color:"primary"===E?"background":"body",size:b?"3":"2"})))))}let h=e=>o.createElement(f,{...e,isTextButton:!0}),E=e=>o.createElement(f,{...e,isTextButton:!1})},43249:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var a=n(58453),r=n(33266);let i=({isOpen:e,title:t,subtitle:n,closeModal:i,discardChanges:l})=>a.createElement(r.u_l,{id:"cancelModal",title:t,isOpen:e,onCloseClick:i,onBackgroundClick:i,mainButton:a.createElement(r.zxk,{id:"cancelDangerButton",variant:"danger",onClick:l},"Discard changes"),secondaryButton:a.createElement(r.zxk,{id:"continueEditingButton",onClick:i},"Continue editing")},n)},12051:function(e,t,n){"use strict";n.d(t,{O:function(){return X},X:function(){return J}});var a=n(20887),r=n(32910),i=n.n(r),l=n(16032),o=n(39775),s=n(82548),c=n(11903),d=n(47840),u=n(6854),m=n(58453),p=n(50679),g=n(76559),v=n(23904),f=n(59279),h=n(33266),E=n(25051),_=n(45798),k=n(15358),b=n(74544),y=n(38838),w=n(95282),S=n(36897),C=n(28555);let N="400px";var T=n(87552),I={modal:"seasonal-launch-modal_modal_2vP",featureContainer:"seasonal-launch-modal_featureContainer_1JO",border:"seasonal-launch-modal_border__l0",activeBorder:"seasonal-launch-modal_activeBorder_23U",inactiveBorder:"seasonal-launch-modal_inactiveBorder_3Ay",featureContent:"seasonal-launch-modal_featureContent_3Va",animateHeight:"seasonal-launch-modal_animateHeight_27A",expandedContent:"seasonal-launch-modal_expandedContent_Mv1",collapsedContent:"seasonal-launch-modal_collapsedContent_2PU",animateVisibility:"seasonal-launch-modal_animateVisibility_186",text:"seasonal-launch-modal_text_1kW",isActive:"seasonal-launch-modal_isActive_uov",visible:"seasonal-launch-modal_visible_1EE",invisible:"seasonal-launch-modal_invisible_1Md",openCloseIcon:"seasonal-launch-modal_openCloseIcon_3tj",open:"seasonal-launch-modal_open_QAv",videoContainer:"seasonal-launch-modal_videoContainer_20e",assetContainer:"seasonal-launch-modal_assetContainer_fGX",footer:"seasonal-launch-modal_footer_1jl"};let A=(e,t)=>{let n=document.getElementById("seasonal-launch-modal-footer"),a=n?.getBoundingClientRect().top;(0,m.useEffect)(()=>{let{bottom:n}=e.current?.getBoundingClientRect()||{};t&&n&&a&&n>a&&e.current?.scrollIntoView({behavior:"smooth",block:"center"})},[t])},x=e=>{let{description:t,featureId:n,hasAiAddOn:r,hasChangedSteps:l,icon:o,index:s,isActive:c,collapsible:d=!0,memberRole:u,personaRole:p,showFeature:v,title:f,tourIsEnabled:E,workspaceType:_}=e;(0,m.useEffect)(()=>{c&&(S.track(a.bco,{ai_addOn:r,role:u,persona:p,workspace_type:_,tour_is_enabled:E,feature:n}),(0,g.v3)("seasonal.launch.ftux.feature.shown",{feature:n}))},[c,n,u,p,_,E,r]);let k=(0,m.useRef)(null);A(k,c);let b=d?i()("text:left",l&&I.animateVisibility,I.text,c&&I.isActive,c?I.visible:I.invisible):"text:left";return m.createElement("div",{ref:k},m.createElement(h.W20,{as:"button",onClick:()=>v(s),className:i()(I.featureContainer)},m.createElement("div",{className:i()(I.border,I.activeBorder,c&&I.visible)}),m.createElement("div",{className:i()(I.border,I.inactiveBorder,!c&&I.visible)}),m.createElement("div",{className:i()(I.featureContent,d&&c&&I.expandedContent,d&&!c&&I.collapsedContent,l&&I.animateHeight)},m.createElement(h.ggW,{gap:2,alignItems:"start"},m.createElement(h.JO$,{icon:o,color:"body"}),m.createElement("div",null,m.createElement(h.ggW,{justifyContent:"space-between"},m.createElement(h.xvT,{size:"body-md",fontWeight:"bold"},f),d&&m.createElement(h.JO$,{icon:m.createElement(T.I,null),color:"bodyDimmed",className:i()(I.openCloseIcon,c&&I.open)})),m.createElement("div",{className:b},m.createElement(h.LZC,{top:1,bottom:0},m.createElement(h.xvT,{size:"body-md",fontWeight:"book"},t))))))))};var L=n(51110),R=n(45493),P=n(86357),F=n(76788),O=n(70211),D=n(72024),W=n(82985),B=n(88419);let $="seasonal.launch.ftux.cta.clicked",M=()=>m.createElement(h.zxk,{size:"large",isDisabled:!0},"You have access"),U=({dispatch:e,isAiFeature:t,dismissModal:n,eventProps:r})=>{let i=t?B.qy.ADD_ON:B.qy.ROLE;return m.createElement(h.zxk,{size:"large",variant:"primary",onClick:()=>{S.track(a.Sv6,{...r,cta:"request-upgrade",upgrade_type:i}),(0,g.v3)($,{cta:"request-upgrade",upgrade_type:i}),e((0,O.h7)({modalType:R.pU,options:{upgradeType:i}})),n("request-upgrade-cta")}},"Request upgrade")},V=({dispatch:e,plan:t,isPureTrial:n,dismissModal:r,eventProps:i})=>{let l=(0,F.R)();return t===b.UK||n?m.createElement(h.zxk,{variant:"primary",size:"large",htmlTag:"a",onClick:e=>{e.preventDefault(),(0,g.v3)($,{cta:"plan-upgrade",upgrade_type:"plan"}),S.track(a.Sv6,{...i,cta:"plan-upgrade",upgrade_type:"plan"},()=>{r("plan-upgrade-cta"),(0,D.H)({isFourthPlanEligible:l})})}},"Buy now and save"):m.createElement(h.zxk,{variant:"primary",size:"large",onClick:()=>{S.track(a.Sv6,{...i,cta:"plan-upgrade",upgrade_type:"ai"}),(0,g.v3)($,{cta:"plan-upgrade",upgrade_type:"ai"}),e((0,O.h7)({modalType:R.Gc,options:{source:"seasonal-launch-modal"}})),r("ai-upgrade-cta")}},"Upgrade now")},H=({eventProps:e,includeUtmQueryParams:t})=>{let n=`${L.cu}${L.xJ}`;return t&&(n+="?utm_source=ftux&utm_medium=app&utm_campaign=loom-for-sales"),m.createElement(h.zxk,{variant:"primary",size:"large",htmlTag:"a",href:n,target:"_blank",onClick:()=>{(0,g.v3)($,{cta:"contact-sales"}),S.track(a.Sv6,{...e,cta:"contact-sales"})}},"Contact sales")},z=({isEnterpriseFeature:e,isAiFeature:t,workspaceHasFeature:n,role:a,plan:r,isPureTrial:i,isSalesLedAccount:l,dismissModal:o,eventProps:s,includeUtmQueryParams:c})=>{let d=(0,p.I0)(),u=!n&&(e||t&&l),g=a===W.N||a===W.b3||a===W.dt&&!n;return u&&(!g||e)?m.createElement(H,{eventProps:s,includeUtmQueryParams:c}):g?m.createElement(P.e,{alternate:m.createElement(M,null)},m.createElement(U,{isAiFeature:t,dispatch:d,dismissModal:o,eventProps:s})):n?m.createElement(M,null):m.createElement(P.e,{alternate:m.createElement(M,null)},m.createElement(V,{dispatch:d,plan:r,isPureTrial:i,dismissModal:o,eventProps:s}))};var q=n(53975),G=n(89712),j=n(89390);let Z=({videoName:e})=>{let t=`https://cdn.loom.com/assets/img/seasonal-launch/${e}`;return m.createElement("div",{className:I.videoContainer},m.createElement("video",{src:t,loop:!0,autoPlay:!0,muted:!0,height:N}))},Y=({hasAiAddOn:e})=>[{id:"auto-title",title:"Record better videos, instantly",icon:m.createElement(q.K,null),description:"Loom AI automatically picks the best title for your video, and adds a summary plus time-stamped chapters",asset:m.createElement(Z,{videoName:"auto-title.webm"}),isAiFeature:!0,workspaceHasFeature:e},{id:"write-doc",title:"Never write a doc or bug report again",icon:m.createElement(G.A,null),description:"Record your video and then let Loom AI handle writing the SOP, Jira issue, and more...",asset:m.createElement(Z,{videoName:"write-doc.webm"}),isAiFeature:!0,workspaceHasFeature:e},{id:"silence-removal",title:"Send a crystal clear message every time",icon:m.createElement(j.Y,null),description:"Loom AI removes filler words and silences from your video in one click",asset:m.createElement(Z,{videoName:"silence-removal.webm"}),isAiFeature:!0,workspaceHasFeature:e}],J=({currentUserIsOwner:e,workspace:t,skipModal:n})=>{let{startSeasonalLaunchTour:a,isActive:r,shouldShowTour:i,setShouldShowTour:l}=(0,u.V)(),{setHideBackgroundPreview:o}=(0,s.dPl)();return m.createElement(X,{currentUserIsOwner:e,setHideBackgroundPreview:o,startSeasonalLaunchTour:a,isActive:r,workspace:t,skipModal:n,shouldShowTour:i,setShouldShowTour:l,isOnSharePage:!0})},X=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:n=!1,currentUserIsOwner:a=!1,workspace:r,shouldShowTour:i,setShouldShowTour:l,skipModal:o=!1,isOnSharePage:s=!1})=>m.createElement(v.$,{feature:E.L0.SeasonalLaunch,errorType:f.s.SILENT},m.createElement(K,{setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:n,currentUserIsOwner:a,workspace:r,shouldShowTour:i,setShouldShowTour:l,skipModal:o,isOnSharePage:s})),K=({setHideBackgroundPreview:e,startSeasonalLaunchTour:t,isActive:n,currentUserIsOwner:r,workspace:s,shouldShowTour:u,setShouldShowTour:v,skipModal:f,isOnSharePage:E})=>{let T=(0,l.useCurrentUserSelector)(e=>(0,o.Y)(e),!1),A=(0,l.useCurrentUserSelector)(e=>e.memberships?.[0]?.organization.is_pure_trial??!1,!1),L=(0,d.e)(),R=(0,l.useCurrentUserSelector)(e=>e.persona?.persona_v1?.role,null),P=(0,p.v9)(w.Dl),F=(0,p.v9)(w.zh),O=!F?.phrases?.length,D=(0,y.dN)(P)&&!O,[W,B]=(0,m.useState)(!n&&!f),$=s?.organization_properties?.salesSupportType===_.$v||(0,C._C)(s),M=s?.type===b.Fs,U=r&&!M&&D&&(T||L||A),V=(0,m.useMemo)(()=>({ai_addOn:T,role:s?.memberRole,persona:R,workspace_type:s?.type,tour_is_enabled:U}),[T,s,R,U]),H=Y({hasAiAddOn:T});(0,m.useEffect)(()=>{e&&e(!0)},[e,n]);let q=(0,c.st)(),[G,j]=(0,m.useState)(0),Z=G===H.length-1,J=H[G],[X,K]=(0,m.useState)(!1),Q=e=>{K(!0),j(e)},ee=t=>{S.track(a.HIB,{...V,source:t}),(0,g.v3)("seasonal.launch.ftux.modal.closed",{source:t}),q(k.BR.SEASONAL_LAUNCH_MODAL),e&&e(!1),B(!1),v&&v(!1)},et=()=>{ee(),U&&t()};if((0,m.useEffect)(()=>{f&&U&&u&&(e&&e(!1),B(!1),t())},[u,e,f,t,U]),(0,m.useEffect)(()=>{!W&&e&&e(!1)},[W,e]),!s)return null;let en=Z?U&&E?"Take a tour":"Done":"Next feature";return m.createElement(h.YMn,{isOpen:W},m.createElement(h.pUH,{maxWidth:110,maxHeight:"80vh",onCloseClick:()=>ee("close-button"),isOpen:W,className:i()(I.modal)},m.createElement(h.ggW,{rows:["1fr","auto"]},m.createElement(h.W20,{paddingX:"xlarge",paddingTop:"xlarge",paddingBottom:"90px"},m.createElement(h.xMy,{alignment:"center"},m.createElement(h.LZC,{bottom:1},m.createElement(h.ggW,{gap:"2px"},m.createElement(h.xvT,{size:"heading-md",fontWeight:"bold"},"Auto-enhance your videos, for less"),m.createElement(h.W20,{marginTop:-3},m.createElement(h.TRl,{variant:"symbol",maxWidth:"20px",brand:"ai"})))),m.createElement(h.LZC,{bottom:4},m.createElement(h.xvT,{color:"bodyDimmed",size:"body-lg"},"Try Loom AI for free today and buy before prices increase next month"))),m.createElement(h.ggW,{gap:5,alignItems:"start",columns:[45,"1fr"]},m.createElement(h.ggW,{gap:2,rows:"auto"},H.map((e,t)=>m.createElement("span",{key:t},m.createElement(x,{collapsible:!1,description:e.description,featureId:e.id,hasAiAddOn:T,hasChangedSteps:X,icon:e.icon,index:t,isActive:t===G,memberRole:s.memberRole,personaRole:R,showFeature:Q,title:e.title,tourIsEnabled:U,workspaceType:s.type})))),m.createElement(h.W20,{width:"400px",height:N,position:"relative"},H.map((e,t)=>{let n=t===G;return m.createElement("span",{className:i()(I.assetContainer,n?I.visible:I.invisible,X&&I.animateVisiblity),key:e.id},m.createElement("div",null,e.asset))}))),m.createElement(h.LZC,{bottom:"large"})),m.createElement(h.W20,{id:"seasonal-launch-modal-footer",paddingY:"medium",paddingX:"xlarge",borderSide:"top",className:i()(I.footer)},m.createElement(h.Pag,{justifyContent:"center"},m.createElement(h.I7m,null,m.createElement(h.ggW,{gap:1},m.createElement(z,{isEnterpriseFeature:J.isEnterpriseFeature??!1,isAiFeature:J.isAiFeature??!1,workspaceHasFeature:J.workspaceHasFeature,role:s.memberRole,plan:s.type,isPureTrial:A,isSalesLedAccount:$,dismissModal:ee,eventProps:V,includeUtmQueryParams:J.includeUtmQueryParamsInCta??!1}),m.createElement(h.zxk,{size:"large",onClick:()=>Z?et():Q(G+1)},en))))))))}},78485:function(e,t,n){"use strict";n.d(t,{j:function(){return o}});var a=n(58453),r=n(32585),i=n(33266),l=n(36897);let o=({isOpen:e,isOverwriting:t,onBackgroundClick:n,onCancelClick:o,onCloseClick:s,onOverwriteClick:c})=>((0,a.useEffect)(()=>{e&&(0,l.track)("Showing Weave Save Conflict Modal")},[e]),r.createPortal(a.createElement(i.u_l,{mainButton:a.createElement(i.zxk,{hasLoader:t,isDisabled:t,onClick:()=>{(0,l.track)("Save Conflict Modal - Clicked Overwrite"),c(!e)},variant:"primary"},"Overwrite"),secondaryButton:a.createElement(i.zxk,{isDisabled:t,onClick:()=>{(0,l.track)("Save Conflict Modal - Clicked Cancel"),o(!e)}},"Cancel"),title:"⚠️ Save Conflict!",isOpen:e,onCloseClick:()=>{(0,l.track)("Save Conflict Modal - Clicked Modal Close"),s(!e)},onBackgroundClick:()=>{(0,l.track)("Save Conflict Modal - Clicked Background Close"),n(!e)}},a.createElement(i.xvT,null,"Clips or edits have changed since you started editing"),a.createElement(i.LZC,{bottom:"medium"}),a.createElement(i.xvT,null,"You can choose to overwrite these changes, or refresh the page to see the latest (this will discard your current changes)")),document.body))},66956:function(e,t,n){"use strict";n.d(t,{T:function(){return v}});var a=n(20887),r=n(45493),i=n(82548),l=n(56694),o=n(58453),s=n(50679),c=n(70211),d=n(33266),u=n(82795),m=n(2165),p=n(36897);let g=({userIsMemberOfVideoWorkspace:e,onClick:t})=>{let n=(0,m.MS)();return o.createElement("div",{className:"relative"},o.createElement(d.zxk,{"data-testid":"share-modal-button",variant:e?"primary":"neutral",icon:o.createElement(u.X,null),onClick:t,size:n?"medium":"small"},"Share"))},v=({isLoggedIn:e,videoId:t,source:n})=>{let u=(0,s.I0)(),{setVideo:m,video:{organizationId:v}}=(0,i.dPl)(),f=(0,i.nn3)(t),h=(0,l.hP)(),E=null;return(h?.id?E=Number(h.id)===v:e||(E=!1),null===E)?null:o.createElement(d.ua7,{content:"Share video",placement:"bottomCenter"},o.createElement(g,{userIsMemberOfVideoWorkspace:E,onClick:()=>{f?.pause(),u((0,c.h7)({modalType:r.cc,options:{source:"share_button",videoId:t,setVideo:m}})),p.track(a.WT_,{video_id:t,source:n})}}))}},37298:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var a=n(92714),r=n(58453),i=n(33266),l=n(36197);let o=a.Z.div`
  z-index: 1; // to go above the non-image avatar elements
  padding: 2px; // visible border
  margin-left: -8px; // overlap with previous
  border-radius: var(--lns-radius-full);
  background-color: var(--lns-color-background);
  position: relative;
  transition: background-color 0.3s ease 0s;

  // HACK(tatiana, avatar-container): Pseudo element is necessary to prevent visual bug given limitations of the colours we're using: https://www.loom.com/share/14601cc42a9a45688b8b84df2648011c
  &[data-style-id='avatar-container']::before,
  &[data-style-id='avatar-container']::after,
  &[data-style-id='task-responses']::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: -4;
    background-color: var(--lns-color-backgroundSecondary);
    border-radius: inherit;
    transition: inherit;
  }

  ${e=>e.size&&`width: ${8*e.size+4}px;
  height: ${8*e.size+4}px;`}
`,s=({count:e,size:t})=>r.createElement(o,{size:t},r.createElement(i.qEK,{size:t,letter:`+${Math.min(e,99)}`})),c=({avatars:e=[],size:t=3,dataStyleId:n})=>{if(0===e.length)return null;let a=e.length,i=a>3;if(i){let t=e.slice(0,2);e=t}return r.createElement("div",{className:"flex ml:small mr:small"},e.map((e,a)=>e?r.createElement(o,{key:a,size:t,"data-style-id":n},r.createElement(l.uV,{size:t,avatar:e.thumb,name:e.name})):null),i?r.createElement(s,{count:a-2,size:t}):null)}},90903:function(e,t,n){"use strict";n.d(t,{l:function(){return ef}});var a=n(70276),r=n(92714),i=n(32950),l=n(29903),o=n(92245),s=n(56694),c=n(58830),d=n.n(c),u=n(58453),m=n(51155),p=n(58216),g=n(23904),v=n(59279),f=n(58789),h=n(33266),E=n(14001),_=n(36792),k=n(25051),b=n(37298),y=n(83445),w=n(55684);let S={},C=(0,y.Ps)`
    query GetViewerInsights($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      __typename
      organization_id
      current_user_is_owner
      show_analytics_to_viewer
      views {
        total
        distinct
        named {
          avatar
          firstName
        }
      }
    }
  }
}
    `;var N=n(83895),T=n(20887),I=n(32910),A=n.n(I),x=n(82548),L=n(2200),R=n(58033),P=n(82792),F=n(42691),O=n.n(F),D=n(53782),W=n(50679),B=n(54437),$=n(37984),M=n(33136),U=n(30187),V=n(58),H=n(70835),z=n(85885),q=n(63432),G=n(14866),j=n(51458),Z=n.p+"img/engagement-insights-no-views-20456271cb7d37e18a37.svg",Y=n(89881),J=n(5617),X=n(40329),K=n(31078),Q=n(36197),ee={modal:"viewer-insights_modal_2K6",small:"viewer-insights_small_3Kt",viewerItem:"viewer-insights_viewerItem_2Uc",isClickable:"viewer-insights_isClickable_1Vi",reactionsAndComments:"viewer-insights_reactionsAndComments_3ma",upgradeHover:"viewer-insights_upgradeHover_Wvr"},et=n(67142),en=n(4843);let ea=({children:e,variant:t})=>u.createElement("div",{className:A()(ee.modal,{[ee.small]:"small"===t})},e),er=({condition:e,wrapper:t,children:n})=>e?t(n):n,ei=()=>u.createElement(ea,{variant:"small"},u.createElement("article",{className:"px:large py:medium my:large flex flexDirection:column items:center"},u.createElement("img",{src:Z,width:80,height:80,className:"mb:large",alt:"No views yet"}),u.createElement(h.xvT,{alignment:"center",fontWeight:"bold"},"Share your video with someone to see their engagement!"))),el=({hasEngagementInsights:e,showPaywall:t,openInsights:n})=>{let a=(0,R.I)(),{loading:r,hasPriceElasticityAssignment:i}=(0,P.W)();return e||t?r||i||!a?u.createElement("div",{className:"borderTop pt:medium px:large mb:medium"},u.createElement(er,{condition:t,wrapper:e=>u.createElement(L.Z,{analyticsEvent:T.FdO,feature:U.lD.ENGAGEMENT_INSIGHTS},u.createElement(h.LZC,{top:1}),u.createElement("div",{"data-testid":"engagement-insights-paywall"},u.createElement("div",{className:A()(ee.upgradeHover)},e)))},u.createElement(h.zxk,{onClick:n,hasFullWidth:!0,isDisabled:!e,icon:u.createElement(E.e,null)},"See Engagement"))):u.createElement("div",{className:"borderTop pt:medium px:large my:medium"},u.createElement(J.P,{tooltipText:"See the metrics behind how viewers interact and engage with your\n                videos.",tooltipDirection:"bottomCenter"},u.createElement(h.zxk,{onClick:n,hasFullWidth:!0,isDisabled:!e,icon:u.createElement(E.e,null)},u.createElement(h.ggW,{gap:"small"},"See Engagement",u.createElement(h.W20,{width:3,height:3,backgroundColor:"upgrade",className:"flex items:center justify:center upgradeIcon",paddingTop:"1px"},u.createElement(h.JO$,{color:"backdropDark",size:2,icon:u.createElement(z.R,null)})))))):null},eo=({viewer:e,hasEngagementInsights:t,onClick:n})=>{let a=(0,en.O)(e)?e.commentCount:0,r=(0,en.O)(e)?e.reactionCount:0;return u.createElement("article",{className:A()(ee.viewerItem,{[ee.isClickable]:t}),onClick:n,tabIndex:0},u.createElement(Q.uV,{...e.user}),u.createElement("h4",{className:"ellipsis weight:bold"},e.user.name||"Anonymous"),t&&u.createElement("ul",{className:ee.reactionsAndComments},u.createElement("li",null,u.createElement(h.JO$,{icon:u.createElement(V.j,null),color:"bodyDimmed",altText:"comments count"}),u.createElement("label",null,a)),u.createElement("li",null,u.createElement(h.JO$,{icon:u.createElement(H.x,null),color:"bodyDimmed",altText:"reactions count"}),u.createElement("label",null,r))))};function es({closeModal:e}){let t=(0,W.I0)(),{video:{id:n,views:a}}=(0,x.dPl)(),r=(0,W.v9)(e=>({isInTrimMode:e.trimming?.in_trim_mode,areViewerInsightsOpen:(0,Y.F)(e),showPaywall:(0,$.R5)(e,[q.g7,q.fQ]),hasEngagementInsights:(0,$.MU)(e,q.L7),views:a})),{isInTrimMode:i,areViewerInsightsOpen:l,showPaywall:o,hasEngagementInsights:s}=r;(0,D.y1)("esc",t=>{t.preventDefault(),t.stopPropagation(),O()(e,2500)},{keyup:!0});let{leaveTrim:c}=(0,X.Ey)(),m=a?.total||0,p=a?.distinct||0,{data:g,loading:v}=(0,K.uB)({variables:{first:50,videoId:n},client:(0,M.yy)(),skip:!s||!m}),{viewersWithEngagements:f}=(0,en.R)(g),E=(0,et.p)(a),_=s?f:E;if(!m)return u.createElement(ei,null);let k=s&&v,b=_.slice(0,50),y=n=>{t((0,j.L)(n)),t((0,G.zn)(!1)),t((0,B.bl)()),t((0,B.m)()),i&&c(),l||(t((0,j.Z)()),(0,N.b$)()),e()},w=`${m} total ${d()("view",Number(m))}, ${p} unique ${d()("viewer",Number(p))}`;return u.createElement(ea,{variant:s?void 0:"small"},u.createElement("div",{className:"borderBottom px:large"},u.createElement(h.xvT,{variant:"title",as:"h2"},s?"Engagement":"Viewer"," Insights"),u.createElement(h.xvT,{color:"bodyDimmed",className:"mt:small mb:medium",as:"p"},w)),u.createElement("div",{className:"modal-viewer-list px:small py:medium thin-scrollbars overflow:auto"},k?u.createElement("div",{className:"loading text:center py:xlarge"},u.createElement(h.aNw,{size:"large"})):b.map((e,t)=>u.createElement(eo,{key:t,viewer:e,hasEngagementInsights:s,onClick:s?()=>y(e):void 0}))),u.createElement(el,{showPaywall:o,hasEngagementInsights:s,openInsights:()=>y(null)}))}let ec=e=>{let t,n,a,r=0,i=[];if(e?.getVideo?.__typename==="RegularUserVideo"&&e.getVideo.views){r=e.getVideo.views.total;let l=e.getVideo.views.distinct;if(t=e.getVideo.organization_id,n=e.getVideo.current_user_is_owner,a=e.getVideo.show_analytics_to_viewer,e.getVideo.views.named){let t=e.getVideo.views.named.filter(e=>null!==e).map(e=>({avatar:e?.avatar??void 0,firstName:e?.firstName??void 0}));i=(function(e=[],t=0){let n=e.length;if(n>=3)return e.slice(0,3);let a=t-n-Math.max(0,t-3);if(a<=0)return e;let r=[...e];for(let e=0;e<a;e++)r.push({});return r})(t,l).map(e=>({thumb:e.avatar,name:e.firstName}))}}return{totalViews:r,viewerInfoForAvatars:i,organizationId:t,currentUserIsOwner:n,showAnalyticsToViewer:a}},ed=(0,r.Z)(h.Avr)`
  padding: var(--lns-space-xsmall);
  height: fit-content;
  ${e=>"large"===e.sizeOfButton?`
  &:hover {
    background-color: var(--lns-color-backgroundSecondary);
    box-shadow: 0 0 0 1px var(--lns-color-border);
  }

  &:not(:hover) [data-style-id='avatar-container']::after {
    background-color: unset;
  }

  &:hover [data-style-id='avatar-container']::after {
      background-color: var(--lns-color-backgroundSecondary);
    }
  }`:`
  &:hover {
    background-color: unset;
    box-shadow: 0 0 0 1px var(--lns-color-border);
  }`}
`;function eu({videoId:e,size:t="default"}){let{featureLoadedRef:n}=(0,f.kX)(),{password:r}=(0,l.u)(),{data:c,loading:d}=function(e){let t={...S,...e};return w.a(C,t)}({variables:{videoId:e,password:r},onError:e=>{throw e},onCompleted:t=>{if(t?.getVideo?.__typename!=="RegularUserVideo")throw p.warning("Invalid viewer insights data",{videoId:e},{feature:k.L0.EngagementInsights}),Error("Invalid viewer insights data")}}),{totalViews:g,viewerInfoForAvatars:v,organizationId:h,currentUserIsOwner:E,showAnalyticsToViewer:_}=(0,u.useMemo)(()=>ec(c),[c]),b=(0,s.p$)(h),y=(0,o.l)(e),T=y||E,I=(0,u.useRef)(!1),[A,x]=(0,u.useState)(!1),L=()=>R(!1),R=t=>{t&&!I.current&&((0,N.rw)(e),I.current=!0),x(t)},{triggerProps:P,layerProps:F,renderLayer:O}=(0,m.sJ)({isOpen:A,triggerOffset:"large"===t?8:4,onOutsideClick:L,auto:!0,possiblePlacements:["bottom-center","top-center"]}),D={...F,style:{...F.style,zIndex:1e3}};return d||!(_||T)?null:b&&_||T?u.createElement("div",{ref:n},u.createElement(i.z,{query:`(min-width: ${a.wV}px)`},u.createElement("div",{ref:P.ref},u.createElement(ed,{onKeyDown:e=>{("Enter"===e.key||"Space"===e.code)&&(e.preventDefault(),R(!A))},onClick:()=>R(!A),sizeOfButton:t},"large"===t?u.createElement(em,{viewerInfoForAvatars:v,totalViews:g}):u.createElement(ep,{viewerInfoForAvatars:v,totalViews:g})))),O(u.createElement(ev,{show:A,...D},u.createElement(es,{closeModal:L})))):u.createElement("div",{ref:n},u.createElement(i.z,{query:`(min-width: ${a.wV}px)`},u.createElement(eg,{totalViews:g})))}let em=({viewerInfoForAvatars:e,totalViews:t})=>{let n=e.length>0;return u.createElement(h.ggW,null,n?u.createElement(b.O,{avatars:e,size:5,dataStyleId:"avatar-container"}):u.createElement("div",{className:"flex mr:small ml:xsmall"},u.createElement(h.W20,{backgroundColor:"backgroundSecondary",radius:"full",width:5,height:5},u.createElement(h.xMy,null,u.createElement(h.JO$,{icon:u.createElement(E.e,null)})))),u.createElement(h.ggW,{autoFlow:"row",justifyItems:"start"},u.createElement(h.xvT,{fontWeight:"bold"},t," ",d()("view",Number(t))),u.createElement(h.ggW,null,u.createElement(h.xvT,{color:"bodyDimmed"},"View engagement"),u.createElement(h.JO$,{icon:u.createElement(_.u,null),color:"bodyDimmed"}))))},ep=({viewerInfoForAvatars:e,totalViews:t})=>{let n=e.length>0;return u.createElement(h.W20,{height:3.5,paddingRight:n?"xsmall":"small",paddingLeft:n?"0":"small"},u.createElement(h.xMy,{alignment:"center"},u.createElement(h.ggW,null,n?u.createElement(b.O,{avatars:e}):null,t," ",d()("view",Number(t)))))},eg=({totalViews:e})=>u.createElement(h.W20,{paddingX:"small"},u.createElement(h.xvT,{fontWeight:"bold"},e," ",d()("view",Number(e)))),ev=r.Z.div`
  display: ${e=>e.show?"block":"none"};
`,ef=e=>u.createElement(g.$,{feature:k.L0.EngagementInsights,errorType:v.s.SILENT,additionalLoggingValues:{version:"views button"}},u.createElement(eu,{...e}))},41789:function(e,t,n){"use strict";n.d(t,{qL:function(){return o}});var a=n(83445),r=n(55684);let i={},l=(0,a.Ps)`
    query GetTotalVideosCountByUser($userId: ID!, $workspaceId: ID) {
  getTotalVideosCountByUser(userId: $userId, workspaceId: $workspaceId) {
    __typename
    ... on TotalVideosCountByUserPayload {
      videos_count
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `;function o(e){let t={...i,...e};return r.a(l,t)}},81458:function(e,t,n){"use strict";n.d(t,{$x:function(){return I},BK:function(){return o},Cv:function(){return X},EH:function(){return l},FE:function(){return v},FL:function(){return E},FT:function(){return F},GD:function(){return z},Gr:function(){return S},Hg:function(){return j},Hq:function(){return r},JL:function(){return B},Kk:function(){return c},Lp:function(){return k},MM:function(){return K},NU:function(){return C},NX:function(){return h},NY:function(){return b},Ng:function(){return D},Oc:function(){return en},Or:function(){return _},PQ:function(){return w},Pf:function(){return L},SY:function(){return N},VF:function(){return Q},VZ:function(){return i},WP:function(){return U},Yv:function(){return Z},_:function(){return M},_Q:function(){return G},_X:function(){return V},ck:function(){return J},dD:function(){return f},g$:function(){return et},gC:function(){return ea},hY:function(){return Y},ij:function(){return a},jd:function(){return m},k5:function(){return $},om:function(){return g},pn:function(){return O},q4:function(){return u},qf:function(){return ee},rv:function(){return P},t7:function(){return p},tP:function(){return s},td:function(){return d},uL:function(){return A},v1:function(){return W},yZ:function(){return y},yi:function(){return R},yr:function(){return H},zC:function(){return x},zj:function(){return q},zy:function(){return T}});let a="onboarding.started",r="onboarding.complete",i="onboarding.onboarding_flow_finalized",l="onboarding.step.complete",o="onboarding.step.no_suggestions",s="onboarding.step.skipped",c="onboarding.onboarding_download_recorder_screen_viewed",d="onboarding.selected_use_case",u="onboarding.user_work_persona_selected",m="onboarding.workspace_consolidation.auto_join_seen",p="onboarding.workspace_consolidation.create_workspace_seen",g="home.state.empty",v="home.state.almost.empty",f="home.state.not.empty",h="billing.request_upgrade_modal_viewed",E="billing.manual_payment_modal.payment_submitted",_="billing.manual_payment_modal.payment_failure",k="billing.manual_payment_modal.payment_succeeded",b="billing.update_customer_information_failed",y="billing.update_customer_information_succeeded",w="billing.admin_reset_pricing.succeeded",S="billing.admin_reset_pricing.failed",C="billing.update_default_payment.failed",N="billing.update_default_payment.succeeded",T="billing.confirm_payment.failed",I="billing.create_setup_intent.succeeded",A="billing.create_setup_intent.failed",x="billing.edit_payment_modal_viewed",L="billing.update_payment_succeeded",R="billing.payment_authentication_banner_seen",P="billing.upgrade_plan_payment_setup_redirect",F="billing.pause_subscription_button.viewed",O="billing.pause_subscription_button.clicked",D="billing.pause_action.success",W="billing.pause_action.failure",B="billing.pause_scheduled_banner.viewed",$="billing.cancel_pause_button.clicked",M="billing.cancel_pause_action.success",U="billing.cancel_pause_action.failure",V="billing.pause_banner.viewed",H="billing.restart_subscription_modal.viewed",z="billing.restart_subscription_button.clicked",q="billing.restart_subscription_action.success",G="billing.restart_subscription_action.failure",j="billing.cancel_subscription_from_pause.viewed",Z="billing.cancel_subscription_from_pause.clicked",Y="billing.cancel_subscription_from_pause_action.success",J="billing.cancel_subscription_from_pause_action.failure",X="google.preview.link.clicked",K="google.preview.consent.accepted",Q="workflows.artifact.copied",ee="workflows.jira.link.clicked",et="workflows.linear.link.clicked",en="edit_by_transcript.time_to_render_phrases_after_scroll",ea="edit_by_transcript.selection_latency_to_tokens_selected_ratio"},43133:function(e,t,n){"use strict";n.d(t,{Bu:function(){return o},VO:function(){return s}});var a=n(58453);let r="asgModalDesktopSession",i="hideAsgDesktopModal",l="asgDesktopVisitCount";function o({meetsAsgDesktopPrecheck:e}){let[t,n]=(0,a.useState)(null),o=localStorage.getItem(l),s=!!sessionStorage.getItem(r);return(0,a.useEffect)(()=>{window.sessionStorage&&(s||sessionStorage.setItem(r,JSON.stringify(!0)))},[s]),(0,a.useEffect)(()=>{if(!e)return n(!1);if(o){s||function(){let e=Number(localStorage.getItem(l));localStorage.setItem(l,JSON.stringify(e+1))}();let e=function(){if(!window.localStorage)return;let e=!!localStorage.getItem(i);return e}(),t=Number(o);1!==t||e||n(!0)}o||localStorage.setItem(l,JSON.stringify(0))},[s,e,o]),t}function s(){localStorage.setItem(i,JSON.stringify(!0))}localStorage.getItem(l)},88762:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var a,r=((a=r||{}).Comment="comment",a.Emoji="emoji",a)},79129:function(e,t,n){"use strict";n.d(t,{VO:function(){return s},o3:function(){return o}});var a=n(58453);let r="asgModalMobileSession",i="hideAsgMobileModal",l="asgMobileVisitCount";function o({meetsAsgMobilePrecheck:e}){let[t,n]=(0,a.useState)(!1),o=localStorage.getItem(l),s=!!sessionStorage.getItem(r);return(0,a.useEffect)(()=>{window.sessionStorage&&(s||sessionStorage.setItem(r,JSON.stringify(!0)))},[s]),(0,a.useEffect)(()=>{if(!e)return n(!1);if(o){s||function(){let e=Number(localStorage.getItem(l));localStorage.setItem(l,JSON.stringify(e+1))}();let e=function(){if(!window.localStorage)return;let e=!!localStorage.getItem(i);return e}(),t=Number(o);1!==t||e||n(!0)}o||localStorage.setItem(l,JSON.stringify(0))},[e,s,o]),t}function s(){localStorage.setItem(i,JSON.stringify(!0))}localStorage.getItem(l)},51673:function(e,t,n){"use strict";n.d(t,{U:function(){return p}});var a=n(21597),r=n(44588),i=n(58216),l=n(62508),o=n(25051),s=n(23480),c=n(5383);let d=()=>(0,c.X)(()=>n.e(7076).then(n.bind(n,91025)),s.H),u=async e=>{try{let t=await (0,r.Z)("/integrations-app/sdk/create-jws");if(t.status!==l.Us)throw Error("Fetching access token to setup recordSDK failed.");let{createInstance:n}=await d(),{jws:a}=await t.json();return n({mode:"custom",jws:a,config:e})}catch(t){return i.error(t,{message:"recordSDK setup with secure key failed."},{feature:o.L0.SDKRecorder}),m(e)}},m=async e=>{let{createInstance:t}=await d();return t({mode:"standard",publicAppId:a.KP,config:e})};class p{constructor(e={}){this.instance=void 0,this.config=e}setup(){return u(this.config)}async waitOnInstance(){return this.instance||(this.instance=await this.setup()),this.instance}}},82611:function(e,t,n){"use strict";var a,r,i=n(84515),l=n(50177),o=n(99180),s=n(43669),c=n(20887),d=n(81458),u=n(91726),m=n(51110),p=n(60164),g=n(37747),v=n(98953),f=n(33039),h=n(16032),E=n(82098),_=n(45493),k=n(29903),b=n(82548),y=n(34731),w=n(58453);let S=w.createContext(null);S.displayName="HighlightCommentContext";var C=n(18021),N=n(92245),T=n(5974),I=n(99474),A=n(48612),x=n(6854),L=n(82054),R=n(92947),P=n(16175),F=n(32910),O=n.n(F),D=n(50679),W=n(58216),B=n(25051),$=n(62527),M=n(75382),U=n(60154),V=n(83445),H=n(134);let z={},q=(0,V.Ps)`
    subscription IntelligenceAvailable($videoId: ID!) {
  intelligenceAvailable(videoId: $videoId) {
    autoTitleStatus
    title
    autoDescriptionStatus
    description
    autoChaptersStatus
    autoChaptersCount
    autoTasksStatus
    autoTasksCount
  }
}
    `;function G(e){return e===M.Sz.User||e===M.Sz.Auto}var j=n(75769),Z=n(72022),Y=n(74469),J=n(75540),X=n(55914),K=n(5383);let Q=(0,K.r)(()=>n.e(1547).then(n.bind(n,67408)).then(e=>({default:e.EditTools}))),ee=()=>w.createElement(w.Suspense,{fallback:null},w.createElement(Q,null));var et=n(66667),en=n(20980),ea=n(76502),er=n(56694);let ei=(0,K.r)(()=>n.e(7103).then(n.bind(n,16395)).then(e=>({default:e.MemberVideoThresholdBanner}))),el=e=>w.createElement(w.Suspense,{fallback:null},w.createElement(ei,{...e}));var eo=n(23904),es=n(59279),ec=n(58789),ed=n(33266),eu=n(34941),em=n(10074),ep=n(15358),eg=n(15275),ev=n(81310),ef=n(15582);let eh=()=>{let e=(0,ev._)(em.X6),t=(0,D.v9)(e=>e.checklist.first_video_recording),{featureLoadedRef:n}=(0,ec.kX)(),a=(0,D.v9)(U._n),r=(0,D.v9)(U.Mx),i="Notification"in window,l=(0,er.Vg)(),o=(0,er.xK)();(0,ev.$)({paramName:"permissionsOverride",trigger:em.X6});let s=l.nearLimit,c=a&&e&&t&&!o&&i&&Notification.permission!==eu.qZ,d=t&&i&&Notification.permission===eu.qZ,u=(0,D.v9)(ef.lP);return w.createElement(h.LoggedInOnly,null,w.createElement(ed.W20,{marginTop:u?{small:"large"}:void 0,refHandler:e=>{n(e)}},s&&w.createElement(ea.Z,{name:ep.BR.MEMBER_VIDEO_THRESHOLD_BANNER},w.createElement(el,{memberVideoLimit:l})),c&&!r&&w.createElement(en.L,{bannerLocation:eg.OS}),d?w.createElement(et.p,{onSharePage:!0}):null))},eE=()=>w.createElement(eo.$,{feature:B.L0.Banners,errorType:es.s.SILENT},w.createElement(eh,null));var e_=n(72995);let ek=()=>w.createElement(ed.W20,{position:"absolute",top:0,radius:"large",width:"100%",height:"100%",backgroundColor:"backdropDark",zIndex:2},w.createElement(e_.ZP,null));var eb=n(49079),ey=n(61966),ew=n(55040);let eS=({errorName:e})=>w.createElement("div",null,w.createElement(ey.kv,{name:e}),w.createElement("div",{className:O()("flex","flexDirection:column","items:center"),style:{backgroundColor:"var(--lns-color-grey1)",margin:"0 calc(-1 * var(--lns-space-large)"}},w.createElement(ed.LZC,{y:"large"},w.createElement(ed.zxk,{variant:"primary",type:"button",onClick:()=>{window.location.reload()}},"Refresh")))),eC=({children:e})=>{let t=(0,D.I0)();return w.createElement(j.Gm,{name:"EditToolErrorBoundaryReached",team:B.SZ.CreatorX,feature:B.L0.EditTools,onError:()=>t((0,ew.o)(s.pn,"Error loading edit tools. Try refreshing the page.")),errorComponent:w.createElement(eS,{errorName:eb.j8.EditToolErrorBoundary})},e)};var eN=n(34636),eT=n(70276),eI=n(56173),eA=n(77846),ex=n(32950),eL=n(77404),eR=n(27733),eP=n(45014),eF=n(41906),eO=n(86357),eD=n(94002),eW=n(6282),eB=n(56669),e$=n(45431),eM=n(36387),eU=n(52117),eV=n(59797),eH=n(66898),ez=n(20409),eq=n(52407),eG=n(76706),ej=n(63432),eZ=n(74544),eY=n(81386),eJ=n(44989);let eX=({children:e,setHeaderPortalContext:t})=>((0,w.useEffect)(()=>(t({children:e}),()=>t({children:null})),[e,t]),null);function eK({children:e}){return w.createElement(eJ.V.Consumer,null,({setHeaderPortalContext:t})=>w.createElement(eX,{setHeaderPortalContext:t},e))}var eQ=n(18282),e0=n(2165),e1=n(53483),e5=n(80520),e2=n(71714),e4=n(88660),e3=n(17075),e8=n(27941),e7=n(69840),e9=n(79548),e6=n(70211),te=n(39835),tt=n(95407),tn=n(58605),ta=n(30187),tr=n(26163),ti=n(58),tl=n(9896),to=n(70589),ts=n(329),tc=n(12270),td=n(58466),tu=n(81362),tm=n(90006),tp=n(83493),tg=n(73218),tv=n(60799),tf=n(82795),th=n(17486),tE=n(58258),t_=n(89168),tk=n(86353),tb=n(36897),ty=n(61374),tw=n(55325);let tS=({videoId:e,onComplete:t})=>{let n;let[a,r]=(0,w.useState)(null),i="number"==typeof a&&a<100;return(0,w.useEffect)(()=>((function a(){(n=new tw.Z(m.HB+ty.bj)).ready(()=>{n.send(JSON.stringify({type:ty.lB,subscription_data:{type:ty.wW,video_id:e}})),n.onMessage(({data:e})=>{let n={progress:0};try{n=JSON.parse(e)}catch(t){W.error(t,{message:"Error parsing trim progress websocket.onMessage data"},[{key:"data",value:e},{key:"team",value:B.SZ.CreatorX}])}let a=Math.floor(Number(n.progress));r(a),100===a&&t&&t()}),n.onError(()=>{window.setTimeout(()=>{a()},32e3)})})})(),function(){n&&n.close()}),[]),w.createElement(ed.ua7,{content:e1.mn,placement:"leftCenter",triggerOffset:38,maxWidth:32},w.createElement("span",null,e1.Ln),i&&w.createElement("span",{style:{fontFeatureSettings:"tnum"}},` (${a}%)`))},{AnonDownloadVideoOnSharePage:tC}=e5.ASGSource,tN=e=>{switch(e){case e1.Rq:return{key:e1.Rq,icon:w.createElement(td.w,null),title:e1.Rq};case e1.Dp:return{key:e1.Dp,icon:w.createElement(tf.X,null),title:e1.Dp};case e1.tP:return{key:e1.tP,icon:w.createElement(tc.U,null),title:e1.tP};case e1.iJ:return{key:e1.iJ,icon:w.createElement(tl.P,null),title:e1.iJ};case e1.kY:return{key:e1.kY,icon:w.createElement(tr.$,null),title:e1.kY};case e1.HN:return{key:e1.HN,icon:w.createElement(to.Q,null),title:e1.HN};case e1.PL:return{key:e1.PL,icon:w.createElement(tg.e,null),title:e1.PL};case e1.yY:return{key:e1.yY,icon:w.createElement(tv.z,null),title:e1.yY};case e1.YS:return{key:e1.YS,icon:w.createElement(tm.x,null),title:e1.YS};case e1.BU:return{key:e1.BU,icon:w.createElement(tu.l,null),title:e1.BU};case e1.rw:return{key:e1.rw,icon:w.createElement(ts.l,null),title:e1.rw};case e1.mo:return{key:e1.mo,icon:w.createElement(tp.y,null),title:e1.mo};case e1.wn:return{key:e1.wn,icon:w.createElement(eq.O,null),title:e1.wn};case e1.xJ:return{key:e1.xJ,icon:w.createElement(ti.j,null),title:e1.xJ};default:return{}}},tT=[e1.Dp,e1.mo,e1.wn,e1.tP,e1.iJ,e1.kY,e1.HN,e1.PL,e1.yY,e1.rw,e1.xJ],tI=e=>e.every(e=>e),tA=({video:e,scopes:t,permissions:n,dispatch:a,completeTrigger:r,extras:i,onLargeTabletOrDesktop:l,currentPlanIsFreePlan:o,isDownloadGateExperiment:s,onSmallDesktop:d,isLoggedIn:u,hideSideNav:p,isProtected:g,needsPassword:v,password:f,onLargeTablet:h,setVideo:E,startDownload:k,workspace:b})=>{let{userIsOwner:y,userCanEdit:S,userInSameWorkspace:C,userIsLoomAdmin:N}=n,T=n=>{switch(n){case e1.Rq:if(!tI([!e.archived]))return null;if(l&&d&&u)return{...tN(e1.Rq),onClick:()=>{let[,t]=(0,ez.t1)({videoUrl:`https://${m.nL}/share/${e.id}`});tb.track(c.tRo,{video_id:e.id,source:"kebab_menu",share_id:t})}};return null;case e1.Dp:if(!tI([!e.archived,t.hasAuthenticatedAccess]))return null;if(h&&o)return{...tN(e1.Dp),onClick:()=>{a((0,e6.h7)({modalType:_.cc,options:{videoId:e.id,setVideo:E,source:"kebab_menu"}}))}};return null;case e1.mo:if(h)return{...tN(e1.mo),onClick:()=>{a((0,e6.h7)({modalType:_.tq,options:{useResponsive:!0}}))}};return null;case e1.wn:if(p&&h)return{...tN(e1.wn),onClick:()=>{window.open(`https://${m.nL}${m.kp}`,"_self","noopener")}};return null;case e1.tP:if(!tI([S,!e.archived,t.hasVideoToolsAccessScope,t.hasAuthenticatedAccess]))return null;return{...tN(e1.tP),disabled:e.isParentOfPersonalizedCopies,onClick:()=>{let t=e.folder??{},n={...e,folder:t},r=[];u&&r.push({type:th.MU}),a((0,e6.h7)({modalType:u?_.m$:_.em,options:{videos:[n],filters:r,navigateToDestinationFolderAfterMove:!1}})),tb.track(c.iMJ,{root_folder:e.folder_id,is_owner:e.isOwner})},title:e.isParentOfPersonalizedCopies?w.createElement(e3.X,{title:e1.tP,content:"This video contains variables and must remain in its folder."}):e1.tP};case e1.iJ:if(!tI([y||e.isTeamShared&&C,!e.archived,t.hasVideoToolsAccessScope,t.hasAuthenticatedAccess,e.personalizationType!==M.at.Audio]))return null;return{...tN(e1.iJ),onClick:()=>{let t=(0,tn.hv)(e.title);a((0,e8.L)({videoId:e.id,newName:t,spaceId:null,fromSharePage:!0})),tb.track(c.hOT,{click_source:"share-page",entity_id:e.id,entity_type:"video",workspace:"private"})}};case e1.kY:if(!tI([y||e.isTeamShared&&C,!e.archived,t.hasArchiveAccessScope,t.hasAuthenticatedAccess]))return null;return{...tN(e1.kY),onClick:()=>{a((0,t_.v5)(e.id))}};case e1.HN:{if(!tI([e.downloadable,!v,!e.archived,u]))return null;let n=!t.hasDownloadsScope&&s,l=i.downloadUrl,o=!e.isParentOfPersonalizedCopies&&e.personalizationType===M.at.Audio,d=o?w.createElement(e3.X,{title:e1.HN,content:"This video contains variables and cannot be downloaded"}):s?w.createElement(e4.Z,{scope:ej.Vm,placement:"rightCenter",title:e1.HN,feature:ta.lD.DOWNLOAD,highlightText:"Download your video"}):e1.HN;return{...tN(e1.HN),disabled:!l||o,icon:n?w.createElement(ed.JO$,{color:"disabledContent",icon:w.createElement(to.Q,null)}):w.createElement(to.Q,null),onClick:()=>{let t={video_id:e.id,is_owner:e.isOwner};if(tb.track(c.SI4,t),n||null==l)return;let o=`${e.title||e.id}.mp4`,s={url:l,name:o,opts:t,password:f};if(i.shouldShowDownloadInfoModal)a((0,e6.h7)({modalType:_.dK,options:s})),r(em.yA);else{if(!u){a((0,e6.h7)({modalType:(0,tt.MG)(),options:{header:"Sign up to download this video",hideModeSwitcher:!0,gate:e9.K.HARD_GATE_DOWNLOAD,source:tC}}));return}k(s)}},title:!l&&e?.processingInformation?.trimId?w.createElement(tS,{videoId:e.id,onComplete:()=>a((0,t_.nx)({downloadable:e.downloadable,isVideoProtected:g,password:f,videoId:e.id}))}):d}}case e1.PL:{if(!tI([e.downloadable,!v,!e.archived,u]))return null;let n=!t.hasDownloadsScope&&s,r=i.captionDownloadUrl,l=s?w.createElement(e4.Z,{scope:ej.Vm,placement:"rightCenter",title:e1.PL,feature:ta.lD.DOWNLOAD_CAPTIONS,highlightText:"Download captions"}):e1.PL;return{...tN(e1.PL),disabled:!r,icon:n?w.createElement(ed.JO$,{color:"disabledContent",icon:w.createElement(tg.e,null)}):w.createElement(tg.e,null),onClick:async()=>{if(tb.track(c.l$,{video_id:e.id,is_owner:e.isOwner,source:"kebab_menu",member_role:b.memberRole,current_plan:b.type}),!n){if(!u){a((0,e6.h7)({modalType:(0,tt.MG)(),options:{header:"Sign up to download these captions",hideModeSwitcher:!0,gate:e9.K.HARD_GATE_DOWNLOAD,source:tC}}));return}if(r)try{await (0,te.hm)(r,`${e.title||e.id}.srt`),tb.track(c.hyR,{video_id:e.id,is_owner:e.isOwner,member_role:b.memberRole,current_plan:b.type})}catch(e){W.error("Unable to download captions",{error:e},{feature:B.L0.TranscriptExtraction})}}},title:l}}case e1.yY:if(!tI([y||e.isTeamShared&&C,t.hasVideoToolsAccessScope,t.hasAuthenticatedAccess]))return null;return{...tN(e1.yY),onClick:()=>{a((0,e6.h7)({modalType:_.m5,options:{videos:[{...e,password:f}],redirectUrl:`https://${m.nL}${m.wE}`}}))}};case e1.rw:if(N||R.r8)return{...tN(e1.rw),onClick:()=>{let t=`https://${m.nL}/admin/videos/video-dive/${e.id}`;window.open(t,"_blank")}};return null;case e1.xJ:{let e=i.contactSalesButtonType;if("none"===e)return null;return{...tN(e1.xJ),onClick:()=>{if("modal"===e)a((0,e6.h7)({modalType:_.Hx}));else{let e=new URL("/connect/enterprise",window.location.origin);window.open(e.toString(),"_blank")}}}}default:return null}};return tT.map(e=>T(e)).filter(e=>e)},tx=({currentPlanIsFreePlan:e,isDownloadGateExperiment:t})=>{let n=(0,eU.gH)(ej.hx),a=(0,eU.gH)(ej.cM),r=(0,eU.gH)(ej.AS),{setVideo:i,video:o}=(0,b.dPl)(),{isProtected:s,needsPassword:c,password:d}=(0,l.u)(),u={hasVideoSharePrivateScope:(0,eU.gH)(ej.w2),hasPersonalLibraryWriteScope:(0,eU.gH)(ej.xN),hasTeamLibraryWriteScope:n,hasVideoToolsAccessScope:a,hasArchiveAccessScope:r,hasAuthenticatedAccess:(0,eU.gH)(ej.ul),hasFavoritesScope:(0,eU.gH)(ej.I_),hasDownloadsScope:(0,eU.gH)(ej.Vm)},m=(0,er.p$)(o?.organizationId),p=(0,e2.Q2)(),g=(0,h.useCurrentUserSelector)(e=>e.role===tE.GN,!1),v=(0,h.useIsCurrentUserLoggedIn)(),f=(0,D.v9)(tk.Nr),E={userIsOwner:!!o.isOwner,userCanEdit:!!o.currentUserCanEdit,userInSameWorkspace:m,userCanAccessTranscript:p,userIsLoomAdmin:g},[_]=(0,eW.x)(),k={shouldShowDownloadInfoModal:(0,ev._)(em.yA),isTrimMode:(0,D.v9)(e=>e.trimming?.in_trim_mode),transcriptStatus:(0,D.v9)(e=>e.share_video?.transcript_details?.transcription_status),captionDownloadUrl:(0,D.v9)(e=>e.video_player?.captionsDetails?.captionsSourceUrl),downloadUrl:(0,D.v9)(e=>e.share_video?.download_url),videoButtonsShowing:(0,e0.ag)(`(min-width: ${eT.wV}px)`),contactSalesButtonType:_?"link":"none"},y=(0,D.I0)(),w=(0,e7.j)(),S=(0,e0.MS)(),C=(0,e0.Bp)(),N=(0,e0.iG)(),T=(0,eL.o)(),I=(0,eM.Qq)();return tA({completeTrigger:w,currentPlanIsFreePlan:e,dispatch:y,extras:k,hideSideNav:T,isDownloadGateExperiment:t,isLoggedIn:v,isProtected:s,needsPassword:c,onLargeTablet:C,onLargeTabletOrDesktop:S,onSmallDesktop:N,password:d,permissions:E,scopes:u,setVideo:i,startDownload:I,video:o,workspace:f})};var tL=n(23239),tR=n(8128);let tP=({currentPlanIsFreePlan:e=!1,isDownloadGateExperiment:t=!1})=>{let n=tx({currentPlanIsFreePlan:e,isDownloadGateExperiment:t}),{featureLoadedRef:a}=(0,ec.kX)(),r=e=>({title:e.title||"",icon:e.icon||null,onClick:e.onClick||(()=>null),disabled:e.disabled||!1});if(1===n.length){let e=n[0];if(!e||e.title===e1.Rq)return null;let{title:t,icon:a,onClick:i,disabled:l}=r(e);return w.createElement(ed.hU,{altText:t,icon:a,onClick:i,isDisabled:l})}let i=n.filter(Boolean).map(e=>r(e));return w.createElement(tR.Z,null,w.createElement("div",{ref:a},w.createElement(ed.Ltx,{options:i,trigger:w.createElement(ed.ua7,{tabIndex:-1,content:"More actions",placement:"bottomCenter"},w.createElement(ed.hU,{id:"toggleActions",altText:"Toggle actions",icon:w.createElement(tL.s,null)})),menuPosition:"right",menuZIndex:1001})))},tF=e=>w.createElement(eo.$,{feature:B.L0.OverflowActionsMenu,errorType:es.s.SILENT},w.createElement(tP,{...e}));var tO=n(90903);let tD=({videoId:e})=>{let t=(0,e0.Bp)(),{shouldShowLoomBranding:n}=(0,E.e)({videoId:e});if(!n)return null;let a=[{name:"Learn to Loom",path:m.rJ},{name:"How to Record",path:m.d4},{name:"Loom Blog",path:m.RM},{name:"Pricing",path:m.$r}];return w.createElement(ed.ggW,{gap:t?1:3},a.map((e,t)=>w.createElement(ed.Avr,{htmlTag:"a",className:"weight:book",key:t,href:`https://loom.com${e.path}`,onClick:()=>tb.track(c.mix,{path:e.path}),target:"_blank"},e.name)))};var tW=n(66956);let tB=({isLoggedIn:e,videoId:t,videoTitle:n,showCopyLinkTutorial:a,viewerInMatchingWorkspace:r})=>w.createElement(ed.ggW,{gap:r?"1px":"0"},w.createElement("div",{className:"split-share-copy-button_leftButton_2FZ"},w.createElement(tW.T,{isLoggedIn:e,videoId:t,source:"share_page"})),w.createElement("div",{className:"split-share-copy-button_rightButton_1wJ"},w.createElement(eF.V,{videoId:t,videoName:n,analyticsSource:"share_page",showTutorial:a,variant:r?"primary":"neutral"})));var t$={headerContentWrapper:"header-content_headerContentWrapper_1Rc",bubble:"header-content_bubble_2mU"};let tM=()=>w.createElement(ed.LZC,{top:1,bottom:1},w.createElement(ed.ggW,{gap:"medium"},w.createElement(ed.W20,{height:4,width:4,backgroundColor:"disabledBackground",radius:"full"}),w.createElement(ed.W20,{height:4,width:12,backgroundColor:"disabledBackground",radius:"full"}))),tU=({downloadUrl:e,isLoggedIn:t,fromRecorderParam:n,fromTutorialParam:a})=>{let r=(0,eM.Qq)(),i=(0,er.hP)(),l=(0,e0.K)(),o=(0,eQ.q)("unseenNotifications"),s=(0,eB.T)(),{video:{downloadable:c,id:d,isOwner:u,title:p,organizationId:g}}=(0,b.dPl)(),v=(0,N.l)(d),{password:f}=(0,k.u)(),[h]=(0,eW.x)(),E=(0,e$.Mr)({flag:eG.tJe,activationValues:["variant-2"]}),_=(0,er.p$)(g),y=(0,eU.gH)(ej.Vm),S=`${p||d}.mp4`;(0,w.useEffect)(()=>{let n=(0,ez.jS)("start_download"),a=y&&n&&t&&c;if(a){r({url:e,name:S,opts:{video_id:d,is_owner:u},password:f});let{pathname:t,search:n}=window.location,a=(0,ez.t9)(["start_download"],n);window.history.replaceState("","",`${t}${a}`)}},[y,S,e,c,t,u,d,f,r]);let{featureLoadedRef:C}=(0,ec.kX)(),T=(0,eL.o)(),I=i.type===eZ.UK,A=(0,eV.N)(),x=(0,L.UV)(),R=void 0===E,P=!t&&!l,F=!t&&l,O=A&&!l,D=!!(n&&a&&u),{show:W}=(0,eH.Q)(),B=(0,e0._T)();return x?w.createElement(w.Fragment,null):R?w.createElement(eK,null,w.createElement("div",{ref:C},w.createElement(ex.z,{query:`(min-width: ${eT.aH}px)`},w.createElement(tM,null)))):P?w.createElement(eK,null,w.createElement("div",{ref:C},w.createElement(tD,{videoId:d}))):F?w.createElement(eK,null,w.createElement("div",{ref:C},w.createElement(eF.u,{videoId:d,videoName:p,analyticsSource:"share_page",showTutorial:D}))):w.createElement(eK,null,w.createElement("div",{ref:C,className:t$.headerContentWrapper},w.createElement(ed.ggW,{gap:"medium"},T?null:w.createElement(ex.z,{query:`(min-width: ${eT.aH}px)`},w.createElement(eY.default,null)),w.createElement(tO.l,{videoId:d}),W||!I||B?w.createElement(tB,{isLoggedIn:t,videoId:d,videoTitle:p,showCopyLinkTutorial:D,viewerInMatchingWorkspace:_}):w.createElement(eF.u,{videoId:d,videoName:p,analyticsSource:"share_page",showTutorial:D}),T?w.createElement(w.Fragment,null,O&&!W?w.createElement(ex.z,{query:`(min-width: ${eT.aH}px)`},w.createElement(eD.C,{minimal:!0,shouldShowIncentives:s})):null,w.createElement(eI.U,{LoomUI:h&&!l?w.createElement(eP.e,null):W?null:w.createElement(eO.e,null,w.createElement(eR.e,null)),AtlassianUI:W?null:w.createElement(eA.v,null)}),w.createElement(ex.z,{query:`(min-width: ${eT.Sx}px)`},w.createElement(eY.default,null),w.createElement(ed.ua7,{content:"Notifications",placement:"bottomCenter"},w.createElement("div",null,o>0&&w.createElement("div",{className:t$.bubble},w.createElement(ed.W20,{backgroundColor:"record",height:"small",width:"small"})),w.createElement(ed.hU,{altText:"Notifications",icon:w.createElement(eq.O,null),onClick:e=>{e.metaKey||e.ctrlKey?window.open(`https://${m.nL}${m.kp}`,"_blank"):window.open(`https://${m.nL}${m.kp}`,"_self","noopener")}}))))):null,v?null:w.createElement(tF,{currentPlanIsFreePlan:I,isDownloadGateExperiment:E}))))},tV=e=>w.createElement(eo.$,{feature:B.L0.Header,errorType:es.s.SILENT},w.createElement(tU,{...e}));var tH=n(91989),tz=n(44588),tq=n(33136),tG=n(83214),tj=n(48513),tZ=n(38838),tY=n(14866),tJ=n(95282);let tX=(0,V.Ps)`
    subscription FetchTranscriptStatusChanged($videoId: ID!) {
  transcriptStatus(videoId: $videoId) {
    status
  }
}
    `;var tK=n(49374);let tQ={},t0=(0,V.Ps)`
    query FetchTranscriptStatusForFetchTranscript($videoId: ID!, $password: String) {
  fetchVideoTranscript(videoId: $videoId, password: $password) {
    ... on VideoTranscriptDetails {
      id
      video_id
      transcription_status
    }
    ... on GenericError {
      message
    }
  }
}
    `,t1={},t5=(0,V.Ps)`
    query FetchVideoTranscriptForFetchTranscript($videoId: ID!, $password: String) {
  fetchVideoTranscript(videoId: $videoId, password: $password) {
    ... on VideoTranscriptDetails {
      id
      video_id
      s3_id
      version
      transcript_url
      captions_url
      processing_service
      transcription_status
      processing_start_time
      processing_end_time
      createdAt
      updatedAt
      source_url
      captions_source_url
      language
    }
    ... on GenericError {
      message
    }
  }
}
    `,t2=()=>{let e=(0,D.I0)(),{video:{activeVideoTranscriptId:t,id:n}}=(0,b.dPl)(),{password:a}=(0,k.u)(),[r,i]=(0,w.useState)(!1),l=(0,D.v9)(tJ.Rr),o=(0,e2.Q2)(),{password:c}=(0,k.u)(),d=(0,D.v9)(ef.NX),u=(0,D.v9)(tJ.$z),m=(0,tq.J$)(),p=(0,w.useRef)(null),g=(0,w.useRef)(null),[v,{error:f}]=function(e){let t={...t1,...e};return tK.t(t5,t)}({fetchPolicy:"no-cache",onCompleted:async t=>{let{fetchVideoTranscript:a}=t;if(a?.__typename==="GenericError"){let t=a?.message;e((0,ew.o)(s.pn,"Oops! Failed to fetch transcript.")),W.error(t,{message:`Error fetching transcript for video id ${n}: ${t}`,videoId:n},{team:B.SZ.CreatorX});return}let{captions_url:r,captions_source_url:i}=a,l={...a};["__typename","captions_url","captions_source_url"].forEach(e=>delete l[e]),e((0,$.BA)(l)),e((0,tY.FL)({captionsUrl:r,captionsSourceUrl:i}));let o=(0,tZ.fz)(a.transcription_status);u===tG.m.STARTED&&o&&e((0,$.yX)(tG.m.FINISHED));let c=l?.source_url||null,d=l?.transcription_status||null;e((0,tY.Mb)(l.transcription_status));let m=!!(d&&(0,tZ.dN)(d)&&c);if(!m||!c)return;let p=await (0,tz.Z)(c);if(!p.ok){W.error("Failed to fetch transcript json",{message:"Failed to fetch transcript json",videoId:n},{team:B.SZ.CreatorX});return}let g=await p.json();e((0,tH._W)(g))},onError:t=>{e((0,ew.o)(s.pn,"Oops! Failed to fetch transcript.")),W.error(t,{message:`Error fetching transcript for video id ${n}: ${t}`,videoId:n},{team:B.SZ.CreatorX})}}),h=(0,w.useCallback)(()=>{t&&v({variables:{videoId:n,password:c||null}})},[t,v,c,n]),[E]=function(e){let t={...tQ,...e};return tK.t(t0,t)}({fetchPolicy:"no-cache",onCompleted:e=>{let{fetchVideoTranscript:t}=e;if(t?.__typename!=="VideoTranscriptDetails"){let e=t?.message;W.error(`Failed to fetch VideoTranscriptDetails for video id ${n}: ${e}`,{videoId:n},{feature:B.L0.TranscriptPanel});return}let a=t?.transcription_status;_(a)},onError:e=>{W.error(e,{message:`Error while fetching transcript status for ${n}`,videoId:n},{team:B.SZ.CreatorX})}}),_=(0,w.useCallback)(t=>{tj.f.includes(t)&&(e((0,$.IM)(t)),e((0,tY.Mb)(t))),!(!(0,tZ.fz)(t)&&tj.f.includes(t))&&(h(),p.current&&(p.current.unsubscribe(),p.current=null),g.current&&(clearInterval(g.current),g.current=null))},[e,h]);return(0,w.useEffect)(()=>{t&&o&&!r&&(h(),i(!0))},[t,r,e,h,o,a]),(0,w.useEffect)(()=>{let e=!l||d!==tj.MR;if(t&&o&&r&&e&&!f)try{if((0,tZ.fz)(d)||p.current)return;p.current=m.subscribe({variables:{videoId:n},query:tX}).subscribe(e=>{let{data:{transcriptStatus:{status:t}}}=e;_(t)}),h(),g.current=setInterval(()=>{E({variables:{videoId:n,password:a||null}})},3e4)}catch(e){W.error(e,{message:`Error subscribing to transcript status for video id ${n}: ${e}`,videoId:n},{feature:B.L0.TranscriptInsights})}},[t,r,e,l,o,f,n,a,c,d,h,E,_,m]),(0,w.useEffect)(()=>()=>{p.current&&(p.current.unsubscribe(),p.current=null),g.current&&(clearInterval(g.current),g.current=null)},[]),null};var t4=n(77349),t3=n(23117);let t8=()=>{let e=(0,D.I0)(),[t,n]=(0,w.useState)(null),{setWaveformGeneration:a,video:{id:r,waveformGeneration:i=""}}=(0,b.dPl)(),{password:l}=(0,k.u)(),o=[t3.SB,t3.EH].includes(i),s=null===i;return(0,w.useEffect)(()=>{if(!s){if(!t){if(o){e((0,t_.Jh)(l,r,a));return}let t=e((0,t_.Al)(l,r,i,a));t&&n(t)}return()=>{t?.unsubscribe()}}},[e,t,o,a,i,r,l,s]),(0,w.useEffect)(()=>{t&&o&&(t.unsubscribe(),n(null))},[t,o]),null};var t7=n(21356);let t9=(0,K.r)(()=>n.e(8037).then(n.bind(n,88060)).then(e=>({default:e.AnonymousShareHeader}))),t6=()=>w.createElement(w.Suspense,{fallback:null},w.createElement(t9,null)),ne=(0,K.r)(()=>n.e(6276).then(n.bind(n,50621)).then(e=>({default:e.CelebrationLayer}))),nt=e=>w.createElement(w.Suspense,{fallback:null},w.createElement(ne,{...e}));var nn=n(18285),na=n(21190);let nr="trim-mode-enabled",ni=()=>{let e=(0,D.I0)(),t=(0,b.n_$)(),{height:n}=(0,L.zD)(),a=(0,D.v9)(ef._R),r=(0,D.v9)(U.Mx),i=(0,D.v9)(ef.lP),l=(0,D.v9)(U.r7);w.useEffect(()=>{if(r){document.documentElement.classList.add(nr);return}document.documentElement.classList.remove(nr)},[r]);let o=w.useCallback(()=>{let t=!!document.querySelector(".theaterMode"),n=!t;e((0,tY.zn)(n)),e((0,$.Eu)(n)),(0,na.Ly)("theaterMode",n),n&&a&&e((0,tY.Fz)(!1)),(0,tb.track)(c.IQs,{on:n})},[a,e]);return w.useEffect(()=>{a&&(e((0,$.Eu)(l||i)),e((0,tY.zn)(!1)))},[a,e]),w.useEffect(()=>{e((0,tY.tD)(n))},[n,e]),w.useEffect(()=>{if(!t)return;let n=()=>{e((0,tY.bN)()),e((0,$.I_)(!0))},a=()=>{e((0,tY._9)())},r=()=>{e((0,tY.ZZ)((0,nn.FY)(t.media.currentTime)))},i=()=>{e((0,$.Se)(!1))};return t.on([b.pHy.ready],n),t.on([b.pHy.smoothTime],r),t.on([b.pHy.started],a),t.on([b.pHy.duration],i),t.on([b.zwB.toggleTheaterMode],o),()=>{t.off([b.pHy.ready],n),t.off([b.pHy.smoothTime],r),t.off([b.pHy.started],a),t.off([b.pHy.duration],i),t.off([b.zwB.toggleTheaterMode],o)}},[t,e,o]),null},nl=(0,K.r)(()=>Promise.all([n.e(1971),n.e(6089),n.e(1785)]).then(n.bind(n,2417)).then(e=>({default:e.EngagementBar}))),no=()=>w.createElement(w.Suspense,{fallback:null},w.createElement(nl,null));var ns=n(63598),nc=n(34832),nd=n(37380),nu=n(1151),nm=n(55684);let np={},ng=(0,V.Ps)`
    query GetSuggestedWorkspaceBanner {
  result: getSuggestedWorkspaceForCurrentUser {
    __typename
    ... on JoinableWorkspace {
      ...SuggestedWorkspaceFragment
    }
  }
}
    ${nu.t}`;var nv=n(81504);let nf={},nh=(0,V.Ps)`
    mutation RequestToJoinWorkspaceMutation($workspaceId: ID!) {
  result: requestToJoinWorkspace(workspaceId: $workspaceId) {
    __typename
    ... on RequestToJoinWorkspacePayload {
      status
      message
      workspace {
        id
        autoJoin
        requestStatus
      }
    }
  }
}
    `;var nE=n(48227),n_=n(20005),nk=n(58830),nb=n.n(nk),ny=n(75684);let nw=({memberCount:e,suggestedWorkspace:t,requestPending:n,autoJoin:a,avatars:r=[],handleSetDismissed:i,onRequestClick:l})=>w.createElement(w.Fragment,null,w.createElement(ex.z,{query:`(min-width: ${eT.U2}px)`},w.createElement(ed.W20,{paddingX:"large"},w.createElement(ed.W20,{backgroundColor:"blurpleLight",paddingX:"large",paddingY:"medium",width:"100%",radius:"large",marginTop:"large",marginBottom:"xlarge"},w.createElement(ed.ggW,{autoFlow:"column",justifyContent:"space-between"},w.createElement(ed.ggW,{autoFlow:"column",gap:"small"},w.createElement(nE.Z,{userData:r,maxImages:4,alignment:"left",avatarSize:4}),w.createElement(ed.xvT,{htmlTag:"p"},w.createElement("span",{className:"mr:xsmall",role:"img","aria-label":"megaphone"},"\uD83D\uDCE3"),w.createElement(ed.xvT,{htmlTag:"span",isInline:!0,fontWeight:"bold"},"Your team is on Loom!"," "),"Join"," ",w.createElement(ed.xvT,{isInline:!0,fontWeight:"bold"},e," "),nb()("other",e)," in"," ",w.createElement(ed.xvT,{isInline:!0,fontWeight:"bold"},t.name," "),"and gain access to your team’s content!")),w.createElement("div",null,w.createElement(ed.Avr,{className:"c:blurpleDark mr:small",disabled:n,onClick:()=>{l(t.id)}},n?"Requested":a?"Join":"Request"),n?null:w.createElement(ed.Avr,{onClick:i},"Dismiss")))))),w.createElement(ex.z,{query:`(max-width: ${eT.aH}px)`},w.createElement(ed.W20,{backgroundColor:"blurpleLight",paddingRight:"xsmall",paddingLeft:"large",paddingY:"medium",marginTop:"large",marginBottom:"xlarge",width:"100%"},w.createElement(ed.ggW,{autoFlow:"column",justifyContent:"space-between"},w.createElement(ed.ggW,{gap:"medium"},w.createElement(n_.Z,{workspace:t,size:5}),w.createElement(ed.ggW,{autoFlow:"row"},w.createElement(ed.xvT,{fontWeight:"bold"},"Join your team on Loom"),w.createElement(ed.xvT,{color:"bodyDimmed",size:"small"},t.name," - members"))),w.createElement(ed.W20,null,w.createElement(ed.zxk,{disabled:n,onClick:()=>{l(t.id)},variant:"primary"},n?"Pending":"Join"),w.createElement(ed.hU,{className:"ml:small",altText:"Dismiss",icon:w.createElement(ny.G,null),onClick:i})))))),nS=({organizationId:e})=>{let[t,n]=(0,w.useState)(!1),{data:a,loading:r}=function(e){let t={...np,...e};return nm.a(ng,t)}({skip:!e,fetchPolicy:"cache-first"}),[i]=function(e){let t={...nf};return nv.D(nh,t)}();if(!a?.result||a?.result?.__typename!=="JoinableWorkspace")return null;let l=function(e){let{requestStatus:t,hasPendingInvitation:n,autoJoin:a,workspace:r,isCurrentUserMember:i}=e,l=r?.counts?.users.total_active_workspace_users??0,o=r?.members?.nodes?.map((e,t)=>({id:t,name:e?e.user.first_name:null,avatarSrc:e?ns.B(e.user.avatars):void 0}));return{workspace:{id:r?.id??"",name:r?.name??"",workspaceLogoPath:r?.workspaceLogoPath??void 0},memberCount:l??void 0,hasPendingInvitation:n,autoJoin:a??null,avatars:o??[],requestStatus:t,isCurrentUserMember:i??null}}(a.result),o=Number(l.workspace.id)===Number(e),s=l.requestStatus===nd.i.PENDING,d=l.isCurrentUserMember,u=!d&&!t&&!r&&!l.hasPendingInvitation&&!s&&o;return u?w.createElement(nw,{memberCount:l.memberCount,suggestedWorkspace:l.workspace,requestPending:s,autoJoin:l.autoJoin,avatars:l.avatars,handleSetDismissed:()=>{n(!0)},onRequestClick:function(e){i({variables:{workspaceId:e},onCompleted:t=>{t.result?.__typename==="RequestToJoinWorkspacePayload"&&t.result.status&&(tb.track(c.U$H,{source:"share-page-banner",status:t.result.status,suggestedWorkspaceId:e}),t.result.status===nc.CA&&(window.location.href="/"))}})}}):null};var nC=n(26094),nN=n(52860),nT=n(97579);let nI=(0,K.r)(()=>Promise.resolve().then(n.bind(n,15385)).then(e=>({default:e.RecordButton}))),nA=()=>{let{isSDKSupported:e}=(0,nN.a)(),t=(0,e0.K)();return!t&&e?w.createElement(ed.W20,{position:"fixed",bottom:2.5},w.createElement(w.Suspense,{fallback:null},w.createElement(nI,{priorityList:[nT.Bq]},w.createElement(J.w,{isCollapsed:!1})))):w.createElement("div",{className:"share-video-loom-badge-section"},w.createElement(nC.H,{href:m.OA,title:"Loom homepage"}))};var nx=n(46508),nL=n(32965),nR=n(12051),nP=n(20037),nF=n(81464);let nO={[nF.HS]:"This file is currently unsupported on Loom",[nF.n7]:"Suspicious content found in file. This file will be removed from your library.",[nF.Wn]:"There was an issue processing your video.",[nF.yZ]:`The Frames Per Second of your video is above the allowed limit: ${nF.eS}fps.`,[nF.aY]:"The resolution of your video is above the allowed limit: (4k)",[nF.TR]:`The video length is longer than the allowed limit: ${nF.q} hours`},nD=`${m.wE}?upload=1`,nW=()=>{window.location.href=m.wE},nB=()=>{window.location.href=nD},n$=()=>{let{video:{processingInformation:e,videoProperties:{recordingVersion:t}}}=(0,b.dPl)(),{featureLoadedRef:n}=(0,ec.kX)(),{videoUploadMessage:a,videoUploadValid:r}=e??{},i=t===nP.V4;return w.createElement("div",{ref:n},w.createElement(ed.u_l,{isOpen:i&&!1===r,mainButton:w.createElement(ed.zxk,{href:nD,htmlTag:"a",variant:"primary",onClick:nB},"Upload New File"),secondaryButton:w.createElement(ed.zxk,{href:m.wE,htmlTag:"a",onClick:nW},"Go to Personal Library")},w.createElement(ed.xvT,{fontWeight:"bold",size:"large"},a&&nO[a]||"The file could not be processed")))};var nM=()=>w.createElement(eo.$,{feature:B.L0.VideoUpload,errorType:es.s.DEFAULT},w.createElement(n$,null)),nU=n(93298),nV=n(69225);let nH=(0,K.r)(()=>Promise.all([n.e(8348),n.e(6766),n.e(8851),n.e(8895),n.e(794),n.e(390)]).then(n.bind(n,16278)).then(e=>({default:e.AnonymousShareGateDesktopModal}))),nz=({showModal:e=!0,gate:t=e9.K.ASG})=>w.createElement(w.Suspense,{fallback:null},w.createElement(nH,{showModal:e,gate:t}));var nq=n(43133);let nG=(0,K.r)(()=>Promise.all([n.e(8348),n.e(6766),n.e(8851),n.e(8895),n.e(4739),n.e(794),n.e(5107)]).then(n.bind(n,84479)).then(e=>({default:e.AnonymousShareGateMobileModal}))),nj=({showModal:e=!0})=>w.createElement(w.Suspense,{fallback:null},w.createElement(nG,{showModal:e}));var nZ=n(79129),nY=n(17101),nJ=n(50376),nX=n(23931),nK=n(53120),nQ=n(53400),n0=n(12785),n1=n(5201);let n5=({isOpen:e,onClose:t,url:n,videoId:a})=>{let{featureLoadedRef:r}=(0,ec.kX)(),i=(0,h.useCurrentUserSelector)(e=>e.email,void 0),l=(0,nQ.C9)(),o=l&&nK.EMAIL_REGEX_CHECK.test(l),s=o?l:"";return(0,w.useEffect)(()=>{tb.track(c.xh5,{videoId:a})},[a]),(0,nX.pv)({onProfilePageViewed:()=>{tb.track(c.ynt,{videoId:a})},onDateAndTimeSelected:()=>{tb.track(c.Vdt,{videoId:a})},onEventTypeViewed:()=>{tb.track(c.LeQ,{videoId:a})},onEventScheduled:()=>{tb.track(c.vef,{videoId:a})}}),w.createElement("div",{ref:r},w.createElement(nX.pd,{url:n,open:e,onModalClose:t,rootElement:document.body,prefill:{email:i||s}}))},n2=()=>{let{video:e}=(0,b.dPl)(),{status:t}=(0,nY.yQ)(e.id),{didRequestCalendlyModal:n,setDidRequestCalendlyModal:a}=(0,n1.V)(),r=(0,ez.Ew)(String(e?.cta?.url)),i=nK.wG.test(r),l="ended"===t,o=(0,nJ.D)(l),s=(0,nJ.D)(n),[c,d]=(0,w.useState)(!1),{isOwnerInCalendlySegment:u,loading:m,error:p}=(0,n0.e)(e.id,i);return((0,w.useEffect)(()=>{i&&u&&(l&&l!==o||n&&n!==s)&&d(!0)},[i,u,l,n,o,s]),m||p)?null:c?w.createElement(eo.$,{feature:B.L0.Calendly,errorType:es.s.SILENT},w.createElement(n5,{isOpen:c,onClose:()=>{d(!1),a(!1)},url:r,videoId:e.id})):null};var n4=n(4028),n3=n(37984),n8=n(96422),n7=n(82985),n9=n(58730),n6=n(3427),ae=n(21507);let at={},an=(0,V.Ps)`
    mutation UpdateUserReachedRecordingLimitChecklistItem($userId: ID!) {
  successful: updateUserReachedRecordingLimitChecklistItem(userId: $userId)
}
    `,aa=({videoDurationLimitToString:e,showToast:t})=>{let n=(0,er.nw)(),a=n!==n7.Xx?"send a request to your admin to upgrade":"upgrade";return w.createElement(ed.FNi,{isOpen:t},w.createElement(ed.Pag,{gap:"medium",alignment:"center"},w.createElement(ed.I7m,{basis:35},w.createElement(ed.xvT,{fontWeight:"bold"},"You've hit the ",e," recording limit."),w.createElement(ed.xvT,{size:"small"},"Create videos with unlimited recording time on the"," ",w.createElement("strong",null,"Business plan")," or above. Click to ",a,".")),w.createElement(ed.I7m,{grow:1},w.createElement(n4.Z,{analyticsEvent:c.ChR,hideTooltip:!0}))))},ar=({videoDurationLimitToString:e,showModal:t})=>{let[n,a]=(0,w.useState)(t),r=()=>{(0,tb.track)(c.pi$),a(!1)};return w.createElement(ed.u_l,{isOpen:t,onCloseClick:r,onBackgroundClick:r,maxWidth:55},w.createElement(ed.ggW,{gap:2,autoFlow:"row",justifyItems:"center"},w.createElement("img",{alt:"Person standing in arched doorway with speech bubbles, illustrated",src:ae,height:"88",width:"77"}),w.createElement(ed.xvT,{htmlTag:"h1",variant:"mainTitle",alignment:"center"},"You've got a lot to say!"),w.createElement(ed.xvT,{alignment:"center",color:"bodyDimmed"},"You've hit the ",e," recording limit. If you have more to add, upgrade for unlimited recording time."),w.createElement(n4.Z,{analyticsEvent:c.sZK,defaultButtonText:"Upgrade for unlimited recordings",hideTooltip:!0}),w.createElement(ed.Avr,{onClick:r},"Go to my video")))},ai=({fromRecorderParam:e,recordingLimitParam:t})=>{let[n,a]=(0,w.useState)(!1),[r,i]=(0,w.useState)(!1),l=(0,n6.Z)(n8.co),o=(0,n9.g)(n8.co),s=l||o,d=s?s<60?`${s} second`:`${s/60} minute`:"",u=(0,h.useCurrentUserSelector)(e=>e.id,NaN),m=(0,D.v9)(e=>{(0,n3.R5)(e,[ej.kJ,ej.FC])}),p=m&&s&&t&&e,[g,{loading:v}]=function(e){let t={...at,...e};return nv.D(an,t)}({variables:{userId:u},onCompleted:e=>{p&&(e.successful?(a(!1),i(!0)):(a(!0),(0,tb.track)(c.Eo8)))},onError:e=>{W.warning(e,{userId:u})}});return((0,w.useEffect)(()=>{g({variables:{userId:u}})},[p]),!p||v)?null:w.createElement(w.Fragment,null,w.createElement(aa,{videoDurationLimitToString:d,showToast:r}),w.createElement(ar,{videoDurationLimitToString:d,showModal:n}))};var al=n(59101),ao=n(45372),as=n(55918),ac=n(74970),ad=n(28555);let au={},am=(0,V.Ps)`
    query GetIsFirstRecording($fromRecorder: Boolean!, $videoId: String!) {
  getCurrentUser {
    __typename
    ... on GetCurrentUserPayload {
      user {
        id
        isFirstRecording(fromRecorder: $fromRecorder, videoId: $videoId)
      }
    }
  }
}
    `,ap=e=>{let{current_user_is_owner:t}=e.share_video;return{currentUserIsOwner:t}},ag=({fromRecorderParam:e,recordingLimitParam:t})=>{let n=(0,D.v9)(ap),{video:{hasLoomBranding:a=!0,videoWorkspacePlan:r,id:i}}=(0,b.dPl)(),l=(0,e$.Mr)({flag:eG.vL2,activationValues:[!0]}),o=(0,e$.Mr)({flag:eG.wQD,activationValues:[!0]}),s=(0,e$.Mr)({flag:eG.EjA,activationValues:nL.y}),{loading:c,data:d}=function(e){let t={...au,...e};return nm.a(am,t)}({variables:{fromRecorder:e,videoId:i}}),u=(!c&&d?.getCurrentUser?.__typename==="GetCurrentUserPayload"&&d?.getCurrentUser?.user?.isFirstRecording)??!1,{value:m,loading:p}=(0,nV.B)(ep.BR.SEASONAL_LAUNCH_MODAL),{value:g,loading:v}=(0,nV.B)(ep.BR.SEASONAL_LAUNCH_TOUR),{selectedWorkspace:f,isFetching:E}=(0,er.mf)(),{currentUserIsOwner:_}=n,k=(0,h.useIsCurrentUserLoggedIn)(),y=f?.type===eZ.Fs,S=f?.type===eZ.UK||f?.type===eZ.q1,C=(0,ez.ke)("resume-anon-signup"),N=(0,eU.gH)(ej.Ce),T=k&&_&&!c&&!u&&!C&&!E&&!y&&!N&&S&&void 0!==f,I=!s&&T&&l&&!m&&!p,A=!s&&T&&o&&!g&&!v,x=!!(0,e$.W9)(eG.EI5),L=(0,h.useCurrentUserSelector)(e=>e.memberships?.[0]?.organization.is_pure_trial??!1,!1),{data:R}=(0,nU.rj)({variables:{workspaceId:f?.id},skip:!f?.id}),P=R?.customer?.__typename==="LoomCustomer"?R.customer:null,F=(0,al.yO)(P),{loading:O,value:W}=(0,ac.h)(as.aM.ALLOWS_AI),B=(0,ad.df)(f),$=f?.type===eZ.q1&&L&&!F,{value:M,loading:U}=(0,nV.B)(ep.BR.SEASONAL_LAUNCH_MODAL_VARIANTS),V=k&&_&&!c&&!u&&!C&&!E&&!y&&void 0!==f&&x&&!B&&!$&&!O&&!!W,H=V&&s&&!M&&!U,z=r===eZ.UK||r===eZ.Fs||r===eZ.q1,q=ao.tq&&!k&&z&&a,G=!ao.tq&&!k&&z&&a,j=(0,nZ.o3)({meetsAsgMobilePrecheck:q}),Z=(0,nq.Bu)({meetsAsgDesktopPrecheck:G});return w.createElement(w.Fragment,null,w.createElement(n2,null),w.createElement(nM,null),_?w.createElement(ai,{fromRecorderParam:e,recordingLimitParam:t}):null,j?w.createElement(nj,{showModal:!0}):null,Z?w.createElement(nz,{showModal:!0,gate:e9.K.ASG}):null,I||A?w.createElement(h.LoggedInOnly,null,w.createElement(nR.X,{currentUserIsOwner:_,workspace:f,skipModal:!I&&A})):null,H?w.createElement(h.LoggedInOnly,null,w.createElement(nx.X,{workspace:f,skipModal:!H&&!1})):null)};var av=n(86195),af=n(52874),ah=n(89734),aE=n(41789),a_=n(11903),ak=n(84437),ab=n(55068),ay=n(14698),aw=n(45798);let aS={},aC=(0,V.Ps)`
    query GetAiTrialData($workspaceId: ID!) {
  customer: getCustomer(workspaceId: $workspaceId) {
    __typename
    ... on LoomCustomer {
      metadata {
        fall24_trial
      }
    }
  }
  billing: getWorkspaceBillingDetails(workspaceId: $workspaceId) {
    billing_details {
      plan {
        pure_trial
      }
      add_ons {
        id
        price {
          id
          nickname
          product
          unit_amount
          recurring {
            interval
            interval_count
          }
        }
      }
    }
  }
}
    `,aN=({variant:e="ai-limit",isOpen:t,purchaseType:n})=>{let[a,r]=(0,w.useState)(t),i=(0,a_.st)(),l=(0,ab.hP)();(0,w.useEffect)(()=>{tb.track("loom_ai_trial_ended_popup_impression",{purchase_type:n,workspace_type:l?.type})},[n,l]);let o=()=>{r(!1),i(ep.BR.LOOM_AI_TRIAL_ENDED_FTUX),tb.track("loom_ai_trial_ended_dismiss_click")},s="ai-limit"===e?w.createElement(w.Fragment,null,w.createElement(ed.xvT,{size:"heading-md",fontWeight:"bold",alignment:"center",color:"body",noWrap:!0},"Your Loom AI"),w.createElement(ed.W20,{htmlTag:"span",position:"relative",top:"-5px"},w.createElement(ed.TRl,{brand:"ai",maxWidth:2,variant:"symbol"})),w.createElement(ed.LZC,{left:"small"}),w.createElement(ed.xvT,{size:"heading-md",fontWeight:"bold",alignment:"center",color:"body",noWrap:!0},"trial is ending")):w.createElement(ed.xvT,{size:"heading-md",fontWeight:"bold",alignment:"center",color:"body",noWrap:!0},"Your Loom trial has ended");return w.createElement(ed.W20,{position:"relative",zIndex:1e3},w.createElement(ea.Z,{name:ep.BR.LOOM_AI_TRIAL_ENDED_FTUX},w.createElement(ed.u_l,{isOpen:a,onCloseClick:o,maxWidth:86,noPadding:!0,"data-lens-theme":"dark"},w.createElement(aT,null,w.createElement(ed.xMy,{alignment:"center"},w.createElement(ed.ggW,{gap:"medium",rows:["1fr","1fr","1fr"],justifyContent:"center"},w.createElement("div",{className:"flex flexDirection:row"},s),w.createElement(ed.xvT,{alignment:"center",color:"body"},"ai-limit"===e?"Enjoy AI features for one more time on this video. Upgrade to get unlimited access to Loom AI.":"Upgrade to get unlimited access to editing and AI."),w.createElement("div",null,w.createElement(ed.xMy,{alignment:"center"},w.createElement(af.F,{cta:"fall-24-trial"===e?"Upgrade":void 0,purchaseType:n,buttonVariant:"primary",onCloseClick:o,source:av.y.AI_TRIAL_ENDED_MODAL})))))))))},aT=({children:e})=>w.createElement(ed.W20,{backgroundColor:"#2B1C50",padding:"xlarge",minHeight:"375px",position:"relative",overflow:"hidden"},w.createElement(ed.W20,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0"},w.createElement(ah.R,{size:20,position:[-100,100]}),w.createElement(ah.R,{size:18,position:[-6,-152]}),w.createElement(ah.R,{size:6,position:[92,-20]}),w.createElement(ah.R,{size:2.5,position:[72,68]})),w.createElement(ed.W20,{position:"relative",height:"100%",maxWidth:"410px",marginX:"auto",paddingTop:"medium"},e)),aI=()=>{let e=(0,ak.W)(),t=(0,D.v9)(U.Pw),n=(0,ab.hP)(),a=(0,h.useCurrentUserSelector)(e=>e.id,NaN),{data:r,loading:i}=function(e){let t={...aS,...e};return nm.a(aC,t)}({variables:{workspaceId:n?.id},skip:!n?.id}),l=r?.billing?.billing_details,o=r?.customer?.__typename==="LoomCustomer"?r.customer:null,s=o?.metadata.fall24_trial==="completed",{data:c,loading:d}=(0,aE.qL)({variables:{userId:a,workspaceId:n?.id},fetchPolicy:"no-cache",skip:!n?.id}),u=n?.type,m=!!l?.plan?.pure_trial,p=n?.organization_properties?.salesSupportType===aw.$v,g=u===eZ.zF,v=l?.add_ons??[],f=v?v.find(e=>(0,ay.Sp)(e.price.product).addon===M.e9.Ai):void 0,E=f&&n?.memberRole===n7.N,_=!f&&n?.memberRole!==n7.Xx,k=E||_?"request-ai":f?"has-ai-addon":p||g?"sales-led":u===eZ.UK||m?"with-base-plan":"add-on-only",b=Number(1===(n?.memberLimits??{})[n8.AI]),y=t&&e&&!f&&b||s||!1;return n&&!i&&c&&!d&&y?w.createElement(aN,{variant:s?"fall-24-trial":"ai-limit",isOpen:y,purchaseType:k}):null};var aA=n(31033),ax=n(43249),aL=n(16765),aR=n(34630),aP=n(80110),aF=n(40329);let aO=()=>{let e=(0,D.I0)(),{video:{id:t}}=(0,b.dPl)(),n=(0,D.v9)(aP.H),a=(0,D.v9)(U.r7),{resetState:r,hasTrims:i}=(0,aL.ou)(e=>({hasTrims:e.hasTrims,resetState:e.resetState})),{leaveEdit:l}=(0,aF.Ey)();return w.createElement(ax.$,{isOpen:!!n,title:"There are unsaved changes to your video.",subtitle:"Are you sure you want to discard them?",closeModal:()=>e((0,aR.yh)(!1)),discardChanges:()=>{r(),l(),e((0,tY.zn)(a)),tb.track(c.sJt,{id:t,has_been_trimmed:i(),event_type:"click"})}})};var aD=n(93361),aW=n(78485);let aB=()=>{let e=(0,D.I0)(),{setVideo:t,setVideoProperties:n,video:{id:a}}=(0,b.dPl)(),[r,i]=(0,w.useState)(!1),[l,o]=(0,w.useState)(!1),[d,u]=(0,w.useState)(!1),{replaceClips:m,showRevertWarning:p,setShowRevertWarning:g}=(0,aL.ou)(e=>({replaceClips:e.replaceClips,showRevertWarning:e.showRevertWarning,setShowRevertWarning:e.setShowRevertWarning})),[v]=(0,nv.D)(aD.RevertToOriginal,{fetchPolicy:"no-cache"}),{lastTrimId:f,forceSave:h}=(0,L.L7)(),E=(0,w.useCallback)(()=>{g(!1),i(!1),o(!1)},[g]),_=(0,w.useCallback)(r=>async()=>{tb.track(c.SBE,{id:a,event_type:"click"});try{u(!0);let l=await v({variables:{videoId:a,lastTrimId:f,forceSave:r||h}}),s=l.data.revertToOriginal,c=s?.video?.clips;if("RevertToOriginalPayload"===s.__typename&&c?.length>0){await m(c),E();let a=c[0];a&&(t({processingInformation:{trimId:s.video.processing_information.trim_id,trimRanges:s.video.processing_information.trim_ranges}}),n({playableDuration:s.video.playable_duration,sourceDuration:s.video.source_duration}),(0,D.dC)(()=>{e((0,tY.ZZ)(0)),e((0,tY.c7)(0)),e((0,tY.Xm)({clipTimeOffset:0,partCredentials:a?.source_part_credentials,seekTime:0,sourceMimeType:a?.source_mime_type,sourceUrl:a?.source_url,sourceUrlIsTranscoded:a?.source_url_is_transcoded})),e((0,tY.vj)([]))}))}else if("SavingOverNewClipChangesPayload"==s.__typename)o(!0),i(!0);else throw Error()}catch(t){e((0,ew.o)(s.pn,"Failed to revert your changes"))}finally{u(!1)}},[E,e,h,f,m,v,t,n,a]);return w.createElement(w.Fragment,null,w.createElement(ed.u_l,{id:"revertToOriginalModal",title:"Revert to original",isOpen:!!p&&!r,onCloseClick:E,onBackgroundClick:E,mainButton:w.createElement(ed.zxk,{hasLoader:d,id:"revertToOriginalDangerButton",isDisabled:d,onClick:_(l),variant:"danger"},"Revert to original"),secondaryButton:w.createElement(ed.zxk,{id:"revertToOriginalCancelButton",isDisabled:d,onClick:E},"Continue editing")},"This will clear all changes you have made to your Loom and delete all existing comments and reactions. This cannot be undone. Are you sure?"),w.createElement(aW.j,{isOpen:!!p&&r,isOverwriting:d,onBackgroundClick:E,onCancelClick:E,onCloseClick:E,onOverwriteClick:_(l)}))},a$=({first_name:e,last_name:t})=>`${e||""} ${t||""}`.trim(),aM=({notifiedUsers:e=[]})=>{let t="Your changes were saved";if(!e||!e.length)return w.createElement(ed.xvT,null,t);let n=e.map(e=>a$(e));if(e.length<=3)return w.createElement(ed.xvT,null,t,", and we notified ",w.createElement("strong",null,n.reduce((e,t)=>`${e}${t}, `,""))," that you added their clips to your Loom");let a=[n[0],n[1]],r=n.length-2;return w.createElement(ed.xvT,null,t,", and we notified ",w.createElement("strong",null,a.reduce((e,t)=>`${e}${t}, `,""))," and ",w.createElement("strong",null,r," ",nb()("others",r))," that you added their clips to your Loom")},aU=()=>{let{showWeaveToast:e,setShowWeaveToast:t,setNotifiedUsers:n,notifiedUsers:a}=(0,aL.ou)(e=>({setShowWeaveToast:e.setShowWeaveToast,showWeaveToast:e.showWeaveToast,notifiedUsers:e.notifiedUsers,setNotifiedUsers:e.setNotifiedUsers})),r=(0,w.useCallback)(()=>{t(!1),n([])},[t,n]);return w.createElement(ed.FNi,{isOpen:e,onCloseClick:r},w.createElement(aM,{notifiedUsers:a}))},aV=()=>{let e=(0,D.v9)(e=>e.trimming.in_trim_mode);return w.createElement(w.Fragment,null,w.createElement(aO,null),w.createElement(aB,null),w.createElement(aU,null),e&&w.createElement("div",{className:"sharePageOverlay"}))},aH=({children:e,useAnonymousNavigation:t,videoId:n})=>w.createElement(w.Fragment,null,w.createElement(aV,null),w.createElement("div",null,w.createElement(aA.A,{useAnonymousNavigation:t,mainContentHasFullWidth:!0,isShareVideo:!0,videoId:n},w.createElement(j.Gm,{name:eb.j8.ShareVideoIndexSharedErrorBoundary,team:B.SZ.CorePlatform},e))));var az=n(50907);let aq=()=>{let{video:{id:e}}=(0,b.dPl)();return aJ(),aY(e),function(e){let t=(0,b.nn3)(e),n=(0,D.v9)(U.Mx);w.useEffect(()=>{if(!t||!n)return;let e=()=>null!==window.document.querySelector("input:focus, select:focus, textarea:focus, [contenteditable]:focus"),a=e=>{["Space","ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.code)&&(e.preventDefault(),e.stopPropagation())},r=n=>{let r=n.ctrlKey||n.metaKey;e()||r||(a(n),az.Be.includes(n.key)&&t.togglePlay(),az.d3.includes(n.key)&&t.toggleMute(),az._d.includes(n.key)&&t.toggleRate(),[az.TW].includes(n.key)&&t.backward(5),[az.lC].includes(n.key)&&t.forward(5))},i=t=>{let n=t.ctrlKey||t.metaKey;e()||n||a(t)};return document.addEventListener("keydown",i),document.addEventListener("keyup",r),()=>{document.removeEventListener("keydown",i),document.removeEventListener("keyup",r)}},[t,e,n])}(e),aZ(),aG(),aj(),null},aG=()=>{let{setChapters:e}=(0,b.dPl)(),t=(0,D.v9)(U.QN);w.useEffect(()=>{void 0!==t&&e(t)},[t,e])},aj=()=>{let{setTasks:e}=(0,b.dPl)(),t=(0,D.v9)(U.e7);w.useEffect(()=>{t&&t.length&&e((0,C.X0)(t))},[t,e])},aZ=()=>{let{setCta:e}=(0,b.dPl)(),t=(0,D.v9)(U.c3),n=(0,D.v9)(U.tV);w.useEffect(()=>{n?e((0,C.BO)({url:t.ctaUrl,text:t.ctaText,mods:t.ctaMods,enabled:n})):e()},[t,n,e])},aY=e=>{let t=(0,b.nn3)(e),n=(0,D.v9)(ef._i),a=(0,D.v9)(ef.R3),r=(0,D.v9)(ef.md),i=(0,D.I0)();w.useEffect(()=>{a&&t&&(t.currentTime=a)},[t,a]),w.useEffect(()=>{t&&(r&&t.paused&&t.togglePlay(),r&&i((0,tY.lZ)()))},[t,r]),w.useEffect(()=>{t&&n&&!t.paused&&t.togglePlay()},[t,n])},aJ=()=>{let{setCaptionsUrl:e}=(0,b.dPl)(),t=(0,D.v9)(ef.jl);return w.useEffect(()=>{e&&e(t)},[t,e]),null};var aX=n(63954),aK=n.n(aX),aQ=n.p+"img/icons/new/add-white-4d66bcb0e24cd02e4fec.svg",a0=n.p+"img/icons/new/minus-white-853ebc18dc70f9f38e23.svg",a1=n.p+"img/illustrations/drag-to-reposition-a58753a67014b4cfc40d.svg",a5=n(65922),a2=n(83117),a4=n.n(a2),a3=n(23837);let a8=(e,t,n,a,r)=>{let i=e=>{t.current?.focus();let{x:i}=(0,a3.K1)(t.current,e);r(n+i*(a-n))},l=e=>{document.removeEventListener("mousemove",i,!0),document.removeEventListener("touchmove",i,!0),document.removeEventListener("mouseup",l,!0),document.removeEventListener("touchend",l,!0),t.current?.blur()};document.addEventListener("mousemove",i,!0),document.addEventListener("mouseup",l,!0),document.addEventListener("touchmove",i,!0),document.addEventListener("touchend",l,!0),i(e)},a7=({scale:e,setScale:t,minZoom:n,maxZoom:a})=>{let[r,i]=(0,w.useState)(0),l=(0,w.useRef)(null),o=(e-n)/(a-n);(!a4()(o)||o<0)&&(o=0);let s=Math.floor(100*o),c=l.current?.clientWidth||0;return(0,w.useEffect)(()=>{r!==c&&i(c)},[r,c]),w.createElement("div",{tabIndex:0,ref:l,className:"slider",onMouseDown:e=>a8(e,l,n,a,t),onTouchStart:e=>a8(e,l,n,a,t),onClick:e=>e.preventDefault(),"aria-label":"Zoom slider","aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":100},w.createElement("div",{className:"relative height:100 bgc:white",style:{width:`${s}%`}},w.createElement("span",{className:"zoom"})))};var a9={container:"thumbnail-positioner_container_3Vn",line:"thumbnail-positioner_line_2Pe",window:"thumbnail-positioner_window_3GH",editing:"thumbnail-positioner_editing_3lF",loadingSpinner:"thumbnail-positioner_loadingSpinner_3AJ",zoomPill:"thumbnail-positioner_zoomPill_1zi",scale:"thumbnail-positioner_scale_2x7",drag:"thumbnail-positioner_drag_1ps"},a6=n(54437),re=n(95796);let rt=({initiateSave:e,currentlyUploading:t,cropperRef:n,thumbnailLocalUrl:a,options:r})=>{let i=(0,D.I0)(),{updateVideo:l}=(0,y.G)(),{video:{id:o},setVideo:d}=(0,b.dPl)();if(!e||t||!n.current)return;let{x:u,y:m,width:p,height:g}=n.current.getCroppingRect();i((0,a6.f5)());let v=rn(a);if(v.size>1e6*4){i((0,ew.o)(s.pn,"Selected file too big. Max 4 MB. Please try again.")),i((0,a6.f5)());return}let f=new FormData;f.append("thumbnail",v),f.append("dims",JSON.stringify({...r,x:u,y:m,width:p,height:g})),(0,tz.Z)(`/v1/videos/${o}`,{method:"PATCH",credentials:"include",body:f}).then(e=>{if(e.status>=400)throw Error(`got a bad response status: ${e.status}`);return i((0,a6.f5)()),i((0,re.Bh)("New thumbnail saved")),i((0,a6.oU)()),tb.track(c.rtr,{video_id:o}),e.json()}).then(e=>{d((0,C.TW)(e)),i((0,$.jE)(e)),l(e)}).catch(e=>{i((0,ew.o)(s.pn,"Oops! Failed to update video thumbnail.")),W.warning(e,{message:"Error in PATCH to /v1/videos/thumbnail"}),i((0,a6.f5)()),i((0,a6.oU)())})},rn=e=>{let t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[1]),r=a.length,i=new Uint8Array(r);for(;r--;)i[r]=a.charCodeAt(r);return new Blob([i],{type:n})},ra=()=>{let{video:{thumbnails:{og_thumbnail_crop_dims:e}}}=(0,b.dPl)(),t=(0,D.v9)(a5.k7),n=(0,D.v9)(a5.CX),a=(0,D.v9)(a5.wp),r=(0,D.v9)(a5.tX),{width:i,height:l}=t??{width:0,height:0},o=e?.position_info??{position:{x:0,y:0},scale:1},[s,c]=(0,w.useState)(o.scale),[d,u]=(0,w.useState)(o.position),[m,p]=(0,w.useState)({height:0,width:0}),[g,v]=(0,w.useState)(!1),f=(0,w.useRef)(null),h=(0,w.useRef)(null),E=()=>{if(f.current){let{width:e,height:t}=f.current.getBoundingClientRect();p({width:e,height:t})}};(0,w.useEffect)(()=>(window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}),[]),rt({initiateSave:r,currentlyUploading:a,cropperRef:h,thumbnailLocalUrl:n,options:{full_width:i,full_height:l,position_info:{scale:s,position:d}}}),(0,w.useEffect)(()=>{if(e){let{position_info:{position:t,scale:n}}=e;u(t),c(n)}},[e]),(0,w.useEffect)(()=>{n&&E()},[n]);let _=n||a,k=n&&!a,y=!g&&k;return w.createElement("div",{ref:f,className:O()(a9.window,_?a9.editing:"")},n?w.createElement(aK(),{position:d,ref:h,image:n,width:m?.width,height:m?.height,scale:s,style:{cursor:"move"},onMouseMove:()=>{g||v(!0)},onMouseUp:()=>{v(!1)},onPositionChange:u,border:0}):null,y?w.createElement("img",{alt:"drag to reposition",width:"175px",height:"42px",src:a1,className:a9.drag}):null,a?w.createElement("div",{className:a9.loadingSpinner},w.createElement(ed.aNw,{size:"large"})):null,k?w.createElement(w.Fragment,null,w.createElement(rr,{height:m.height,width:m.width}),w.createElement("div",{className:a9.zoomPill},w.createElement("img",{alt:"zoom out",width:"12",height:"2",src:a0,className:a9.scale,onClick:()=>{c(e=>Math.max(e-.1,1))}}),w.createElement(a7,{maxZoom:4,minZoom:1,scale:s,setScale:c}),w.createElement("img",{alt:"zoom in",width:"12",height:"12",src:aQ,className:a9.scale,onClick:()=>{c(e=>Math.min(e+.1,4))}}))):null)},rr=({height:e,width:t})=>w.createElement("div",{className:a9.container,style:{width:t,height:e}},w.createElement("div",{className:a9.line,style:{top:e/3,width:t}}),w.createElement("div",{className:a9.line,style:{top:2*e/3,width:t}}),w.createElement("div",{className:O()(a9.line,a9.horizontal),style:{left:t/3,height:e}}),w.createElement("div",{className:O()(a9.line,a9.horizontal),style:{left:2*t/3,height:e}}));var ri=n(55049),rl=n(15385),ro={stepAnimation:"progress-bar_stepAnimation_Li0",tutorialComplete:"progress-bar_tutorialComplete_2bD"};let rs=({tutorialComplete:e})=>w.createElement(ed.W20,{backgroundColor:"grey6",height:"6px",overflow:"hidden",position:"relative",radius:"full",width:"212px",zIndex:1},w.createElement("div",{className:O()(ro.stepAnimation,e&&ro.tutorialComplete)}),w.createElement("svg",{width:"212",height:"6",viewBox:"0 0 212 6",xmlns:"http://www.w3.org/2000/svg",className:"absolute"},w.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M212 0H0V3.00175V6H2.8967C1.28768 5.94555 0 4.62403 0 3.00175C0 1.34489 1.34315 0.00174546 3 0.00174546H29C30.6569 0.00174546 32 1.34489 32 3.00175C32 4.62403 30.7123 5.94555 29.1033 6H38.8967C37.2877 5.94555 36 4.62403 36 3.00175C36 1.34489 37.3431 0.00174546 39 0.00174546H65C66.6569 0.00174546 68 1.34489 68 3.00175C68 4.62403 66.7123 5.94555 65.1033 6H74.8967C73.2877 5.94555 72 4.62403 72 3.00175C72 1.34489 73.3431 0.00174546 75 0.00174546H101C102.657 0.00174546 104 1.34489 104 3.00175C104 4.62403 102.712 5.94555 101.103 6H110.897C109.288 5.94555 108 4.62403 108 3.00175C108 1.34489 109.343 0.00174546 111 0.00174546H137C138.657 0.00174546 140 1.34489 140 3.00175C140 4.62403 138.712 5.94555 137.103 6H146.897C145.288 5.94555 144 4.62403 144 3.00175C144 1.34489 145.343 0.00174546 147 0.00174546H173C174.657 0.00174546 176 1.34489 176 3.00175C176 4.62403 174.712 5.94555 173.103 6H182.897C181.288 5.94555 180 4.62403 180 3.00175C180 1.34489 181.343 0.00174546 183 0.00174546H209C210.657 0.00174546 212 1.34489 212 3.00175C212 4.62403 210.712 5.94555 209.103 6H212V3.00175V0Z",fill:"#2B1C50"})));var rc={tutorialWrapper:"card_tutorialWrapper_DPx",orangeBlur:"card_orangeBlur_3ek",pinkBlur:"card_pinkBlur_2Yr",purpleBlur:"card_purpleBlur_jKg"};let rd=({heading:e,subheading:t,cta:n,closeTutorial:a,tutorialStep:r,tutorialComplete:i})=>((0,w.useEffect)(()=>{void 0!==r&&tb.track(c.El2,{tutorialStep:r})},[r]),w.createElement("div",{className:rc.tutorialWrapper},i&&w.createElement(w.Fragment,null,w.createElement("span",{className:rc.purpleBlur}),w.createElement("span",{className:rc.pinkBlur}),w.createElement("span",{className:rc.orangeBlur})),w.createElement(ed.W20,{"data-lens-theme":"dark",width:"38.25rem",height:"18.625rem",padding:7},w.createElement(rs,{tutorialComplete:i}),w.createElement(ed.W20,{position:"relative",zIndex:2},w.createElement(ed.LZC,{y:"large"},w.createElement(ed.xvT,{fontWeight:"bold",size:"heading-md",color:"body"},e)),w.createElement(ed.xvT,{size:"body-lg",color:"body"},t),w.createElement(ed.LZC,{top:"xlarge"}),w.createElement(ed.ggW,{gap:"xlarge"},n&&w.createElement(ed.W20,{backgroundColor:"white",radius:"full","data-lens-theme":"light"},n),a&&w.createElement(ed.Avr,{onClick:a,offsetSide:"left"},"Close tutorial"))))));var ru=((a=ru||{}).copyAndShare="copyAndShare",a.recordAnotherLoom="recordAnotherLoom",a);let rm=()=>{let e,t;let[n,a]=(0,w.useState)(!0),[r,i]=(0,ri.Z)(P.GA),l=()=>{a(!1),i(!1)},o="",s="";return(r?(o="Copy the link to share",s="Fun fact—when you finish the recording, the link is auto-copied.",t=ru.copyAndShare):(o="Hey there, new Loom pro \uD83E\uDD29",s="First Loom, done. You’re now ready to make your own.",e=w.createElement(rl.RecordButton,{source:"Extension tutorial complete record another Loom clicked",priorityList:[nT.fl]},w.createElement(ed.zxk,{onClick:l},"Record another Loom video")),t=!1===r?ru.recordAnotherLoom:void 0),(0,w.useEffect)(()=>{i(!0)},[]),n)?w.createElement(w.Fragment,null,r&&w.createElement(ed.W20,{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(75, 66, 173, .8)",zIndex:2}),w.createElement(rd,{heading:o,subheading:s,cta:e,closeTutorial:()=>{tb.track(c.RE9,{tutorialStep:t}),l()},tutorialStep:t,tutorialComplete:!r})):null};var rp=n(71621),rg=n(88762),rv=n(51458);let{SignedOutEndOfVideoNudges:rf,SignedOutEndOfVideoNudgesEmojiReactions:rh,AnonWebPlayerPauseModal:rE}=e5.ASGSource,r_=({shouldOpenInsights:e,fromRecorderParam:t,openSharePermissionsParam:n})=>{let a=(0,D.I0)(),{setVideo:r,video:{id:i="",owner:l}={}}=(0,b.dPl)(),o=(0,b.nn3)(i),c=(0,h.useIsCurrentUserLoggedIn)(),d=(0,D.v9)(e=>e.welcome?.complete),u=(0,ez.ke)("replyVideoId"),p=(0,ez.jS)("t"),g=(0,ez.jS)("videoCurrentTime"),[v,f]=w.useState(!1);w.useEffect(()=>{if(o){if(u&&g){let e=Number(g);Number.isNaN(e)||(o.currentTime=Number(g));return}if(p){let e=Number(p);Number.isNaN(e)||(o.currentTime=Number(p))}}},[u,o,p,g]),w.useEffect(()=>{if((u&&!d||R.r8&&(0,ez.jS)("anon-reply-creator"))&&a((0,e6.h7)({modalType:_.Hk})),(0,ez.ke)("resume-signup")&&a((0,e6.h7)({modalType:_.Uy})),(0,ez.ke)("resume-anon-signup")&&a((0,e6.h7)({modalType:(0,tt.MG)()})),R.r8&&(0,ez.ke)("hardgate_comment")){let e=(0,ez.jS)("hardgate_comment");a((0,e6.h7)({modalType:_.rE.HARD_GATE_COMMENT_EMOJI_MODAL,options:{interactionType:rg.s.Comment,comment:e}}))}if(R.r8&&(0,ez.ke)("hardgate_view")&&a((0,e6.h7)({modalType:_.rE.HARD_GATE_VIEWS_MODAL,options:{videoOwnerName:"",source:e5.ASGSource.SignedOutHardGatingViews,signupParams:{signup_source:e5.ASGSource.SignedOutHardGatingViews},gate:e9.K.HARD_GATE_VIEWS}})),(0,ez.ke)("start-embed-anon-signup")&&!c){let e=`Sign up to tell ${l?.displayName||"your teammate"} you watched this!`;a((0,e6.h7)({modalType:(0,tt.MG)(),options:{header:e,subheader:"Share ideas. Skip meetings.",hideModeSwitcher:!0,source:rE}}))}if((0,ez.ke)("asg_comment")&&(0,ez.ke)("comment")&&!c){let e=(0,ez.jS)("comment"),t=(0,ez.jS)("video_time_stamp"),n=(0,ez.jS)("anon_name");a((0,e6.h7)({modalType:(0,tt.MG)(),options:{gate:e9.K.REACTION,comment:e,commentVideoId:i,anonName:n,videoId:i,header:"Add your name to this comment",subheader:"Sign up and cut down on live meetings.",tertiaryButtonText:"Post comment anonymously",tertiaryButtonIcon:tt.YO.Comment,hideModeSwitcher:!0,source:rf,signupParams:{anonComment:e,anonCommentVideoId:i,anonCommentTimestamp:t,signup_source:rf}}}))}if((0,ez.ke)("asg_reaction")&&(0,ez.ke)("reaction")&&!c){let e=(0,ez.jS)("reaction"),t=(0,ez.jS)("video_time_stamp");a((0,e6.h7)({modalType:(0,tt.MG)(),options:{gate:e9.K.REACTION,emojiReaction:e,emojiReactVideoId:i,header:"Add your name to this reaction",subheader:"Sign up and cut down on live meetings.",tertiaryButtonText:"Post reaction anonymously",tertiaryButtonIcon:tt.YO.React,hideModeSwitcher:!0,source:rh,signupParams:{anonReaction:e,anonReactionVideoId:i,anonReactionTimestamp:t,signup_source:rh}}}))}e&&a((0,rv.Z)())},[a,t,u,c,l?.displayName,e,i,d]),w.useEffect(()=>{n&&!v&&(f(!0),a((0,e6.h7)({modalType:_.cc,options:{source:"share_button",videoId:i,setVideo:r}})))},[a,n,i,r,v]),w.useEffect(()=>{if(t){let e=rp.zp(`${m.OA}/share/${i}`);e&&(0,re.Bh)("Link copied to clipboard!",s.H_,6e3)}},[t,i])};var rk=n(70910);let rb=(0,K.r)(()=>Promise.all([n.e(3448),n.e(7389),n.e(4142),n.e(4191)]).then(n.bind(n,72383)).then(e=>({default:e.VideoMetadata}))),ry=()=>w.createElement(w.Suspense,{fallback:null},w.createElement(rb,null)),rw=(0,K.r)(()=>Promise.all([n.e(4142),n.e(2418)]).then(n.bind(n,66658)).then(e=>({default:e.VideoMetadataMobile}))),rS=e=>w.createElement(w.Suspense,{fallback:null},w.createElement(rw,{...e})),rC=e=>{let{featureLoadedRef:t}=(0,ec.kX)(),n=(0,L.UV)();return n?null:w.createElement("div",{ref:t,className:"metadataContainer"},w.createElement(ed.ggW,{gap:"medium",autoFlow:"column",alignItems:"start",justifyContent:"stretch",columns:["100%"]},w.createElement(ex.z,{query:`(max-width: ${eT.I0}px)`},w.createElement(rS,{anonCreatorMode:e.anonCreatorMode,focusTitle:e.focusTitle})),w.createElement(ex.z,{query:`(min-width: ${eT.Sx}px)`},w.createElement(ry,null))))},rN=e=>w.createElement(eo.$,{feature:B.L0.VideoMetadata,errorType:es.s.SILENT},w.createElement(rC,{...e})),rT=()=>{let e=(0,D.I0)(),{video:{complete:t,downloadable:n,id:a}}=(0,b.dPl)(),{isProtected:r,password:i}=(0,k.u)();return w.useEffect(()=>{t&&e((0,t_.nx)({downloadable:n,isVideoProtected:r,password:i,videoId:a}))},[t,e,a,n,r,i]),null},rI=(0,K.r)(()=>n.e(508).then(n.bind(n,99229)).then(e=>({default:e.WeaveSyncer}))),rA=()=>w.createElement(w.Suspense,{fallback:null},w.createElement(rI,null));var rx=n(94958),rL=n(22001),rR=n(89881),rP=n(52383),rF=n(21597),rO=((r=rO||{}).DISPLAY="display",r.SKIPPED="skipped",r.DISMISSED="dismissed",r),rD=n(68851),rW=n(76559),rB=n(42074);function r$(){let[e,t]=(0,w.useState)(!1),[n,a]=(0,w.useState)(!1),r=(0,ez.PE)(window.location.pathname)[0];return(0,w.useEffect)(()=>{window?.google?.accounts?.id?.initialize?.({client_id:rF.MM,callback(e){e?.credential&&rD.fi(rB.d0,{id_token:e.credential,authURL:window.location.href,fromWebSignup:!0}),rW.v3("google_one_tap.accepted",{source:r})}}),a(!0)},[r,e,n]),(0,w.useLayoutEffect)(()=>{!e&&n&&(window?.google?.accounts?.id?.prompt(e=>{if(e.isDisplayed())rW.v3("google_one_tap.displayed",{source:r});else switch(e.getMomentType()){case rO.DISPLAY:rW.v3("google_one_tap.not_displayed",{reason:e.getNotDisplayedReason(),source:r});break;case rO.SKIPPED:rW.v3("google_one_tap.skipped",{reason:e.getSkippedReason(),source:r});break;case rO.DISMISSED:rW.v3("google_one_tap.dismissed",{reason:e.getDismissedReason(),source:r})}}),t(!0))},[e,n,r,t]),null}let rM=({flag:e,activationValues:t,extraProperties:n})=>{let{featureLoadedRef:a}=(0,ec.kX)();return w.createElement(rP.Z,{flag:e,activationValues:t,extraProperties:n},w.createElement("div",{ref:a},w.createElement(r$,null)))},rU=({flag:e,activationValues:t,extraProperties:n})=>w.createElement(eo.$,{feature:B.L0.GoogleOneTap,errorType:es.s.SILENT},w.createElement(rM,{flag:e,activationValues:t,extraProperties:n}));var rV=n(95401),rH=n(86510),rz=n(83034);let rq=({isLoggedIn:e,currentUserIsOwner:t})=>{(0,rH.U)(),(0,rV.uE)(),(0,e$.Mr)({flag:eG.YU,activationValues:rz.Q8,eligibilityPreCheckFunction:()=>e&&t?{pass:!0}:{pass:!1,failReason:"ineligible: not part of experiment exposure criteria"}}),(0,e$.Mr)({flag:eG._Vl,activationValues:rz.Q8,eligibilityPreCheckFunction:()=>e&&t?{pass:!0}:{pass:!1,failReason:"ineligible: not part of experiment exposure criteria"}})},rG=(0,K.r)(()=>Promise.resolve().then(n.bind(n,15385)).then(e=>({default:e.RecordButton}))),rj=(0,D.$j)(e=>{let{current_user_is_owner:t,download_url:n,player_ready:a}=e.share_video,{selectedWorkspace:r}=e.workspace,{in_trim_mode:i}=e.trimming,{showing:l}=e.error_bar,{theater_mode:o,transcriptVisible:s,needs_password:c}=e.video_player,{complete:d}=e.welcome,u=(0,rR.F)(e),m=(0,n3.MU)(e,ej.Qb);return{currentUserIsOwner:t,downloadUrl:n,errorBarShown:l,hasSuggestedWorkspaceBanner:m,inTrimMode:i,isPasswordProtected:c,isViewerInsightsActive:u,playerReady:a,selectedWorkspace:r,theaterMode:o,transcriptVisible:s,welcomeComplete:d}},null)(({children:e,focusTitle:t,fromRecorderParam:n,fromTutorialParam:a,recordingLimitParam:r,...i})=>{let{video:l}=(0,b.dPl)(),{description:o,id:s,organizationId:c}=l,d=(0,eN.P)(),u=(0,e0.T2)(),m=(0,D.v9)(a5.DD),p=i.downloadable?i.downloadUrl:null,{hasCustomLogo:g,shouldShowLoomBranding:v}=(0,E.e)({videoId:s}),f=(0,N.l)(s),_=(0,h.useIsCurrentUserLoggedIn)(),k=(0,h.useCurrentUserSelector)(e=>!!(e.accountType&&rx.Up.includes(e.accountType)),!1),y=(0,eU.gH)(ej.ul),S=!_||!y||!k,{currentUserIsOwner:C,errorBarShown:T,inTrimMode:I,theaterMode:A,hasSuggestedWorkspaceBanner:x}=i;rq({isLoggedIn:_,currentUserIsOwner:C});let F=(0,w.useRef)(null),V=(0,w.useRef)(null),K=(0,w.useRef)(null),Q=(0,rk.V)(),et=(0,e$.W9)(eG.TCZ);(0,w.useEffect)(()=>{F.current?.style?.setProperty("--aspectRatio",String(Q))},[Q]),(0,w.useEffect)(()=>{m&&(window.scrollTo({top:0,behavior:"smooth"}),V.current?.scrollTo({top:0,behavior:"smooth"}))},[m]),(0,w.useEffect)(()=>{(0,na.Ly)(P.$u,{show:!0})},[]);let en=(0,e0.MS)(),ea=(0,L.UV)(),er=!ea&&!a,ei=(0,D.v9)(a5.DD),el=en&&!I,eo=O()("sharePageWrapper",{"current-user-is-owner":C,"error-bar-shown":T,theaterMode:A,hasTrimAndWeaveOverlay:d,hideSideNav:en&&!I,hasDescription:!!o,hideBlackBarsInVideo:el,inThumbnailFlow:ei});!function(){let{video:{id:e}}=(0,b.dPl)(),t=(0,D.v9)(U.e6),n=(0,h.useCurrentUserSelector)(e=>e.aiAccess,null),a=Object.values(n||{}).some(e=>e),[r,i]=(0,w.useState)(!1),l=(0,D.I0)();!function(e){let t={...z,...e};H.m(q,t)}({variables:{videoId:e},skip:!t||r||!a,onData:({data:e})=>{let t=e?.data;if(t&&!e?.loading&&t.intelligenceAvailable?.__typename==="IntelligenceStatusResponse"){var n,a;let{autoTitleStatus:e,title:r,autoDescriptionStatus:o,description:s,autoTasksStatus:c,autoTasksCount:d,autoChaptersStatus:u,autoChaptersCount:m}=t.intelligenceAvailable;l((0,$.IB)({autoTitleStatus:e,title:r,autoSummaryStatus:o,summary:s,autoTasksStatus:c,autoTasksCount:d,autoChaptersStatus:u,autoChaptersCount:m})),(n=t.intelligenceAvailable)&&G(n.autoTitleStatus)&&G(n.autoDescriptionStatus)&&G(n.autoTasksStatus)&&((a=n.autoChaptersStatus)===M.CK.Success||a===M.CK.Failure)&&i(!0)}},onError:t=>{let n=`Error subscribing to AI updates for video ${e}: ${t.message}`;W.error(t,{message:n,videoId:e},{feature:B.L0.VideoIntelligence})}})}();let es=!_&&!ao.tq,ec=(0,rL.cR)(),eu=ec===rL.MT.GET_STARTED_CHECKLIST_CALLOUT,em=!_&&!u,ep=v&&g,eg=el&&!eu&&!ep;return w.createElement(aH,{useAnonymousNavigation:S,videoId:s},w.createElement("div",{ref:F,className:eo},_&&x&&!et?w.createElement(nS,{organizationId:c}):null,w.createElement("div",{className:"sharePageContainer",onClick:()=>{Z.f.getState().setIsClicked()}},w.createElement("div",{ref:V,id:"videoAndMetadataWrapper",className:O()("videoAndMetadataWrapper",{videoAndMetadataWrapperInTrim:I})},em?w.createElement(t6,null):null,w.createElement("div",{className:O()("videoContainer",{videoContainerInTrimMode:I})},w.createElement(w.Fragment,null,w.createElement(eE,null),e,I?null:w.createElement(no,null),eg?w.createElement(j.Ho,{feature:B.L0.SDKRecorder},w.createElement(w.Suspense,{fallback:null},w.createElement(ed.W20,{position:"fixed",left:"xlarge",bottom:"large",zIndex:1},w.createElement(rG,{priorityList:_?[nT.fl,nT.q5,nT.Bq]:[nT.Bq],location:rl.SHARE_PAGE},w.createElement(J.w,{isCollapsed:!0,hideSideNav:!0,isOnSharePage:!0}))))):null,I?w.createElement(eC,null,w.createElement(ee,null)):null)),I?null:w.createElement(rN,{anonCreatorMode:f,focusTitle:t,fromRecorderParam:n})),er?w.createElement(X.XH,{useDefaultWidth:m,ref:K}):null,C?w.createElement(aI,null):null,w.createElement(h.LoggedInOnly,null,w.createElement(Y.l,{inVideoWrapper:!0,rightPanelRef:K})))),w.createElement("div",{id:"gmail-integration-share-page-placeholder"}),ep?w.createElement(nA,null):null,w.createElement(t2,null),w.createElement(t8,null),w.createElement(tV,{isLoggedIn:_,downloadUrl:p,fromRecorderParam:n,fromTutorialParam:a}),w.createElement(ag,{fromRecorderParam:n,recordingLimitParam:r}),es&&!R.cm?w.createElement(rU,{flag:eG.YmC,activationValues:eG.c7r,extraProperties:{isMobile:ao.tq}}):null)}),rZ=e=>{let t=(0,D.v9)(U.Mx),n=(0,D.v9)(a5.wu),a=(0,D.v9)(a5.DD),{video:r}=(0,b.dPl)(),{currentUserCanEdit:i,downloadable:l}=r;r_({shouldOpenInsights:e.shouldOpenInsights,fromRecorderParam:e.fromRecorderParam,openSharePermissionsParam:e.openSharePermissionsParam}),(0,t7.jv)(r.id);let o=(0,D.v9)(U._n),s=e.fromTutorialParam&&e.fromRecorderParam&&o;return w.createElement(rj,{...e,downloadable:l,userCanEdit:i},s?w.createElement(rm,null):null,w.createElement(t4.dR,{isTrim:t},w.createElement(nt,{fromRecorderParam:e.fromRecorderParam,isFromTutorial:e.fromTutorialParam}),w.createElement(X.VR,null),w.createElement(ni,null),w.createElement(rT,null),w.createElement(aq,null),n&&o?w.createElement(ek,null):null,a?w.createElement(ra,null):null,t?w.createElement(eC,null,w.createElement(rA,null)):null))};var rY=n(34810),rJ=n(61917),rX=n(93281),rK=n(92407),rQ=()=>{let e=(0,D.I0)();return w.createElement(ed.W20,{width:"100%",backgroundColor:"primary",padding:"small"},w.createElement(ed.ggW,{gap:4,justifyContent:"center"},w.createElement(ed.xvT,{alignment:"center",color:"white",fontWeight:"bold"},"Sign up to save this video as your own. You can only do this for the next 24hrs."),w.createElement(ed.W20,{backgroundColor:"white",radius:"medium"},w.createElement(ed.zxk,{size:"small",onClick:()=>{e((0,e6.h7)({modalType:_.Uy}))}},w.createElement(ed.xvT,{fontWeight:"bold",color:"primary"},"Get Loom for Free")))))},r0=n(90885);let r1=({data:e,focusTitleParam:t,mutedParam:n,timeParam:a,shouldOpenInsights:r,fromRecorderParam:i,fromTutorialParam:l,recordingLimitParam:o,liveRewindParam:R,activeTabParam:P,oauthError:F,anonEmailParam:O,openSharePermissionsParam:W})=>{let B=(0,D.I0)(),[M,U]=(0,w.useState)(!1),{initPasswordStore:V}=(0,k.u)(),H=(0,rK.getVideoIdFromPageUrl)(window.location.href),z=(0,h.useIsCurrentUserLoggedIn)(),{updateVideo:q}=(0,y.G)(),{videoModel:G,loading:j}=(0,L.BI)({videoId:H}),{injectCustomBrandColors:Z}=(0,E.e)({videoId:H}),Y=(0,N.l)(H),J=(0,T.T)();if((0,w.useLayoutEffect)(()=>{j||G||M||(window.location.href=m.Hi)},[M,j,G]),(0,w.useLayoutEffect)(()=>{j||!G||M||(F&&B((0,ew.o)(s.pn,decodeURIComponent(F))),V({isProtected:G.is_protected,needsPassword:G.needs_password}),B((0,tY.Xh)(!0)),J(),B((0,$.jE)(G)),q(G),(0,r0.Dk)(G.name),B((0,$.gw)(i)),B((0,$.L5)(R)),P&&B((0,$.Yi)(P)),B((0,$.XU)(i)),Z(),!i&&(0,na.bM)("theaterMode")&&B((0,tY.zn)(!0)),U(!0))},[M,P,B,i,Z,R,F,V,j,q,G,J]),(0,w.useEffect)(()=>{if(!j&&O&&!z){(0,nQ.n4)(O);let e=G?G.id:null;tb.track(c.UAv,{videoId:e})}},[O,z,j,G]),(0,w.useEffect)(()=>{let e=document.referrer,t=rJ.Z[rJ.x.smartChip].includes(e),n=rJ.Z[rJ.x.googleChat].includes(e);(t||n)&&(0,rW.v3)(d.Cv,{type:t?rJ.Z[rJ.x.smartChip]:rJ.Z[rJ.x.googleChat]})},[]),j||!G||!M)return null;let X=G.current_user_is_owner,K={...C.x_,uid:G.id};return w.createElement(b.NPM,{video:(0,C.TW)(G),userContext:K},w.createElement(v.M,{pageName:f.s.SHARE},w.createElement(rY.TV,null,w.createElement(p.NJ,{pageName:u.oB,props:{is_owner:X,fresh:!0,isCommunityLoom:G.isCommunityLoom}},w.createElement(I.ZF,null,w.createElement(x.W,null,Y&&w.createElement(rQ,null),w.createElement(S.Provider,{value:e[rX.cD]},w.createElement(A.m$.Provider,{value:e[rX.$m]},w.createElement(A.x7,null,w.createElement(rZ,{focusTitle:t,mutedParam:n,timeParam:a,shouldOpenInsights:r,fromRecorderParam:i,fromTutorialParam:l,recordingLimitParam:o,openSharePermissionsParam:W})))),w.createElement(_.F0,null),w.createElement(g.Q,null)))))))};var r5=n(32585),r2=n(60394),r4=n.n(r2);let r3=()=>{window.loomResetFtux=async e=>{let t=(0,tq.J$)();try{return await t.mutate({mutation:r4(),variables:{name:e,value:!1}}),`FTUX "${e}" reset! You should refresh the page now.`}catch(t){return`Error resetting FTUX "${e}": ${t}`}}};var r8=n(76005),r7=n(56556),r9=n(19006),r6=n(82215),ie=n(17116),it=n(43956);let{reactor:ia}=eu.NOTIFICATION_URL_PARAMS,ir="1"===(0,ez.jS)(r9.nX),ii="1"===(0,ez.jS)(r9.s1),il="loom-video-first-view-updated"===(0,ez.jS)(r9.bR),io=(0,ie.k)(ia),is=""!==io,ic="1"===(0,ez.jS)(r9.mU),id="1"===(0,ez.jS)(r9.V9),iu="1"===(0,ez.jS)(r9.xt),im="1"===(0,ez.jS)(r9.ED),ip=(0,ez.jS)(r9._G),ig="1"===(0,ez.jS)(r9.oR),iv=(0,ez.jS)(r9._S),ih=(0,ez.jS)(r9.oO),iE=(0,ez.jS)(r9._F)?(0,it.FL)(atob((0,ez.jS)(r9._F)),{}):{},i_=(0,ez.jS)(r9.XD);try{!function(){r8.v.onReady(()=>{r8.v.startView("/share/:videoId")});try{(0,r7.XC)()}catch(e){}let e=il||is,{pathname:t,search:n}=window.location,a=[r9._G,r9.nX,r9.s1,r9.bR,r9.mU,r9.ED,r9.oO,r9.bC,r9.Im,r9._F,r9.xt,r9.XD,r9.V9,r9.oR],r=(0,ez.t9)(a,n);window.history.replaceState("","",`${t}${r}`),iE&&iE?.referrer==="push"&&(0,r6.gC)(iE);let s=document.getElementById("container");r3(),(0,r5.render)(w.createElement(i.KA,null,w.createElement(o.t,{feature:B.L0.SharePage},w.createElement(l.b,null,w.createElement(r1,{data:iE,focusTitleParam:ir,mutedParam:ii,timeParam:iv,shouldOpenInsights:e,fromRecorderParam:ic,fromTutorialParam:iu,recordingLimitParam:im,liveRewindParam:id,activeTabParam:ip,oauthError:ih,anonEmailParam:i_,openSharePermissionsParam:ig})))),s)}()}catch(e){["SecurityError"].includes(e.name)||W.error(e,{message:"[Fresh Page] Errored",hasVideo:!0},{feature:B.L0.SharePage})}},61882:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateAnonPartnerSessionRecordingCache"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"createAnonPartnerSessionRecordingCache"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"createAnonPartnerSessionRecordingCachePayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:278}};t.loc.source={body:"mutation CreateAnonPartnerSessionRecordingCache($videoId: String!) {\n  result: createAnonPartnerSessionRecordingCache(videoId: $videoId) {\n    __typename\n    ... on createAnonPartnerSessionRecordingCachePayload {\n      success\n    }\n    ... on Error {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.CreateAnonPartnerSessionRecordingCache=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var i=n[t]||new Set,l=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){l.has(e)||(l.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return l.forEach(function(t){var n=a(e,t);n&&r.definitions.push(n)}),r}(t,"CreateAnonPartnerSessionRecordingCache")},34700:function(e){var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClipsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoClipDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source_owner_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"waveform_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"root_video_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source_s3_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"draft"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playable_duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source_duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video_properties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"camera_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screen_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"microphone_enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"num_hls_parts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recording_version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bucketVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tab_audio"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail_is_png"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"browser"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isVideoReply"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parentVideoId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recordingClient"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"client_version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"os"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"os_version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recording_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ui_location"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fromShortcut"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolution"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screen_width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screen_height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avgBitRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"countdown"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_since_app_launch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"doNativeHls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restartCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mediaMetadataRotation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sdkPartnerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trim_progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trim_ranges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoUploadValid"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"default4X3"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"default"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultPlay"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"animatedPreview"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGif"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultGifPlay"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"waveform_generation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boundaries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"bounded_trim_ranges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceOwner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatars"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:1174}};t.loc.source={body:"fragment ClipsFields on VideoClipDetails {\n  id\n  source_owner_id\n  waveform_url\n  root_video_id\n  source_s3_id\n  position\n  draft\n  createdAt\n  updatedAt\n  playable_duration\n  source_duration\n  video_properties {\n    width\n    height\n    camera_enabled\n    from_url\n    screen_type\n    microphone_enabled\n    num_hls_parts\n    recording_version\n    bucketVersion\n    tab_audio\n    thumbnail_is_png\n    browser\n    isVideoReply\n    ip\n    parentVideoId\n    recordingClient\n    client_version\n    os\n    os_version\n    user_id\n    recording_type\n    ui_location\n    fromShortcut\n    resolution\n    screen_width\n    screen_height\n    avgBitRate\n    countdown\n    time_since_app_launch\n    doNativeHls\n    restartCount\n    mediaMetadataRotation\n    sdkPartnerId\n  }\n  processing_information {\n    trim_id\n    trim_progress\n    trim_ranges {\n      from\n      to\n    }\n    videoUploadValid\n  }\n  thumbnails {\n    default4X3\n    default\n    defaultPlay\n    animatedPreview\n    defaultGif\n    defaultGifPlay\n  }\n  waveform_generation\n  boundaries {\n    from\n    to\n  }\n  bounded_trim_ranges {\n    from\n    to\n  }\n  name\n  sourceOwner {\n    id\n    avatars {\n      thumb\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.ClipsFields=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var i=n[t]||new Set,l=new Set,o=new Set;for(i.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){l.has(e)||(l.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return l.forEach(function(t){var n=a(e,t);n&&r.definitions.push(n)}),r}(t,"ClipsFields")},93361:function(e,t,n){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"RevertToOriginal"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lastTrimId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forceSave"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"revertToOriginal"},arguments:[{kind:"Argument",name:{kind:"Name",value:"videoId"},value:{kind:"Variable",name:{kind:"Name",value:"videoId"}}},{kind:"Argument",name:{kind:"Name",value:"lastTrimId"},value:{kind:"Variable",name:{kind:"Name",value:"lastTrimId"}}},{kind:"Argument",name:{kind:"Name",value:"forceSave"},value:{kind:"Variable",name:{kind:"Name",value:"forceSave"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RevertToOriginalPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playable_duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"processing_information"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trim_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trim_ranges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClipsFields"},directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Warning"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Error"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:590}};a.loc.source={body:'#import "./ClipFragment.gql"\nmutation RevertToOriginal(\n  $videoId: ID!\n  $lastTrimId: ID!\n  $forceSave: Boolean!\n) {\n  revertToOriginal(\n    videoId: $videoId\n    lastTrimId: $lastTrimId\n    forceSave: $forceSave\n  ) {\n    ... on RevertToOriginalPayload {\n      video {\n        id\n        playable_duration\n        processing_information {\n          trim_id\n          trim_ranges {\n            from\n            to\n          }\n        }\n        clips {\n          ...ClipsFields\n        }\n      }\n    }\n\n    ... on Warning {\n      message\n    }\n\n    ... on Error {\n      message\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};a.definitions=a.definitions.concat(n(34700).definitions.filter(function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}));var i={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}a.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),i[e.name.value]=t}}),e.exports=a,e.exports.RevertToOriginal=function(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,r=new Set,o=new Set;for(a.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){r.has(e)||(r.add(e),(i[e]||new Set).forEach(function(e){o.add(e)}))})}return r.forEach(function(t){var a=l(e,t);a&&n.definitions.push(a)}),n}(a,"RevertToOriginal")},21507:function(e,t,n){"use strict";e.exports=n.p+"img/video-player/outage-ae512bb9e4a90e444101.png"}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[8264,3639,7190,3665,8558,7267,4124,9859,3406,7273,2532,9717,5863,3573,4206,5382,4368,6766,8851,8974,5919,596,2806,8125,2826,7932,3281,5796,1033],function(){return t(91040),t(82611),t(984)}),e.O()}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/share-video-9cfa8aa7f473a3303564.js.map