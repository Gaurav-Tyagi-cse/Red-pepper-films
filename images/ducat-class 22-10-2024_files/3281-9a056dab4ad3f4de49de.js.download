(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([[3281],{28411:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});let a="noise_cancellation_type"},51458:function(e,t,n){"use strict";n.d(t,{L:function(){return l},Z:function(){return r}});var a=n(31511);let r=a.ZN,l=a.fv},61259:function(e,t,n){"use strict";n.d(t,{Y:function(){return eY}});var a=n(20887),r=n(82548),l=n(58453),i=n(51155),o=n(50679),s=n(23117),c=n(60154),d=n(36897),m=n(16032),u=n(44e3),g=n(6415),v=n(33266),p=n(19292),E=n(16175),f=n(92714),h=n(39362),b=n(55238),y=n(45431),_=n(84437),k=n(56694),w=n(41994),C=n.n(w),T=n(54437),x=n(70211),S=n(37984),I=n(58216),A=n(35061),W=n(37658),N=n(40460),P=n(96885),$=n(60799),L=n(76706),F=n(83034),D=n(28411),z=n(25051),O=n(63432),R=n(48513),B=n(74544),V=n(95796),U=n(31439),M=n(65922),Z=n(95282),q=n(21190),j=n(78007),J=n(12162),Y=n(66175),H=n(4e3),K=n(4105),G=n(6705),X=n(82985);let Q=f.Z.div`
  display: flex;
  gap: var(--lns-space-medium);
`,ee=f.Z.div`
  padding: var(--lns-space-medium) 0;
  margin-right: var(--lns-space-xsmall);

  flex-grow: 1;
`,et=f.Z.span`
  margin: auto 0;
`,en=f.Z.span`
  display: flex;
  align-items: flex-start;
  gap: 6px;
`,ea=({text:e})=>{let t=(0,k.hP)(),n=t.memberRole===X.N,r=(0,o.I0)();return l.createElement(G.A,null,({showModal:t})=>l.createElement(v.xvT,{size:"small",color:"grey5"},l.createElement(v.rUS,{variant:"neutral",onClick:()=>{n?r((0,K.O)("business",{analyticEvent:a.Lam})):("customize player"===e&&d.track(a.zvP),t())}},"Upgrade"),l.createElement("span",null,` to ${e}`)))},er=({children:e,settingName:t,subtext:n,useUpgradeLink:a,upgradeText:r,isBeta:i})=>l.createElement(ee,null,l.createElement(v.ggW,{gap:"medium",alignItems:"start",columns:["1fr","auto"]},l.createElement(en,null,l.createElement(v.xvT,{fontWeight:"bold"},t),i?l.createElement(v.DRh,{backgroundColor:"highlight"},"Beta"):null),e),a?l.createElement(ea,{text:r}):l.createElement(v.xvT,{size:"small",color:"grey5"},n)),el=({Icon:e,children:t,settingName:n,subtext:a,useUpgradeLink:r,upgradeText:i,isBeta:o})=>l.createElement(Q,null,l.createElement(et,null,e),l.createElement(er,{settingName:n,subtext:a,useUpgradeLink:r,upgradeText:i,isBeta:o},t));var ei=n(51110),eo=n(58033);let es="email_gate_video_type",ec=`
  @keyframes fade-in-out {
    0% {
      box-shadow: none;
    }
    25% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    75% {
      box-shadow: 0 2px 0 var(--lns-color-focusRing), 0 -2px 0 var(--lns-color-focusRing);

    }
    100% {
      box-shadow: none;
    }
  }

  animation: fade-in-out 2000ms ease-in-out;
`,ed=f.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,em=f.Z.div`
  position: relative;

  ${e=>e.shouldAnimate?ec:""}
`,eu=[{value:p.q.None,name:"No"},{value:p.q.Soft,name:"Ask for email"},{value:p.q.Hard,name:"Require email"}].map(({value:e,name:t})=>({value:e,title:l.createElement(v.xvT,{fontWeight:"bold"},t)})),eg=({children:e,shouldAnimate:t,setShouldAnimate:n})=>{let a=(0,l.useCallback)(e=>{e&&e.addEventListener("animationend",()=>{n(!1)})},[n]);return l.createElement(em,{shouldAnimate:t,ref:a},e)},ev=({options:e,onOptionSelect:t,shouldAnimate:n,setShouldAnimate:a})=>l.createElement(l.Fragment,null,l.createElement(eg,{shouldAnimate:n,setShouldAnimate:a},l.createElement(er,{key:es,settingName:"Request email to view",subtext:"Viewers that aren’t logged-in will need to provide an email to be able to access the video"},l.createElement(v.PhF,{trigger:(e,t)=>l.createElement(ed,null,l.createElement(v.Avr,{size:"medium",iconPosition:"right",icon:l.createElement(P.w,null),...t},l.createElement(v.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e[es],menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:eu,onChange:e=>t(es,e.value)}))));var ep=n(95395),eE=n(80574),ef=n(11446),eh=n(10164);let eb="Contact an admin to enable Salesforce for your workspace",ey=f.Z.span`
  & div + div {
    border-top: 0;
  }
`,e_=({emailGateSetting:e,handleRelatedSettingsEditClick:t})=>{let n,a;return e===p.q.None?(n="Anonymous viewers are not asked for an email.",a=l.createElement(v.JO$,{icon:l.createElement(ep._,null)})):(n=e===p.q.Soft?"Anonymous viewers are asked for their email.":"Anonymous viewers are required to provide their email. (recommended)",a=l.createElement(v.JO$,{icon:l.createElement(eE.y,null),color:"success"})),l.createElement(ey,null,l.createElement(v.W20,{backgroundColor:"backgroundSecondary",padding:2.5,gap:2,radius:"large",htmlTag:"section"},l.createElement(v.xvT,{fontWeight:"bold"},"Related settings for Salesforce"),l.createElement(v.LZC,{top:2}),l.createElement(v.ggW,{alignItems:"start",gap:1},a,l.createElement(v.ggW,{autoFlow:"row",gap:1},l.createElement(v.xvT,null,n),l.createElement(v.xvT,{isDimmed:!0},"Anonymous viewers that don't provide their email are not trackable in Salesforce."),l.createElement(v.rUS,{onClick:t},"Edit setting")))))},ek=({isFromDefaultSettings:e,options:t,toggleProp:n,handleRelatedSettingsEditClick:a})=>{let{loading:r,data:i}=(0,eh.D3)({variables:{integrationType:"SFDC"}});if(r)return null;let o=!1;i?.getIntegrationActive?.__typename==="GetIntegrationActivePayload"?o=i.getIntegrationActive.isActive:eb="Salesforce integration status currently unavailable";let s=!e&&o&&t.salesforce_engagement_tracking;return l.createElement(l.Fragment,null,l.createElement(el,{key:"salesforce_engagement_tracking",settingName:"Salesforce tracking",subtext:o?"Track your views and engagement metrics directly in Salesforce":eb,Icon:l.createElement(v.JO$,{icon:l.createElement(ef.K,null),size:5})},l.createElement(v.rsf,{isActive:t.salesforce_engagement_tracking,onChange:()=>{n("salesforce_engagement_tracking")},isDisabled:!o,ariaLabel:"Engagement tracking"})),s?l.createElement(e_,{emailGateSetting:t.email_gate_video_type,handleRelatedSettingsEditClick:a}):null)},ew=f.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,eC=f.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,eT="Audience",ex="Enhancements",eS="Integrations",eI="Loom AI",eA=({options:e,hasAIAccess:t,suggestedPlaybackOptions:n,setOptions:r,setToggleComments:i})=>{let[s,c]=(0,l.useState)(t?eI:ex),m=(0,o.v9)(e=>(0,S.MU)(e,O.$5)),{type:u}=(0,k.hP)(),g=u===B.zF,p=!(0,eo.I)()&&u===B.q1,E=g||p,f=(0,y.Mr)({flag:L.EE7,activationValues:["filler_words","filler_words_and_silences"]}),h=(0,y.Mr)({flag:L.EE7,activationValues:["filler_words_and_silences"]}),b=e=>{c(e),d.track(a.sX1,{tab:e})},_=t=>r({...e,[t]:!e[t]}),w=()=>{let{comments_enabled:t,record_reply_enabled:n}=e;(t||n)&&_("record_reply_enabled")},C=()=>{let{comments_enabled:t,comments_email_enabled:n}=e;(t||n)&&_("comments_email_enabled")},T=(t,n)=>{r({...e,[t]:n})},x=[f&&{settingName:"Auto filler word removal",subtext:"Automatically remove filler words from your videos",key:"auto_filler_word_removal",onChange:()=>_("auto_filler_word_removal"),isActive:!0},h&&{settingName:"Auto silence removal",subtext:"Automatically remove silences from your videos",key:"auto_silence_removal",onChange:()=>_("auto_silence_removal"),isActive:!0},{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>_("auto_title"),isActive:!0},{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>_("auto_summary"),isActive:!0},{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>_("auto_chapters"),isActive:!0},{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>_("auto_tasks"),isActive:!0},{settingName:"Auto CTA",subtext:"Automatically detect the link you are sharing",key:"auto_cta",onChange:()=>_("auto_cta"),isActive:!0}].filter(e=>!!e),I=[{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>_("noise_suppression"),isActive:!0},{settingName:"Loom branded player",subtext:"Prompt viewers to log in or sign-up",key:"loom_branded_player",onChange:()=>_("loom_branded_player"),isActive:m,useUpgradeLink:!m,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>_("use_gif"),isActive:!0}],A=[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{_("comments_enabled"),i(!0)},isActive:!0},{settingName:"Comment notification",subtext:e.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>C(),isActive:e.comments_enabled},{settingName:"Record a reply",subtext:e.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>w(),isActive:e.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>_("use_emojis"),isActive:!0},{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>_("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>_("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>_("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:"Allow viewers to access the transcript",key:"show_transcript_to_viewer",onChange:()=>_("show_transcript_to_viewer"),isActive:!0}];return l.createElement(l.Fragment,null,l.createElement(v.mQc,{hasFullTabs:!0},t&&l.createElement(v.OK9,{isActive:eI===s,onClick:()=>b(eI)},eI),l.createElement(v.OK9,{isActive:ex===s,onClick:()=>b(ex)},ex),l.createElement(v.OK9,{isActive:eT===s,onClick:()=>b(eT)},eT),g?l.createElement(v.OK9,{isActive:eS===s,onClick:()=>b(eS)},eS):null),l.createElement("div",{className:"overflow:hidden;"},s===eI&&l.createElement(ew,null,l.createElement(v.LZC,{y:"medium"},l.createElement(v.xvT,null,"Modify the default Loom AI settings for this video and future videos. Learn more about ",l.createElement(v.rUS,{href:ei.GS},"Loom AI")," ","or ",l.createElement(v.rUS,{href:ei.kb},"give feedback"),".")),x.map(t=>l.createElement(er,{key:t.key,settingName:t.settingName,subtext:t.subtext},l.createElement(v.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),s===ex&&l.createElement(ew,null,I.map(t=>l.createElement(er,{key:t.key,settingName:t.settingName,subtext:t.subtext,useUpgradeLink:t.useUpgradeLink,upgradeText:t.upgradeText},l.createElement(v.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),s===eT&&l.createElement(ew,null,l.createElement(er,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},l.createElement(v.PhF,{trigger:(e,t)=>l.createElement(eC,null,l.createElement(v.Avr,{size:"medium",iconPosition:"right",icon:l.createElement(P.w,null),...t},l.createElement(v.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:e.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:n,onChange:e=>T("suggested_playback_rate",e.value)})),E?l.createElement(ev,{options:e,onOptionSelect:T}):null,A.map(t=>l.createElement(er,{key:t.key,settingName:t.settingName,subtext:t.subtext},l.createElement(v.rsf,{isActive:e[t.key],onChange:t.onChange,isDisabled:!t.isActive,ariaLabel:t.settingName})))),s===eS&&l.createElement(ew,null,l.createElement(ek,{isFromDefaultSettings:!0,options:e,toggleProp:_}))))},eW="Enhancements",eN="Audience",eP="Integrations",e$=f.Z.div`
  border-top-left-radius: var(--lns-radius-xlarge);
  margin-bottom: calc(var(--lns-space-small) + var(--lns-space-medium));
`,eL=f.Z.div`
  overflow: auto;
  max-height: 100%;
`,eF=f.Z.div`
  & div + div {
    border-top: solid var(--lns-color-border) 1px;
  }
`,eD=f.Z.div`
  overflow: hidden;
`,ez=f.Z.div`
  & button {
    padding: 0 var(--lns-space-small);
    height: var(--lns-lineHeight-medium);
  }
`,eO=f.Z.div`
  height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));
  min-height: calc(var(--lns-space-xxlarge) + var(--lns-space-small));

  background-color: var(--lns-color-overlay);
  & > div {
    height: 100%;
    padding: 0 var(--lns-space-xlarge);
    & > div {
      height: 100%;
    }
  }
`,eR=f.Z.div`
  background-color: var(--lns-color-backgroundSecondary);
`,eB=f.Z.div`
  ${e=>!e.isInVideoSetting&&!e.settingsIsInEditTab&&`padding-left: var(--lns-space-medium);
   padding-right: var(--lns-space-medium);`}
`,eV=e=>e&&e!==s.to?`${(0,A.v)(e).toString()}x`:"None",eU=()=>s.wn.map(e=>{let t=eV(e);return{value:e,title:l.createElement(v.xvT,{fontWeight:"bold"},t)}}),eM=(e,t,n)=>n?e?t?"Transcript processing":"Allow viewers to access the transcript":"Transcript unavailable for this video":"Allow viewers to access the transcript",eZ=({video:e,options:t,setOptions:n,originalOptions:i,onOpenDefaultsModal:c,isInVideoSetting:m,onCloseVideoSettingsDrawer:p=()=>{},onCloseDefaultsModal:f=()=>{},currentSettings:w,updateCurrentSettings:A,pageTitle:K,settingsIsInEditTab:G=!1})=>{let X=(0,o.I0)(),{video:{thumbnails:Q}}=(0,r.dPl)(),ee=(0,l.useRef)(null),et=(0,l.useRef)(null),[en,ea]=(0,l.useState)(!1),el=(0,y.Mr)({flag:L.CC9,activationValues:[F.zY,F.oS]}),ei=(0,y.Mr)({flag:L.Hjs,activationValues:[F.zY,F.oS]}),eo=(0,u.I)(),es=(0,g.x)(),ec=(0,y.W9)(L.SMQ),{type:ed}=(0,k.hP)(),em=ed===B.zF,eu=ed===B.q1,eg=em||eu,ep=(0,q.bM)(E.K1),eE=(0,_.W)(),ef=(0,o.v9)(Z.ub),eh=(0,o.v9)(Z.Dl),eb=[R.Hw,R.on,R.Bj,R.rT].includes(eh),[ey,e_]=(0,l.useState)(eW),[ew,eC]=(0,l.useState)(!1),[eT,ex]=(0,l.useState)(!1),eS=(Q||{})[s.EK],{removeVideoThumbnail:eI}=(0,Y.r)(),eV=(0,o.v9)(e=>(0,S.MU)(e,O.po)),{updateVideoSettings:eZ}=(0,H.a)(),eq=(0,o.v9)(e=>(0,S.MU)(e,O.$5)),ej=!m||ef;(0,l.useEffect)(()=>{if(m){let e=document.getElementById("video-settings-close-btn");e&&e.focus()}},[m]),(0,l.useEffect)(()=>{if(!ew)return;let{comments_enabled:e}=t;ex(!0);let a=window.setTimeout(()=>{n({...t,comments_email_enabled:e,record_reply_enabled:e}),eC(!1),ex(!1)},200);return()=>{window.clearTimeout(a)}},[t,n,ew]);let eJ=(0,l.useCallback)(e=>{e_(e),d.track(m?a.ca7:a.sX1,{tab:e})},[m]);(0,l.useEffect)(()=>{ep&&(eJ(eP),et?.current&&et.current.scrollIntoView({behavior:"instant",block:"start"})),(0,q.gz)(E.K1)},[ep,eJ]);let eY=(0,l.useCallback)(n=>{n&&d.track(a.Sm6,{video_id:e.id,noise_suppression:t.noise_suppression})},[t.noise_suppression,e.id]),eH=(0,l.useCallback)((e,n)=>{let r={...t,processing_information:{[D.r]:t.noise_suppression}};eZ({newSettings:r,refetchSourceUrl:!0}).then(()=>{d.track(a.HvM,{old_state:w||i,new_state:r,is_default:!1}),n||(X((0,V.Bh)("Video settings saved")),p())}).catch(e=>{I.error(e,{message:"error in handleSaveCurrentSettings creator",isDefault:!1},{feature:z.L0.VideoSettings}),X((0,V.Bh)("Please reload and try again"))})},[w,X,p,t,i,eZ]),{refetch:eK}=(0,W.iy)(),eG=(0,l.useCallback)(e=>{if(!e)return;d.track(a.C6A,{isEnabled:t.auto_title}),d.track(a.sIR,{isEnabled:t.auto_summary}),eo&&d.track(a.gz4,{isEnabled:t.auto_chapters});let n={...t,viewers_can_weave_default:t.viewers_can_weave};(0,U.t)({url:"/v1/users/video_settings",options:{method:"PATCH",body:JSON.stringify({video_settings:n})}}).then(()=>{d.track(a.HvM,{old_state:i,new_state:n,is_default:!0}),A(ef?t:{...t,show_transcript_to_viewer:w.show_transcript_to_viewer}),eK(),X((0,V.Bh)("Default video settings saved")),f()}).catch(e=>{I.error(e,{message:"error in handleSaveDefaultSettings creator",isDefault:!0},{feature:z.L0.VideoSettings}),X((0,V.Bh)("Please reload and try again"))})},[w,X,f,t,i,A,ef]),eX=e=>{if(eT||C()(t))return;let n=t.noise_suppression!==i.noise_suppression;eY(n),eH(n,e),eG(e)},eQ=(0,l.useCallback)(e=>n({...t,[e]:!t[e]}),[t,n]),e0=(0,l.useCallback)(()=>{let{comments_enabled:e,comments_email_enabled:n}=t;(e||n)&&eQ("comments_email_enabled")},[t,eQ]),e1=(0,l.useCallback)(()=>{let{comments_enabled:e,record_reply_enabled:n}=t;(e||n)&&eQ("record_reply_enabled")},[t,eQ]),e2=(0,l.useCallback)((e,a)=>{n({...t,[e]:a})},[t,n]),e5=(0,l.useMemo)(()=>[!m&&eo&&{settingName:"Auto chapters",subtext:"AI generated chapters for your videos",key:"auto_chapters",onChange:()=>eQ("auto_chapters"),isActive:!0},{settingName:"Background noise filter",subtext:"Filter out unwanted noise",key:"noise_suppression",onChange:()=>eQ("noise_suppression"),isActive:!0},!m&&el&&{settingName:"Auto title",subtext:"AI generated titles for your videos",key:"auto_title",onChange:()=>eQ("auto_title"),isActive:!0},!m&&ei&&{settingName:"Auto summary",subtext:"AI generated summaries for your videos",key:"auto_summary",onChange:()=>eQ("auto_summary"),isActive:!0},!m&&es&&{settingName:"Auto tasks",subtext:"AI generated tasks for your videos",key:"auto_tasks",onChange:()=>eQ("auto_tasks"),isActive:!0},{settingName:"Loom branded player",subtext:eq?"Prompt viewers to log in or sign-up":"",key:"loom_branded_player",onChange:()=>eQ("loom_branded_player"),isActive:eq,useUpgradeLink:!eq,upgradeText:"customize player"},{settingName:"Animated thumbnail",subtext:"Automatic gif thumbnail when you share",key:"use_gif",onChange:()=>eQ("use_gif"),isActive:!0}].filter(Boolean),[m,eo,el,ei,es,eq,eQ]),e3=(0,l.useMemo)(()=>[{settingName:"Comments",subtext:"Allow viewers to add comments",key:"comments_enabled",onChange:()=>{eQ("comments_enabled"),eC(!0)},isActive:!0},{settingName:"Comment notification",subtext:t.comments_enabled?"Get an email when someone comments":"Inactive when comments are turned off",key:"comments_email_enabled",onChange:()=>e0(),isActive:t.comments_enabled},{settingName:"Record a reply",subtext:t.comments_enabled?"Allow viewers to comment with a Loom":"Inactive when comments are turned off",key:"record_reply_enabled",onChange:()=>e1(),isActive:t.comments_enabled},{settingName:"Emoji reactions",subtext:"Allow viewers to add reactions",key:"use_emojis",onChange:()=>eQ("use_emojis"),isActive:!0},"download_enabled"in i&&{settingName:"Download",subtext:"Allow viewers to download your video",key:"download_enabled",onChange:()=>eQ("download_enabled"),isActive:!0},{settingName:"Stitch",subtext:"Allow viewers to stitch this video",key:"viewers_can_weave",onChange:()=>eQ("viewers_can_weave"),isActive:!0},{settingName:"Analytics",subtext:"Allow viewers to see video analytics",key:"show_analytics_to_viewer",onChange:()=>eQ("show_analytics_to_viewer"),isActive:!0},{settingName:"Transcript",subtext:eM(ef,eb,m),key:"show_transcript_to_viewer",onChange:()=>eQ("show_transcript_to_viewer"),isActive:ej}],[m,ej,eb,t.comments_enabled,i,e0,eQ,e1,ef]),e9=m&&!G?K:null,e8=(0,o.v9)(M.DD);return e8?l.createElement(J.T,{currentPage:b.L.Thumbnail,onClose:p,pageTitle:"Change Thumbnail"}):l.createElement(h.O,{footer:l.createElement(()=>m?l.createElement(j.$,null,l.createElement(v.zxk,{variant:"neutral",onClick:c,hasFullWidth:!0},"Set defaults…"),l.createElement(v.zxk,{variant:"primary",onClick:()=>eX(!1),hasFullWidth:!0},"Save")):l.createElement(eO,null,l.createElement(eR,null,l.createElement(v.ggW,{columns:["1fr"]},l.createElement(v.zxk,{variant:"primary",onClick:()=>eX(!0),hasFullWidth:!0},"Save defaults")))),null),title:e9,goBackToEditPage:p,backupTitleComponent:m?null:l.createElement(()=>l.createElement(e$,null,l.createElement(v.LZC,{left:"xlarge",right:"xlarge"},l.createElement(v.LZC,{top:"xlarge",bottom:"medium"},l.createElement(v.xvT,{size:"large",fontWeight:"bold"},"Default video settings")),l.createElement(v.xvT,null,"Modify default settings for this video and future videos"))),null),settingsIsInEditTab:G},l.createElement(eB,{isInVideoSetting:m,settingsIsInEditTab:G},l.createElement(eL,{isInVideoSetting:m},!m&&ec?l.createElement(eA,{options:t,hasAIAccess:eE,suggestedPlaybackOptions:eU(),setOptions:n,setToggleComments:eC}):l.createElement(l.Fragment,null,l.createElement(v.mQc,{isPilledDesign:m,hasFullTabs:!m},l.createElement(v.OK9,{isActive:eW===ey,onClick:()=>eJ(eW)},eW),l.createElement(v.OK9,{isActive:eN===ey,onClick:()=>eJ(eN)},eN),em?l.createElement(v.OK9,{isActive:eP===ey,onClick:()=>eJ(eP)},eP):null),l.createElement(eD,{isInVideoSetting:m},ey===eW&&l.createElement(eF,null,m?l.createElement(er,{key:"thumbnail",settingName:"Video thumbnail",subtext:"Add a custom video thumbnail for your audience",isActive:eV,useUpgradeLink:!eV,upgradeText:"add video thumbnail"},eV?eS?l.createElement(v.Avr,{altText:"Remove Thumbnail",icon:l.createElement($.z,null),iconPosition:"right",onClick:()=>{eI(),X((0,T.c_)(null))}},"Remove"):l.createElement(v.Avr,{altText:"Add Thumbnail",icon:l.createElement(N.z,null),iconPosition:"right",onClick:()=>{X((0,x.h7)({modalType:"VIDEO_THUMBNAIL_MODAL"})),X((0,T.lf)())}},"Add"):null):null,e5.map(e=>l.createElement(er,{key:e.key,settingName:e.settingName,subtext:e.subtext,useUpgradeLink:e.useUpgradeLink,upgradeText:e.upgradeText},l.createElement(v.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})))),ey===eN&&l.createElement(eF,null,l.createElement(er,{key:"suggested_playback_rate",settingName:"Recommend a playback speed",subtext:"Suggest a viewing speed for your audience"},l.createElement(v.PhF,{trigger:(e,t)=>l.createElement(ez,null,l.createElement(v.Avr,{size:"medium",iconPosition:"right",icon:l.createElement(P.w,null),...t},l.createElement(v.xvT,{fontWeight:"bold"},e.title))),selectedOptionValue:t.suggested_playback_rate,menuMaxHeight:44,menuMaxWidth:30,menuMinWidth:25,menuPosition:"right",options:eU(t,n),onChange:e=>e2("suggested_playback_rate",e.value)})),eg?l.createElement("div",{ref:ee},l.createElement(ev,{options:t,onOptionSelect:e2,shouldAnimate:en,setShouldAnimate:ea})):null,e3.filter(e=>e).map(e=>l.createElement(er,{key:e.key,settingName:e.settingName,subtext:e.subtext,useUpgradeLink:e.useUpgradeLink,upgradeText:e.upgradeText},l.createElement(v.rsf,{isActive:t[e.key],onChange:e.onChange,isDisabled:!e.isActive,ariaLabel:e.settingName})))),ey===eP&&l.createElement(eF,null,l.createElement("div",{ref:et},l.createElement(ek,{isFromDefaultSettings:!1,options:t,toggleProp:eQ,handleRelatedSettingsEditClick:()=>{eJ(eN),ee?.current&&ee.current.scrollIntoView({behavior:"instant",block:"start"}),ea(!0)}}))))))))},eq={auto_cta:!0,auto_filler_word_removal:!0,auto_silence_removal:!0,auto_summary:!0,auto_title:!0,comments_email_enabled:!0,comments_enabled:!0,download_enabled:!0,email_gate_video_type:p.q.None,loom_branded_player:!0,noise_suppression:!1,record_reply_enabled:!0,salesforce_engagement_tracking:!1,show_analytics_to_viewer:!0,show_transcript_to_viewer:!0,suggested_playback_rate:s.to,use_emojis:!0,use_gif:!0,viewers_can_weave:!0},ej=e=>{let t=new Set([...Object.keys(eq),...Object.keys(e)]),n=[...t].reduce((t,n)=>(t[n]=e[n]??eq[n],t),{});return n.viewers_can_weave=e.viewers_can_weave_default??eq.viewers_can_weave,delete n.viewers_can_weave_default,n},eJ=({video:e,currentSettings:t,updateCurrentSettings:n,onCloseDefaultsModal:a})=>{let r=(0,m.useCurrentUserSelector)(e=>{if(e.videoSettings){let{__typename:t,...n}=e.videoSettings;return n}return{}},{}),i=(0,u.I)(),o=(0,g.x)();i&&(eq.auto_chapters=!0),o&&(eq.auto_tasks=!0);let s=ej(r),[c,d]=(0,l.useState)(s);return l.createElement(v.YMn,{isOpen:!0,onClick:a},l.createElement(v.pUH,{isOpen:!0,noPadding:!0,onCloseClick:a,ariaLabel:"Default video settings",maxWidth:68},l.createElement(eZ,{video:e,options:c,setOptions:d,originalOptions:s,onCloseDefaultsModal:a,currentSettings:t,updateCurrentSettings:n})))},eY=({goBackToEditPage:e,pageTitle:t,settingsIsInEditTab:n=!1})=>{let{showDefaultSettings:m}=(0,o.v9)(c.z8),{video:u}=(0,r.dPl)(),g=(()=>{let{commentsEmailEnabled:e,commentsEnabled:t,downloadEnabled:n,emailGateVideoType:a,loomBrandedPlayer:r,processingInformation:l,recordReplyEnabled:i,salesforceEngagementTracking:o,showAnalytics:c,showTranscriptToViewer:d,suggestedPlaybackRate:m,useEmojis:g,useGif:v,viewersCanWeave:p}=u,E={comments_email_enabled:e,comments_enabled:t,email_gate_video_type:a,loom_branded_player:r,noise_suppression:l?.noiseSuppression,record_reply_enabled:i,salesforce_engagement_tracking:o,show_analytics_to_viewer:c,show_transcript_to_viewer:d,suggested_playback_rate:m,use_emojis:g,use_gif:v,viewers_can_weave:p};return u.downloadableBy!==s.JC.NO_ONE&&(E.download_enabled=n),E})(),[v,p]=(0,l.useState)(g),[E,f]=(0,l.useState)(!1);(0,l.useEffect)(()=>{m&&f(!0)},[m]);let{layerProps:h,triggerProps:b,renderLayer:y}=(0,i.sJ)({isOpen:E});return l.createElement(l.Fragment,null,l.createElement(eZ,{video:u,options:v,setOptions:p,originalOptions:g,onOpenDefaultsModal:()=>{let e=document.body.style;e.top=`-${window.scrollY}px`,e.position="fixed",f(!0),d.track(a.jKy)},onCloseVideoSettingsDrawer:e,isInVideoSetting:!0,pageTitle:t,settingsIsInEditTab:n}),E&&l.createElement("div",{style:{position:"absolute",...b.style},...b},y(l.createElement("div",{...h,style:{zIndex:"1"}},l.createElement(eJ,{video:u,currentSettings:v,updateCurrentSettings:p,onCloseDefaultsModal:()=>{let e=document.body.style,t=e.top;e.position="",e.top="",window.scrollTo(0,-1*parseInt(t||"0")),f(!1)}})))))}},72995:function(e,t,n){"use strict";n.d(t,{WB:function(){return f},wK:function(){return _}});var a=n(70276),r=n(20887),l=n(16175),i=n(93919),o=n(32910),s=n.n(o),c=n(16032),d=n(32950),m=n(82548),u=n(58453),g=n(50679),v=n(33266),p=n(36897),E=n(21190);let f={color:"white",background_color:"orange",location:"Top right",border_radius:24,only_show_at_end_of_video:!1},h={"Top left":"top-left","Top right":"top-right","Bottom left":"bottom-left","Bottom right":"bottom-right"},b="Link text";function y(e){return e?h[e]:"top-right"}function _(e){if(e?.border_radius!==void 0&&e?.border_radius!==null)return e.border_radius;let t=(0,E.bM)(l.s8);return null!=t&&"number"==typeof(t=Number(t))?t:f.border_radius}function k(e){let t=e?.color||(0,E.bM)(l.aE)||(0,v.RvU)(f.color),n=e?.background_color||(0,E.bM)(l.w0)||(0,v.RvU)(f.background_color),a=_(e),r=e?.location||(0,E.bM)(l.x1)||f.location;return{color:t,background_color:n,border_radius:a,location:r}}let w=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:r,forceTopRight:l=!1}=e,{color:i,background_color:o,border_radius:c,location:d}=k(t),m=l?"top-right":y(d),g=a&&a.length>0,p=n&&n.length>0,E=g&&p?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return u.createElement(v.zxk,{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",href:E?.href,onClick:r,style:{color:i,backgroundColor:o,borderRadius:`${c}px`},hasFullWidth:!0,htmlTag:"a"},g?a:u.createElement("span",{className:"call-to-action-placeholder"},b))},C=e=>{let{ctaMods:t,ctaUrl:n,ctaText:a,onClickHandler:r,forceTopRight:l=!1}=e,{color:i,background_color:o,border_radius:c,location:d}=k(t),m=l?"top-right":y(d),g=a&&a.length>0,v=n&&n.length>0,p=g&&v?{href:n&&(n.indexOf("http")>-1?n:`//${n}`)}:{};return u.createElement("a",{className:s()("cta-button cta-button-in-form",m),target:n&&"_blank",rel:"noopener noreferrer",onClick:r,style:{color:i,backgroundColor:o,borderRadius:`${c}px`},size:a?a.length:0,...p},g?a:u.createElement("span",{className:"call-to-action-placeholder"},b))};t.ZP=(0,g.$j)((e,t)=>{let{cta_mods:n,cta_text:a,cta_url:r}=e.share_video||{},{from_public_share_page:l,is_inline_embed_on_loom:o,parent_location:s}=e.video_player||{};return{ctaMods:n,ctaText:a,ctaUrl:(0,i.N)(r),from_public_share_page:l,is_inline_embed_on_loom:o,parent_location:s,onClick:t.onClick}})(({ctaMods:e,ctaText:t,ctaUrl:n,from_public_share_page:l,is_inline_embed_on_loom:i,onClick:o,parent_location:s})=>{let g=(0,c.useCurrentUserSelector)(e=>e.id,void 0),{video:{id:v,owner:{id:E}}}=(0,m.dPl)(),f={ctaMods:e,ctaText:t,ctaUrl:n,onClickHandler:()=>{o&&o(),p.track(r.p91,{from_public_share_page:l,is_inline_embed_on_loom:i,parent_location:s,video_id:v,owner_id:E,owner_click:E===g})}};return u.createElement(u.Fragment,null,u.createElement(d.z,{query:`(max-width: ${a.I0}px)`},u.createElement(w,{...f})),u.createElement(d.z,{query:`(min-width: ${a.Sx}px)`},u.createElement(C,{...f})))})},52796:function(e,t,n){"use strict";var a=n(1779),r=n(58453),l=n(77273),i=n(33266);class o extends r.Component{constructor(){super(...arguments),this.state={dragging:!1},this.handleDrop=e=>{this.setState({dragging:!1}),this.props.onDrop(e)}}render(){let{multiple:e=!1}=this.props,{dragging:t}=this.state;return r.createElement(l.Z,{className:"share-page-dropzone",disableClick:!0,multiple:e,disabled:!1,activeStyle:{zIndex:1e3,position:"absolute"},onDragEnter:()=>this.setState({dragging:!0}),onDragLeave:()=>this.setState({dragging:!1}),onDrop:this.handleDrop},r.createElement(r.Fragment,null,t&&r.createElement("div",{className:"share-page-drag-and-drop-overlay"},r.createElement("div",{className:"drag-and-drop-overlay-content p:xlarge"},r.createElement("div",{className:"flex pb:xlarge justify:center"},r.createElement(a.r,{color:"var(--lns-color-white)",size:13})),r.createElement(i.xvT,{size:"xxlarge",color:"white",fontWeight:"bold",alignment:"center"},"Drop here!")))))}}t.Z=o},83895:function(e,t,n){"use strict";let a;n.d(t,{AE:function(){return m},E3:function(){return d},b$:function(){return o},h$:function(){return s},rw:function(){return i},wK:function(){return c}});var r=n(20887),l=n(36897);let i=e=>l.track(r.xtc,{videoId:e}),o=()=>l.track(r.t9H,{videoId:a}),s=()=>l.track(r.EKp,{videoId:a}),c=()=>l.track(r.Cjz,{videoId:a}),d=()=>l.track(r.FRC,{videoId:a}),m=(e={})=>l.track(r.zRL,{videoId:a,...e})},36197:function(e,t,n){"use strict";n.d(t,{Dg:function(){return _},UZ:function(){return T},Wd:function(){return C},iF:function(){return I},uV:function(){return w}});var a=n(32910),r=n.n(a),l=n(52131),i=n(5945),o=n(58453),s=n(50679),c=n(63598),d=n(28402),m=n(33266),u=n(58),g=n(70835),v=n(12744),p=n(63432),E=n(90898),f=n(14866),h=n(97505),b=n(59013);let{secondsToVideoTS:y}=v,_=({user:e={avatar:null,name:null},events:t=[]})=>{let n=t.filter(e=>["comment","reply"].includes(e.type)),a=t.filter(e=>"reaction"===e.type);return o.createElement("article",{className:b.Z.viewerInfo},o.createElement(w,{avatar:e.avatar,name:e.name}),o.createElement("div",null,o.createElement(C,{...e}),o.createElement(h.Z,{name:p.L7},o.createElement(m.yeS,{gap:"medium",alignment:"center"},o.createElement(k,{type:"comment",items:n||[]}),o.createElement(k,{type:"reaction",items:a||[]})))))},k=({type:e,items:t=[]})=>{let n=t.length,a="comment"===e?u.j:g.x;return o.createElement(m.yeS,{alignment:"center",gap:"xsmall"},o.createElement(m.JO$,{icon:o.createElement(a,null),size:2,color:"bodyDimmed"}),o.createElement(m.xvT,{color:"bodyDimmed"},n))},w=e=>{let t=e.avatar&&(0,c.FQ)(e.avatar),n=name,a=n!==E.Iv&&n;return o.createElement(i.Z,{avatarSize:e.size??4,avatarSrc:t,name:a,"data-test-id":t||a?void 0:"test-anonAvatar"})},C=e=>o.createElement("div",null,o.createElement(m.xvT,{fontWeight:"bold",htmlTag:"h3"},e.name?e.name:"Anonymous")),T=e=>o.createElement(o.Fragment,null,e.views.map((e,t)=>{let n=Number(e),a=(0,d.VR)(n,"MMMM do, yyyy h:mma");return o.createElement(m.xvT,{variant:"body",key:t},o.createElement("time",null,a))})),x=({emojiIcon:e,evt:t,action:n,playVideoAt:a})=>o.createElement("div",{className:r()(b.Z.eventItem,b.Z.isClickable),onClick:a(t.ts)},e,n,o.createElement("time",null,y(t.ts))),S=({label:e,emojiUnicode:t})=>o.createElement("span",{className:b.Z.emoji,"aria-label":e},t),I=({events:e=[]})=>{let t=(0,s.I0)(),{getEmojiUnicodeByName:n}=(0,l.C)(),a={comment:"Commented at",reaction:"Reacted at",reply:"Replied at"};if(!e.length)return null;let r=e=>()=>{t((0,f.Yk)(e))};return o.createElement("div",{className:"px:small py:medium bgc:backgroundSecondary radius:medium"},o.createElement("div",{className:"px:small mb:small"},o.createElement(m.xvT,{fontWeight:"bold"},"Activity")),[...e].sort(A).map((e,t)=>{let l=a[e.type],i="Reacted at"===l,s=i?function({getEmojiUnicodeByName:e,action:t,evt:n}){let a=n.content,r=`${t} ${y(n.ts)}`;return o.createElement(S,{label:r,emojiUnicode:e(a)})}({getEmojiUnicodeByName:n,action:l,evt:e}):null;return i&&null===s?null:o.createElement(x,{key:t,emojiIcon:s,evt:e,action:l,playVideoAt:r})}))};function A({ts:e},{ts:t}){return e>t?1:t>e?-1:0}},31439:function(e,t,n){"use strict";n.d(t,{t:function(){return s}});var a=n(44588),r=n(58216),l=n(62508),i=n(10669);let o={credentials:"include",headers:{[l.Jd]:i._R}};function s(e={}){let t={...o,...e.options};return(0,a.Z)(e.url,t).then(e=>{if(e.status>=400)throw Error(`got a bad response status: ${e.status}`);return t.headers[l.Jd]!==i._R?e:e.json()}).catch(n=>{throw r.warning(n,`Error in ${t.method} to ${e.url}`),Error(n)})}},65922:function(e,t,n){"use strict";n.d(t,{CX:function(){return o},DD:function(){return l},k7:function(){return d},tX:function(){return c},wp:function(){return s},wu:function(){return i}});var a=n(15051);let r=e=>e.editor,l=(0,a.P1)(r,e=>e.thumbnail_flow),i=(0,a.P1)(r,e=>e?.cta_flow),o=(0,a.P1)(r,e=>e?.thumbnail_data.thumbnail_local),s=(0,a.P1)(r,e=>e?.thumbnail_data.uploading),c=(0,a.P1)(r,e=>e?.thumbnail_data.initiate_save),d=(0,a.P1)(r,e=>e?.thumbnail_data.og_dims)},80110:function(e,t,n){"use strict";n.d(t,{H:function(){return i},S:function(){return l}});var a=n(15051);let r=e=>e.trimming,l=(0,a.P1)(r,e=>e.in_trim_mode),i=(0,a.P1)(r,e=>e.showExitWarning)},78198:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});var a=n(58453),r=n(51155),l=n(33266);function i({addButton:e=!0,children:t,colorSelected:n,defaultColor:i="#ffffff",forceClose:o=!1,id:s="",position:c="top-center",rootContainer:d,swatches:m}){let[u,g]=(0,a.useState)(!1),{triggerProps:v,layerProps:p,renderLayer:E}=(0,r.sJ)({isOpen:u&&!o,triggerOffset:10,placement:c,onOutsideClick:()=>{g(!1)},onParentClose:()=>{g(!1)},auto:!0,snap:!0,container:d}),[f,h]=(0,a.useState)(i),b={...p,style:{...p.style,zIndex:1}};return a.createElement(a.Fragment,null,a.createElement("span",{...v},a.createElement("div",{onClick:()=>g(!u)},t)),u&&!o?E(a.createElement("div",{...b},a.createElement(l.zH8,{id:s,onChange:t=>e?h(t):n(t),defaultColor:i,confirmButton:e&&a.createElement(l.zxk,{variant:"primary",size:"small",hasFullWidth:!0,onClick:()=>{n(f),g(!1)}},"Use this color"),swatches:m}))):null)}},72022:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var a=n(99219);let r=(0,a.Z)(e=>({isPageClicked:!1,setIsClicked:()=>e({isPageClicked:!0})}))},12611:function(e,t,n){"use strict";n.d(t,{j:function(){return K},_:function(){return H}});var a=n(16032),r=n(16175),l=n(51110);let i="https://cdn-dev.loom.com/avatars/default-avatar.svg",o="this creator",s="JOIN_WORKSPACE",c="REQUEST_TO_JOIN_WORKSPACE";var d=n(83445),m=n(81504);let u={},g=(0,d.Ps)`
    mutation InviteUsersToOrganization($inviteData: [InviteOrgUserData]!, $organizationId: ID!, $analyticsLinkingId: ID!, $inviter: ID, $inviteSource: String, $inviteLoomId: String, $excludeLimits: Boolean, $anonUserFlow: Boolean) {
  inviteUsersToOrganization(
    inviteData: $inviteData
    organizationId: $organizationId
    analyticsLinkingId: $analyticsLinkingId
    inviter: $inviter
    inviteSource: $inviteSource
    inviteLoomId: $inviteLoomId
    excludeLimits: $excludeLimits
    anonUserFlow: $anonUserFlow
  ) {
    ... on InviteUsersToOrganizationPayload {
      inviteResults {
        email
        status
        success
      }
    }
    ... on GenericError {
      message
    }
  }
}
    `,v={},p=(0,d.Ps)`
    mutation RequestToJoinWorkspace($workspaceId: ID!, $userEmail: String) {
  requestToJoinWorkspace(workspaceId: $workspaceId, userEmail: $userEmail) {
    ... on RequestToJoinWorkspacePayload {
      status
    }
  }
}
    `;var E=n(55684);let f={},h=(0,d.Ps)`
    query CheckIfUserEmailCanJoinWorkspace($email: String!, $workspaceId: ID!) {
  result: checkIfUserEmailCanJoinWorkspace(
    email: $email
    workspaceId: $workspaceId
  ) {
    ... on CheckIfUserEmailCanJoinWorkspacePayload {
      canJoinWorkspace
      canRequestToJoinWorkspace
      defaultJoinRole
      userExists
    }
    ... on GenericError {
      message
    }
  }
}
    `;var b=n(53120);let y=(e,t)=>{let{data:n,loading:a}=function(e){let t={...f,...e};return E.a(h,t)}({variables:{email:e,workspaceId:t},skip:!b.EMAIL_REGEX_CHECK.test(e)});if(!a&&n?.result?.__typename==="CheckIfUserEmailCanJoinWorkspacePayload"){let{canJoinWorkspace:e,canRequestToJoinWorkspace:t,defaultJoinRole:r,userExists:l}=n.result;return{canJoinWorkspace:e,canRequestToJoinWorkspace:t,defaultJoinRole:r,userExists:l,emailLoading:a}}return{canJoinWorkspace:!1,canRequestToJoinWorkspace:!1,defaultJoinRole:null,userExists:null,emailLoading:a}};var _=n(30079),k=n(20005),w=n(11903),C=n(58453),T=n(9389),x=n(33266),S=n(75684),I=n(82985),A=n(25051),W=n(58216);let N=e=>e===s?"Join Workspace":"Request to Join Workspace",P=({joinType:e,email:t,avatar:n,name:a,workspace:i,dismissPopover:o,showConfirmationToast:d,showErrorToast:E,showLoadingState:f,isLoggedIn:h,videoId:P,videoOwnerId:$})=>{let L=(0,w.st)(),[F,D]=(0,C.useState)(!1),[z,O]=(0,C.useState)(!1),[R,B]=(0,C.useState)(""),[V]=(0,C.useState)(""),[U]=(0,T.Nr)(R,300),M="Continue",{canJoinWorkspace:Z,canRequestToJoinWorkspace:q,defaultJoinRole:j,userExists:J,emailLoading:Y}=y(U,i.id),H=b.EMAIL_REGEX_CHECK.test(U)&&(Z||q),K=b.EMAIL_REGEX_CHECK.test(U)&&J,G=b.EMAIL_REGEX_CHECK.test(U)&&!Z&&!J&&!q&&!Y,X=!!(b.EMAIL_REGEX_CHECK.test(U)&&!J&&q&&!Y);Z?M=N(s):q&&(M=N(c));let[Q,{loading:ee}]=function(e){let t={...v};return m.D(p,t)}(),[et,{loading:en}]=function(e){let t={...u};return m.D(g,t)}();(ee||en)&&(o(!0),f(!0));let ea=()=>{sessionStorage.setItem("requestToJoinWorkspacePopulateUserEmail",R),window.open(l.DV,"_blank","opener,referrer")};return z?null:C.createElement(x.W20,{padding:"large",margin:"medium",borderSide:"all",contentColor:"primary",backgroundColor:"blurpleLight",radius:"large",shadow:"medium",zIndex:100,maxWidth:`${_.oh}px`,position:"relative"},C.createElement(x.ggW,{gap:"medium",autoFlow:"column",alignItems:"start"},C.createElement("div",{style:{position:"relative",display:"inline-block"}},C.createElement(x.qEK,{imageSrc:n,size:5,style:{display:"block"}}),C.createElement("div",{style:{position:"absolute",bottom:0,right:0,zIndex:200,transform:"translate(30%, 30%)"}},C.createElement(k.Z,{workspace:i,size:3}))),C.createElement(x.ggW,{autoFlow:"row",justifyContent:"space-evenly",justifyItems:"start",width:"95%",gap:"small"},C.createElement(x.xvT,{variant:"title",color:"black",fontWeight:"bold",isInline:!0},"Do you work with ",a,"?"),C.createElement(x.xvT,{variant:"body",color:"gray"},h?"Join the Loom workspace to watch and comment on their videos.":`We'll send you an email to join ${i.name}`),F?C.createElement(C.Fragment,null,h?C.createElement(C.Fragment,null,C.createElement(x.gxH,{value:t,isDisabled:h,rows:1,size:"small",resize:"none"}),C.createElement(x.zxk,{variant:"primary",onClick:()=>{Q({variables:{workspaceId:i.id},onCompleted:t=>{let n=t?.requestToJoinWorkspace;n?.__typename==="RequestToJoinWorkspacePayload"&&(L(r.$u),e===s?(sessionStorage.setItem("isRedirectToMainPage","true"),sessionStorage.setItem("requestToJoinWorkspaceUserWorkspace",String(i.name)),window.location.href="/"):e===c&&(f(!1),o(!0),d(!0))),n?.__typename==="GenericError"&&(f(!1),o(!0),E(!0))},onError:e=>{W.error(e,{message:`Error requesting to join workspace for Workspace: ${i.id}`,workspaceId:i.id},{team:A.SZ.Outreach}),f(!1),o(!0),E(!0)}})},hasFullWidth:!0},"Confirm Email")):C.createElement(C.Fragment,null,C.createElement(x.oil,{onChange:e=>{B(e.target.value)},color:"body",value:R}),G&&C.createElement(x.xvT,{color:"red",size:"body-sm"},"If you have a work email address, sign out and log in. If not, please contact the admin of the workspace"),X&&C.createElement(x.xvT,{color:"black",size:"body-sm"},"Please create an account to request to join this workspace."),!J||q||Z?C.createElement(x.zxk,{variant:"primary",isDisabled:!H,hasFullWidth:!0,onClick:()=>{Z?et({variables:{inviteData:[{email:R,role:j??I.b3}],organizationId:i.id,analyticsLinkingId:V,inviter:$,inviteSource:"Request to Join Workspace",inviteLoomId:P,excludeLimits:!0,anonUserFlow:!0},onCompleted:()=>{f(!1),o(!0),d(!0),setTimeout(()=>{L(r.$u)},5e3)},onError:e=>{W.error(e,{message:`Error sending anon join workspace email for Workspace: ${i.id}`,workspaceId:i.id},{team:A.SZ.Outreach}),f(!1),o(!0),E(!0)}}):q&&(J?Q({variables:{workspaceId:i.id,userEmail:R},onCompleted:e=>{let t=e?.requestToJoinWorkspace;t?.__typename==="RequestToJoinWorkspacePayload"&&(f(!1),o(!0),d(!0),setTimeout(()=>{L(r.$u)},5e3),ea()),t?.__typename==="GenericError"&&(f(!1),o(!0),E(!0))},onError:e=>{W.error(e,{message:`Error anon-user requesting to join workspace for Workspace: ${i.id}`,workspaceId:i.id},{team:A.SZ.Outreach}),f(!1),o(!0),E(!0)}}):(sessionStorage.setItem("requestToJoinWorkspacePopulateUserEmail",R),window.open(l.C1,"_blank","opener,referrer")))}},M):C.createElement(x.zxk,{variant:"primary",isDisabled:!K,hasFullWidth:!0,onClick:ea},"Sign In"))):C.createElement(x.zxk,{variant:"primary",onClick:()=>{D(!0)},hasFullWidth:!0},N(e)))),C.createElement(x.hU,{icon:C.createElement(S.G,null),onClick:()=>{L(r.$u),O(!0)},altText:"",style:{position:"absolute",top:12,right:12}}))},$=({workspace:e,requestToJoinWorkspace:t})=>{if(void 0===e)return null;let n=`You joined ${e}! Start recording Looms for your team \u{1F389}`;return t&&(n=`Your request to join ${e} was sent! \u{1F389}`),C.createElement(x.FNi,{duration:"long",isOpen:!0},C.createElement(x.ggW,{gap:"small",autoFlow:"column"},C.createElement(x.xvT,{variant:"body"},n)))},L={},F=(0,d.Ps)`
    query GetVideoRequestToJoinWorkspace($getVideoId: ID!) {
  getVideo(id: $getVideoId) {
    ... on RegularUserVideo {
      id
      organization {
        name
        id
        workspaceLogoPath
      }
      owner {
        id
        avatars {
          thumb
        }
        first_name
      }
    }
  }
}
    `,D=e=>({id:e.id,name:e.name,workspaceLogoPath:e.workspaceLogoPath??void 0}),z=e=>{if(e?.getVideo?.__typename==="RegularUserVideo"){let t=e.getVideo.owner.avatars[0]?.thumb||i,n=e.getVideo.owner.first_name||o,a=e.getVideo.organization,r=e.getVideo.owner.id,s=`${l.gg}/${t}`,c=D(a);return{thumbnail:s,firstName:n,workspace:c,videoOwnerId:r}}return{thumbnail:i,firstName:o,workspace:null,videoOwnerId:""}},O=e=>{let{data:t,error:n}=function(e){let t={...L,...e};return E.a(F,t)}({variables:{getVideoId:e}});if(n)return W.warning(n,{message:`Error retrieving video properties for ${e}, returning default values`,getVideoId:e}),{thumbnail:i,firstName:o,workspace:null,videoOwnerId:""};let{thumbnail:a,firstName:r,workspace:l,videoOwnerId:s}=z(t);return{thumbnail:a,firstName:r,workspace:l,videoOwnerId:s}},R={},B=(0,d.Ps)`
    query CheckWorkspaceDomainSettings($workspaceId: ID!) {
  result: checkWorkspaceDomainSettings(workspaceId: $workspaceId) {
    ... on CheckWorkspaceDomainSettingsPayload {
      hasDomainSettings
      canAutoJoin
      currentUserMatchesDomain
    }
    ... on GenericError {
      message
    }
  }
}
    `;var V=n(72022),U=n(69225),M=n(56694),Z=n(15358),q=n(21190);let j=e=>{if(e?.result?.__typename==="CheckWorkspaceDomainSettingsPayload"){let{hasDomainSettings:t,canAutoJoin:n,currentUserMatchesDomain:a}=e.result,r=c;return n&&(r=s),{hasDomainSettings:t,joinType:r,currentUserMatchesDomain:a}}return{hasDomainSettings:!1,joinType:c,currentUserMatchesDomain:!1}},J=e=>{let t;let n=(0,a.useIsCurrentUserLoggedIn)(),l=(0,V.f)(e=>e.isPageClicked),i=(0,M.p$)(e);if(t=(0,U.B)(Z.BR.SHOULD_SHOW_JOIN_WORKSPACE_FTUX),!n){let e=(0,q.bM)(r.$u);e?t=e.show:W.warning(Error("SHOULD_SHOW_JOIN_WORKSPACE_FTUX_ANON_USER ftux not showing for user"),{})}let{data:o,error:s}=function(e){let t={...R,...e};return E.a(B,t)}({variables:{workspaceId:e}});if(s)return W.warning(s,{message:`Error retrieving workspace settings for ${e}`,workspaceId:e}),{shouldShowFtux:!1,joinType:c,isLoggedIn:n,userMatchesDomain:!1};let{hasDomainSettings:d,joinType:m,currentUserMatchesDomain:u}=j(o);return n?{shouldShowFtux:!!(t&&d&&!i&&l),joinType:m,isLoggedIn:n,userMatchesDomain:u}:{shouldShowFtux:!!(l&&t&&d),joinType:m,isLoggedIn:n,userMatchesDomain:u}};var Y=n(82548);let H=()=>{let[e]=(0,C.useState)(()=>{let e="true"===sessionStorage.getItem("isRedirectToMainPage"),t=sessionStorage.getItem("requestToJoinWorkspaceUserWorkspace");return sessionStorage.removeItem("isRedirectToMainPage"),sessionStorage.removeItem("requestToJoinWorkspaceUserWorkspace"),{isRedirectToMainPage:e,workspace:t}});return e.isRedirectToMainPage&&e.workspace?C.createElement($,{workspace:e.workspace,requestToJoinWorkspace:!1}):null},K=({workspaceId:e,isStacked:t})=>{let n=(0,a.useCurrentUserSelector)(e=>e.email,""),{video:{id:r}}=(0,Y.dPl)(),{thumbnail:l,firstName:i,workspace:o,videoOwnerId:s}=O(r),{shouldShowFtux:c,joinType:d,isLoggedIn:m,userMatchesDomain:u}=J(e),[g,v]=(0,C.useState)(!1),[p,E]=(0,C.useState)(!1),[f,h]=(0,C.useState)(!1),[b,y]=(0,C.useState)(!1),_=c&&o&&(!m||u);return _?C.createElement(C.Fragment,null,!g&&C.createElement("div",{style:{display:"flex",justifyContent:"right",alignItems:"center",position:t?"fixed":"absolute",zIndex:10,bottom:0,width:t?"100%":"97%",boxSizing:"border-box"}},C.createElement(P,{joinType:d,email:n,avatar:l,name:i,workspace:o,dismissPopover:e=>v(e),showConfirmationToast:e=>E(e),showErrorToast:e=>h(e),showLoadingState:e=>y(e),isLoggedIn:m,videoId:r,videoOwnerId:s})),g&&p&&C.createElement($,{workspace:o.name,requestToJoinWorkspace:!0}),g&&f&&C.createElement(x.FNi,{duration:"long",isOpen:!0},C.createElement(x.xvT,{variant:"body"},"Error joining this Workspace. Please refresh your page and try again!")),g&&b&&C.createElement(x.FNi,{duration:"long",isOpen:!0},C.createElement(x.xvT,{variant:"body"},"One moment while we join you into your new workspace."))):null}},1779:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var a=n(58453);function r({size:e,color:t="currentColor"}){return a.createElement("svg",{width:8*e,height:8*e,viewBox:"0 0 56 56",fill:"none"},a.createElement("path",{d:"M56 21.328V0H34.672v5.56h11.834L30.779 21.288V9.453h-5.56v11.834L9.492 5.561h11.836V0H0v21.328h5.56V9.492L21.288 25.22H9.453v5.56h11.834L5.561 46.506V34.672H0V56h21.328v-5.56H9.492L25.22 34.71v11.837h5.56V34.71l15.727 15.728H34.672V56H56V34.672h-5.56v11.834L34.712 30.779h11.834v-5.56H34.713L50.439 9.492v11.836H56z",fill:t}))}},73163:function(e,t,n){"use strict";var a=n(58453),r=n(33266),l=n(77559);t.Z=({size:e=2})=>a.createElement(a.Fragment,null,a.createElement(r.W20,{backgroundColor:"background",radius:"full"},a.createElement(r.W20,{backgroundColor:"highlight",radius:"full",padding:"xsmall"},a.createElement(r.xMy,{alignment:"center"},a.createElement(r.JO$,{icon:a.createElement(l.X,{color:"#4B42AD"}),size:e})))))},39362:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var a=n(58453),r=n(33266),l=n(53981),i=n(30079),o=n(29606);let s=({children:e,footer:t,title:n,goBackToEditPage:s,backupTitleComponent:c,settingsIsInEditTab:d=!1})=>{let m=(0,o.n)(),u=d?`calc(${i.IB} - ${m}px)`:i.IB;return a.createElement(r.ggW,{autoFlow:"row",rows:["auto","1fr","auto"],justifyContent:"stretch",height:u},n?a.createElement(r.W20,{paddingLeft:"medium",paddingTop:"medium",paddingBottom:"small"},a.createElement(r.ggW,{gap:"small"},a.createElement(r.hU,{icon:a.createElement(l.C,null),onClick:s,altText:"Go Back To Edit Page"}),a.createElement(r.xvT,{fontWeight:"bold",size:"large"},n))):a.createElement(a.Fragment,null,c),a.createElement(r.W20,{paddingX:"large",paddingY:"small",height:"100%",overflow:"auto"},e),t)}},31639:function(e,t,n){"use strict";n.d(t,{f:function(){return u},v:function(){return g}});var a=n(92714),r=n(86357),l=n(93298),i=n(55068),o=n(58453),s=n(86953),c=n(33266),d=n(85885);let m=a.Z.div`
  width: 224px;
  height: 138px;
  background: linear-gradient(to right, #4355fb, #f187fb);
`,u=({text:e,altText:t,img:n,imgWidth:a,imgAlignment:u="center",trial:g=!1,noAccess:v=!1})=>{let p=(0,i.hP)(),{data:E}=(0,l.rj)({variables:{workspaceId:p?.id},skip:!p?.id}),f=E?.billing?.billing_details?.customer,h=f?.third_tier_assignment,b=(0,s.e)(h?"variant":void 0);return o.createElement(c.W20,{radius:"large",width:"224px",overflow:"hidden",justifyContent:"center",margin:"-7px -12px"},o.createElement(c.ggW,{autoFlow:"row"},o.createElement(m,null,o.createElement(c.xMy,{alignment:u},o.createElement("img",{src:n,alt:t,width:a,height:"auto"}))),o.createElement(c.W20,{padding:"small"},v?o.createElement(c.ggW,{gap:"xsmall",autoFlow:"row"},!b&&o.createElement(c.ggW,{gap:"xsmall"},o.createElement(c.JO$,{icon:o.createElement(d.R,null),size:2,color:"upgradeHover"}),o.createElement(c.xvT,{size:"small",fontWeight:"bold",color:"upgradeHover"},"Available on paid plans")),o.createElement(c.xvT,{size:"small",fontWeight:"bold"},"Upgrade to unlock links")):o.createElement(c.ggW,{gap:"xsmall",autoFlow:"row"},g&&o.createElement(r.e,null,o.createElement(c.ggW,{gap:"xsmall"},o.createElement(c.JO$,{icon:o.createElement(d.R,null),size:2,color:"upgradeHover"}),o.createElement(c.xvT,{size:"small",fontWeight:"bold",color:"upgradeHover"},"Available with your trial"))),o.createElement(c.xvT,{size:"small",fontWeight:"bold"},e)))))},g=({children:e,tooltipContent:t,notAvailable:n,maxWidth:a="224px",placement:r="leftCenter"})=>o.createElement(c.ua7,{tabIndex:-1,isInline:!1,content:t,placement:r,triggerOffset:8,maxWidth:a,isDisabled:n,keepOpen:!0},e)},30079:function(e,t,n){"use strict";n.d(t,{IB:function(){return o},YS:function(){return l},oh:function(){return i}});var a,r=n(95106),l=((a=l||{}).Activity="Activity",a.Transcript="Transcript",a.Views="Views",a.Edit="Edit",a.Settings="Settings",a);let i=425,o=`calc(100vh - ${r.v})`},78007:function(e,t,n){"use strict";n.d(t,{$:function(){return o}});var a=n(92714),r=n(58453);let l=a.Z.div`
  background: var(--lns-color-background);
  width: 100%;
  height: 72px;
  align-self: end;
`,i=a.Z.div`
  background: var(--lns-color-background);
  display: flex;
  justify-content: space-around;
  align-items: center;
  gap: 16px;
  padding: 18px 24px;
  width: 100%;
  box-shadow: 0 -1px 0 var(--lns-color-border);
`,o=({children:e})=>r.createElement(l,null,r.createElement(i,null,e))},12162:function(e,t,n){"use strict";n.d(t,{T:function(){return eS}});var a=n(58453),r=n(50679),l=n(54437),i=n(33266),o=n(55238),s=n(43669),c=n(20887),d=n(16175),m=n(82548),u=n(18021),g=n(33122),v=n(44588),p=n(58216),E=n(76559),f=n(62508),h=n(83034),b=n(10669),y=n(25051),_=n(53120),k=n(95796),w=n(55040),C=n(62527),T=n(14866),x=n(60154),S=n(15582),I=n(36897),A=n(21190),W=n(72995),N=n(83445),P=n(81504);let $={},L=(0,N.Ps)`
    mutation ApproveAutoCta($videoId: ID!) {
  approveAutoCta(videoId: $videoId) {
    __typename
    ... on ApproveAutoCtaPayload {
      approved_at
    }
    ... on UserNotAuthorizedError {
      message
    }
    ... on GenericError {
      message
    }
  }
}
    `;var F=n(83118),D=n(55986),z=n(53661),O=n(39362),R=n(78007),B=n(78198),V=n(82098),U=n(30495),M=n(3918);let Z=[{value:"Bottom left",title:"Bottom left"},{value:"Bottom right",title:"Bottom right"},{value:"Top left",title:"Top left"},{value:"Top right",title:"Top right"}];var q=n.p+"img/rainbow-oval-f67a03bfce0230e2a9c1.png",j=n(12785),J=n(28264);function Y({ctaUrl:e,videoId:t}){let n=_.wG.test(e),{isOwnerInCalendlySegment:r}=(0,j.e)(t,n);return a.createElement(a.Fragment,null,r?a.createElement(i.LZC,{top:"medium"},a.createElement(i.W20,{backgroundColor:"backgroundSecondary",padding:2,gap:2,radius:"large",htmlTag:"section"},a.createElement(i.ggW,{gap:"small"},a.createElement(i.JO$,{icon:a.createElement(J.L,null)}),a.createElement(i.xvT,{isDimmed:!0},"Your Calendly will appear at the end of the video")))):null)}let H="Yikes! Doesn’t look like a valid color",K={Rounded:{value:24,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12a9 9 0 019-9h9v2h-9a7 7 0 000 14h9v2h-9a9 9 0 01-9-9z",fill:"currentColor"})),null)},Squared:{value:0,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 3h18v2H5v14h16v2H3V3z",fill:"currentColor"})),null)},"Slightly rounded":{value:8,icon:a.createElement(e=>a.createElement("svg",{viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8a5 5 0 015-5h13v2H8a3 3 0 00-3 3v8a3 3 0 003 3h13v2H8a5 5 0 01-5-5V8z",fill:"currentColor"})),null)}},G=["#ff623e","#44c3c3","#ffc65c","#77c4ff","#f8f6f0","#212121","#ffffff"],X="#FF623E",Q="#FFFFFF",ee=e=>e===K["Slightly rounded"].value?"Slightly rounded":e===K.Squared.value?"Squared":"Rounded",et={url:"",text:"",location:W.WB.location,button_corner_style:ee(W.WB.border_radius),only_show_at_end_of_video:W.WB.only_show_at_end_of_video,color:Q,background_color:X},en=({videoId:e,onUrlChange:t,onTextChange:n,onLocationChange:r,onBackgroundColorChange:l,onColorChange:o,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:c,formProps:d,onSubmit:m})=>{let u=e=>{d.setValue("url",e),t(e)},v=e=>{d.setValue("text",e),n(e)},p=e=>{d.setValue("background_color",e),l(e)},E=e=>{d.setValue("color",e),o(e)},f=e=>{d.setValue("only_show_at_end_of_video",e),c(e)},h=()=>{let e=d.getValues().url,t=d.getValues().text,n=(0,g.V)(e);_.wG.test(e)&&(p("#006BFF"),E(Q)),!t&&n&&v(n)},{brandLogoPath:b}=(0,V.e)({videoId:e});return(0,U.b)(h),a.createElement("div",null,a.createElement(F.l0,{id:"cta-form",control:d.control,onSubmit:d.handleSubmit(m)},a.createElement(F.gN,null,a.createElement(F.Qy,{htmlFor:"url"},"Button link (URL)"),a.createElement(F._s,{id:"url",name:"url",control:d.control,rules:{required:"Required",validate:e=>!!M({apostrophes:!0,parens:!0,exact:!0,strict:!1,re2:!1}).test(e)||"Yikes! Doesn’t look like a valid URL"},onChange:e=>u(e.target.value),onBlur:()=>{let e=d.getValues().url;e.endsWith("?")&&u(e.slice(0,-1)),h()}}),a.createElement(F.Gy,{name:"url",control:d.control})),a.createElement(Y,{ctaUrl:d.getValues().url,videoId:e}),a.createElement(i.LZC,{top:"medium"}),a.createElement(F.gN,null,a.createElement(F.Qy,{htmlFor:"text"},"Button text"),a.createElement(F._s,{id:"text",name:"text",control:d.control,rules:{required:"Required"},onChange:e=>v(e.target.value)}),a.createElement(F.Gy,{name:"text",control:d.control})),a.createElement(i.LZC,{top:"medium"}),a.createElement(F.gN,null,a.createElement(F.Qy,{htmlFor:"location"},"Button location"),a.createElement(F.Wy,{id:"location",name:"location",control:d.control,rules:{required:"Required"},onChange:e=>{d.setValue("location",e),r(e)},options:b?Z.filter(e=>"Top left"!==e.value):Z,isDisabled:d.getValues().only_show_at_end_of_video}),a.createElement(F.Gy,{name:"location",control:d.control})),a.createElement(i.LZC,{top:"medium"}),a.createElement(F.gN,null,a.createElement(B.T,{defaultColor:X,colorSelected:p,swatches:G,addButton:!1,position:"bottom-end"},a.createElement("div",{className:"picker-input"},a.createElement(F.Qy,{htmlFor:"background_color"},"Button color"),a.createElement(F._s,{id:"background_color",name:"background_color",control:d.control,rules:{required:"Required",validate:e=>!!(0,_.K_)(e)||H},onChange:e=>{p(e.target.value)}}),a.createElement("img",{src:q,className:"picker-icon",alt:"picker icon"}),a.createElement(F.Gy,{name:"background_color",control:d.control})))),a.createElement(i.LZC,{top:"medium"}),a.createElement(F.gN,null,a.createElement(B.T,{defaultColor:Q,colorSelected:E,swatches:G,addButton:!1,position:"bottom-end"},a.createElement("div",{className:"picker-input"},a.createElement(F.Qy,{htmlFor:"color"},"Text color"),a.createElement(F._s,{id:"color",name:"color",control:d.control,rules:{required:"Required",validate:e=>!!(0,_.K_)(e)||H},onChange:e=>{E(e.target.value)}}),a.createElement("img",{src:q,className:"picker-icon",alt:"picker icon"}),a.createElement(F.Gy,{name:"color",control:d.control})))),a.createElement(i.LZC,{top:"medium"}),a.createElement(F.gN,null,a.createElement(F.Qy,{htmlFor:"button_corner_style"},"Button corner style"),a.createElement(F.Wy,{id:"button_corner_style",name:"button_corner_style",control:d.control,rules:{required:"Required"},onChange:e=>{d.setValue("button_corner_style",e),s(e)},options:Object.entries(K).map(([e,t])=>({value:e,title:e,icon:t?.icon}))}),a.createElement(F.Gy,{name:"button_corner_style",control:d.control})),a.createElement(i.LZC,{top:"large"}),a.createElement(F.gN,{variant:"horizontal"},a.createElement(F.vE,{id:"only_show_at_end_of_video",name:"only_show_at_end_of_video",control:d.control,onChangeCapture:e=>{f(e.target.checked)}}),a.createElement(F.Qy,{htmlFor:"only_show_at_end_of_video"},"Only show at end of video"))))},ea=e=>{let{url:t,text:n,location:a,button_corner_style:r,only_show_at_end_of_video:l,color:i,background_color:o}=e;return{url:t,text:n,mods:{location:a,border_radius:K[r].value,only_show_at_end_of_video:l,color:i,background_color:o}}},er=e=>{let{url:t,text:n,mods:a}=e,{location:r,border_radius:l,only_show_at_end_of_video:i,color:o,background_color:s}=a;return{url:t,text:n,location:r,background_color:s,color:o,button_corner_style:ee(l),only_show_at_end_of_video:i}};function el({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:l,onColorChange:o,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:d,onSaveForVideo:m,goBackToEditPage:u,videoId:v,currentValues:p}){let{loading:E,value:f}=(0,z.T)(D.I.DEFAULT_CTA,{onCompleted:()=>w(_)}),h=(0,r.I0)(),{updateMemberProperty:b}=(0,z.A)(D.I.DEFAULT_CTA),y=f&&Object.keys(f).length>0,_=y?er(f):p,k=(0,F.cI)({mode:"onBlur",values:_}),w=n=>{e(n.url),t(n.text),h((0,C.lh)(ea(n).mods))},T=k.formState.isSubmitting||!k.formState.isValid;return E?a.createElement(O.O,{title:a.createElement(i.xvT,{fontWeight:"bold",size:"large"},"Set default link"),footer:a.createElement(a.Fragment,null),goBackToEditPage:u,settingsIsInEditTab:!1},a.createElement(i.aNw,null)):a.createElement(O.O,{title:a.createElement(i.xvT,{fontWeight:"bold",size:"large"},"Set default link"),footer:a.createElement(R.$,null,a.createElement(i.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:T,hasFullWidth:!0},"Save")),goBackToEditPage:()=>{w(et),u()},settingsIsInEditTab:!1},a.createElement(a.Fragment,null,a.createElement(i.xvT,{color:"bodyDimmed"},"Setting a default link will make the link automatically appear on all future Loom videos."),a.createElement(i.LZC,{top:"large"}),a.createElement(en,{videoId:v,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:l,onColorChange:o,onButtonCornerStyleChange:s,onOnlyShowAtEndOfVideoChange:d,onSubmit:()=>{let{url:e,text:t,location:n,background_color:a,color:r,button_corner_style:l,only_show_at_end_of_video:i}=k.getValues();I.track(c.fQ4,{default_link:e,default_title:t,default_link_domain:(0,g.Q)(e)}),b({url:e,text:t,mods:{color:r,background_color:a,border_radius:K[l].value,location:n,only_show_at_end_of_video:i}}),m()},formProps:k}),a.createElement(i.LZC,{top:"small"}),a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},a.createElement(i.zxk,{variant:"danger",isDisabled:!y,onClick:()=>{I.track(c.WIy,{videoId:v}),b({}),w(et),u()}},"Remove default link"))))}var ei=n(60799);function eo({goToDefaultPage:e,isDisabled:t}){return a.createElement(R.$,null,a.createElement(i.zxk,{onClick:e,hasFullWidth:!0},"Set default link"),a.createElement(i.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:t,hasFullWidth:!0},"Save"))}function es({isDisabled:e,onDelete:t,ctaEnabled:n}){return a.createElement(R.$,null,n&&a.createElement(i.zxk,{icon:a.createElement(ei.z,null),variant:"danger",isDisabled:e,onClick:t,hasFullWidth:!0},"Delete link"),a.createElement(i.zxk,{type:"submit",form:"cta-form",variant:"primary",isDisabled:e,hasFullWidth:!0},"Save"))}function ec({onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:r,onColorChange:l,onButtonCornerStyleChange:o,onOnlyShowAtEndOfVideoChange:s,goBackToEditPage:d,videoId:m,currentValues:u,pageTitle:g,showDefaultCta:v,ctaEnabled:p,setIsOnDefaultTab:E,onSave:f,onDelete:h}){let b=(0,F.cI)({mode:"onBlur",values:u}),y=b.formState.isSubmitting||!b.formState.isValid;return a.createElement(O.O,{title:g,settingsIsInEditTab:!1,footer:v?a.createElement(eo,{goToDefaultPage:()=>{I.track(c.bEX,{id:m}),E(!0)},isDisabled:y}):a.createElement(es,{isDisabled:y,onDelete:h,ctaEnabled:p}),goBackToEditPage:d},a.createElement(a.Fragment,null,a.createElement(en,{videoId:m,onUrlChange:e,onTextChange:t,onLocationChange:n,onBackgroundColorChange:r,onColorChange:l,onButtonCornerStyleChange:o,onOnlyShowAtEndOfVideoChange:s,onSubmit:f,formProps:b}),v&&p&&a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",marginTop:"var(--lns-space-large)"}},a.createElement(i.zxk,{icon:a.createElement(ei.z,null),variant:"danger",isDisabled:y,onClick:h},"Delete link"))))}let ed={ctaEnabled:!1,ctaText:"",ctaUrl:"",ctaMods:null};async function em({videoId:e,cta:t,setVideo:n,dispatch:a,showErrorBar:r}){try{let a=await (0,v.Z)(`/v1/videos/${e}`,{credentials:"include",headers:{[f.Jd]:b._R},method:"PATCH",body:JSON.stringify({cta:t})});if(a.status>=400)throw Error(`Oops! Error updating video cta - HTTP response: ${a.status}`);n({ctaEnabled:t.enabled,cta:(0,u.BO)(t)})}catch(e){p.warning(e,{message:"error in share page update video cta creator"}),a(r(s.pn,e.toString()))}}let eu=({showDefaultCta:e,isOnDefaultTab:t,goBackToEditPage:n,pageTitle:i,setIsOnDefaultTab:o})=>{let{ctaMods:s,ctaUrl:u,ctaText:v,ctaIsAuto:f,ctaApprovedAt:b}=(0,r.v9)(x.c3),N=(0,r.v9)(x.tV),F=(0,r.v9)(x.r7),[D]=(0,a.useState)(f?u:""),[z]=(0,a.useState)(f?(0,g.V)(u):""),[O]=(0,a.useState)({ctaText:v,ctaUrl:u,ctaMods:s}),R=(0,r.I0)(),{setVideo:B,video:{id:V,videoProperties:{playableDuration:U}}}=(0,m.dPl)(),M=(0,r.v9)(S.v9),[Z]=(0,a.useState)(M);(0,a.useEffect)(()=>(s?.only_show_at_end_of_video?R((0,T.Aq)(U)):R((0,T.Aq)(Z)),()=>{R((0,T.Aq)(Z))}),[s?.only_show_at_end_of_video,R,Z,U]),(0,a.useEffect)(()=>{s||R((0,C.lh)({background_color:(0,A.bM)(d.w0)||X,color:(0,A.bM)(d.aE)||Q,border_radius:(0,W.wK)(s),location:(0,A.bM)(d.x1)||W.WB.location,only_show_at_end_of_video:(0,A.bM)(d.rW)||W.WB.only_show_at_end_of_video}))},[s,R]);let q={url:u||"",text:v||"",location:s?.location||(0,A.bM)(d.x1)||W.WB.location,background_color:s?.background_color||(0,A.bM)(d.w0)||X,color:s?.color||(0,A.bM)(d.aE)||Q,button_corner_style:ee((0,W.wK)(s)),only_show_at_end_of_video:s?.only_show_at_end_of_video||(0,A.bM)(d.rW)||W.WB.only_show_at_end_of_video},[j]=function(e){let t={...$,...e};return P.D(L,t)}({variables:{videoId:V},onCompleted:e=>{e?.approveAutoCta?.__typename!=="ApproveAutoCtaPayload"&&p.error(e?.approveAutoCta?.message??"Couldn't approve auto cta",{message:"Unable to approve auto cta"},{feature:y.L0.CtaLinks})},onError:e=>{p.error(e,{message:"Unable to approve auto cta"},{feature:y.L0.CtaLinks})}}),J=(0,a.useCallback)(({ctaEnabled:e,ctaText:t,ctaUrl:n,ctaMods:a})=>{R((0,C.lo)(e)),R((0,C.op)(t)),R((0,C.R_)(n)),R((0,C.lh)(a))},[R]),Y=(0,a.useCallback)(()=>{J({ctaEnabled:N,ctaText:O.ctaText,ctaUrl:O.ctaUrl,ctaMods:O.ctaMods}),R((0,l.bl)()),n()},[N,R,n,O.ctaMods,O.ctaText,O.ctaUrl,J]),H=(0,a.useCallback)(e=>{let t=u!==O.ctaUrl,a=f?v!==z:v!==O.ctaText,r=f;f&&(t||a)?((0,E.v3)(`${h.Km}.modified`,{urlChanged:t,textChanged:a}),R((0,C.jQ)(!1)),r=!1):f&&((0,E.v3)(`${h.Km}.approved`),j()),R((0,C.lo)(!0)),em({videoId:V,cta:{enabled:!0,text:v,url:u,mods:s,approved_at:b,is_auto:r},dispatch:R,setVideo:B,showErrorBar:w.o}),R((0,l.bl)()),e&&I.track(c.fQ4,{ctaMods:s,suggested_link:D,suggested_title:z,user_entered_link:t?u:null,user_entered_title:a?v:null});let i=_.wG.test(u);R((0,k.Bh)(i?"Calendly link saved!":"Link saved")),R((0,T.zn)(F)),n()},[j,b,f,s,v,u,R,n,O.ctaText,O.ctaUrl,B,D,z,F,V]),G=(0,a.useCallback)(()=>{J(ed),em({videoId:V,cta:{enabled:ed.ctaEnabled,text:ed.ctaText,url:ed.ctaUrl,mods:ed.ctaMods},dispatch:R,setVideo:B,showErrorBar:w.o}),R((0,l.bl)()),R((0,k.Bh)("Call-to-action deleted")),n(),R((0,T.zn)(F))},[R,n,J,B,F,V]),et=(0,a.useCallback)(e=>{R((0,C.R_)(e))},[R]),en=(0,a.useCallback)(e=>{R((0,C.op)(e))},[R]),ea=(0,a.useCallback)(e=>{R((0,C.lh)({...s,location:e})),(0,A.Ly)(d.x1,e)},[s,R]),er=(0,a.useCallback)(e=>{R((0,C.lh)({...s,background_color:e})),(0,A.Ly)(d.w0,e)},[s,R]),ei=(0,a.useCallback)(e=>{R((0,C.lh)({...s,color:e})),(0,A.Ly)(d.aE,e)},[s,R]),eo=(0,a.useCallback)(e=>{let t=K[e].value;R((0,C.lh)({...s,border_radius:t})),(0,A.Ly)(d.s8,t)},[s,R]),es=(0,a.useCallback)(e=>{R((0,C.lh)({...s,only_show_at_end_of_video:e})),(0,A.Ly)(d.rW,e)},[s,R]);return e&&t?a.createElement(el,{goBackToEditPage:Y,onSaveForVideo:()=>H(!1),onUrlChange:et,onTextChange:en,onLocationChange:ea,onBackgroundColorChange:er,onColorChange:ei,onButtonCornerStyleChange:eo,onOnlyShowAtEndOfVideoChange:es,videoId:V,currentValues:q}):a.createElement(ec,{goBackToEditPage:Y,onSave:()=>H(!0),onUrlChange:et,onTextChange:en,onLocationChange:ea,onBackgroundColorChange:er,onColorChange:ei,onButtonCornerStyleChange:eo,onOnlyShowAtEndOfVideoChange:es,videoId:V,currentValues:q,pageTitle:i,ctaEnabled:N,setIsOnDefaultTab:o,onDelete:G,showDefaultCta:e})};var eg=n(86728),ev=n(79790),ep=n(1779),eE=n(49593),ef=n.n(eE),eh=n(63598),eb=n(23117),ey=n(65922),e_=n(52796),ek=n(66175),ew=n(79497);let eC=({goBackToEditPage:e,pageTitle:t})=>{let n=(0,r.I0)(),{video:{thumbnails:o}}=(0,m.dPl)(),c=(0,r.v9)(ey.CX),d=(0,r.v9)(ey.wp),u=(0,r.v9)(ey.DD),{removeVideoThumbnail:g}=(0,ek.r)(),p=()=>{g(),n((0,l.c_)(null))},E=(0,a.useCallback)(e=>{let t=new FileReader;t.onload=e=>{let t=e?.target?.result,a=new Image;a.onload=()=>{n((0,l.c_)({url:t,dims:{width:a.width,height:a.height}}))},a.src=t},t.readAsDataURL(e)},[n]),f=e=>{e&&E(e)},h=e=>{let{files:t}=e.target;if(t&&t.length){let e=t[0];f(e)}e.target.value=""},b=e=>{e.stopPropagation()},y=()=>{if(c){n((0,l.lZ)());return}document.querySelector("#upload-thumbnail-file")?.click()};return(0,a.useEffect)(()=>(ef().bind(eg.IP,()=>{n((0,l.c_)(null)),n((0,l.m)())},ev.R),()=>{ef().unbind(eg.IP,ev.R)}),[n]),(0,a.useEffect)(()=>{let e=(o||{})[eb.it];if(!e)return;let t=(0,eh.Qo)(e);t&&(0,v.Z)(t).then(e=>{if(!e.ok)throw Error("Failed to fetch current thumbnail");return e.blob()}).then(e=>{E(e)}).catch(()=>{n((0,w.o)(s.pn,"Oops! failed to fetch current thumbnail, please delete current thumbnail to upload new image"))})},[n,E,o]),(0,a.useEffect)(()=>{u||e()},[u,e]),a.createElement(O.O,{footer:a.createElement(()=>a.createElement(R.$,null,c&&a.createElement(i.zxk,{variant:"danger",icon:a.createElement(ei.z,null),onClick:p,hasFullWidth:!0},"Delete"),a.createElement(i.zxk,{variant:"primary",isDisabled:d,onClick:y,hasFullWidth:!0},c?"Save":"Browse"),a.createElement("input",{type:"file",className:"upload-thumbnail-input",id:"upload-thumbnail-file",onClick:b,onChange:h,accept:"image/jpeg,image/pjpeg,image/png"})),null),title:t,goBackToEditPage:()=>{n((0,l.c_)(null)),n((0,l.m)()),e()}},a.createElement("div",{style:{position:"relative",marginTop:"var(--lns-space-small)"}},a.createElement("div",{className:"dropzone-wrapper"},a.createElement(e_.Z,{multiple:!1,onDrop:e=>{let t=e[0];t&&f(t)}})),a.createElement("div",{className:"thumbnail-dropzone-area"},a.createElement("div",{className:"mb:small"},a.createElement(ep.r,{color:"var(--lns-color-orangeDark)",size:6})),a.createElement(i.xvT,null,"Drag and drop to upload"),a.createElement(i.xvT,{size:"small",color:"bodyDimmed"},(0,ew.T)())),c&&a.createElement(i.W20,{paddingY:"medium"},a.createElement(i.ggW,{autoFlow:"row",justifyContent:"center"},a.createElement(i.xvT,{alignment:"center"},"Adjust positioning and zoom"),a.createElement(i.xvT,{alignment:"center",size:"small"},"Delete to use a different thumbnail")))))};var eT=n(61259);let ex=({currentPage:e,goBackToEditPage:t,pageTitle:n,showDefaultCta:r})=>{let[l,i]=a.useState(!1);switch(e){case o.L.Link:return a.createElement(eu,{goBackToEditPage:t,isOnDefaultTab:l,pageTitle:n,setIsOnDefaultTab:i,showDefaultCta:r??!1});case o.L.Thumbnail:return a.createElement(eC,{goBackToEditPage:t,pageTitle:n});case o.L.Settings:return a.createElement(eT.Y,{goBackToEditPage:t,pageTitle:n});default:return a.createElement(a.Fragment,null)}},eS=({currentPage:e,onClose:t,pageTitle:n,showDefaultCta:s})=>{let c=(0,r.I0)();return a.createElement(i.ggW,{height:"inherit",justifyContent:"stretch",style:{overflow:"auto"}},a.createElement(ex,{currentPage:e,goBackToEditPage:()=>{e===o.L.Link&&c((0,l.bl)()),t()},pageTitle:n,showDefaultCta:s}))}},66175:function(e,t,n){"use strict";n.d(t,{r:function(){return f}});var a=n(43669),r=n(20887),l=n(82548),i=n(34731),o=n(18021),s=n(50679),c=n(44588),d=n(58216),m=n(62508),u=n(10669),g=n(95796),v=n(55040),p=n(62527),E=n(36897);let f=()=>{let{setVideo:e,video:{id:t}}=(0,l.dPl)(),{updateVideo:n}=(0,i.G)(),f=(0,s.I0)();return{removeVideoThumbnail:()=>{(0,c.Z)(`/v1/videos/${t}`,{method:"PATCH",headers:{[m.Jd]:u._R},credentials:"include",body:JSON.stringify({thumbnails:null})}).then(e=>{if(e.status>=400)throw Error(`got a bad response status: ${e.status}`);return f((0,g.Bh)("Thumbnail deleted")),E.track(r.m3R,{video_id:t}),e.json()}).then(t=>{e((0,o.TW)(t)),f((0,p.jE)(t)),n(t)}).catch(e=>{f((0,v.o)(a.pn,"Oops! Failed to remove video thumbnail.")),d.warning(`Error in PATCH to /v1/videos/thumbnail: ${e.message}`,e)})}}}},4e3:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var a=n(29903),r=n(82548),l=n(18021),i=n(58453),o=n(50679),s=n(44588),c=n(58216),d=n(62508),m=n(10669),u=n(25051),g=n(95796),v=n(62527),p=n(14866),E=n(81280),f=n(15582);let h=()=>{let{setVideo:e,video:{id:t}}=(0,r.dPl)(),n=(0,o.I0)(),{password:h}=(0,a.u)(),b=(0,o.v9)(f.v9),y=(0,i.useCallback)(async({newSettings:a,refetchSourceUrl:r})=>{if(null!=t)try{let i=await (0,s.Z)(`/v1/videos/${t}`,{credentials:"include",headers:{[d.Jd]:m._R},method:"PATCH",body:JSON.stringify({...a,password:h})});i.status>=400&&(n((0,g.Bh)("Please reload and try again")),c.warning(`Failed to update video settings for video ${t} - HTTP response: ${i.status}`,{feature:u.L0.VideoSettings}));let o=await i.json();e((0,l.TW)(o)),n((0,v.jE)(o)),n((0,p.OK)()),r&&(n((0,E.Z)({videoId:t})),n((0,p.Aq)(b)))}catch(e){c.error(e,{message:`Failed saving video settings: ${e}`,isDefault:!1},{feature:u.L0.VideoSettings})}},[n,h,e,b,t]);return{updateVideoSettings:y}}},17730:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var a=n(92714),r=n(58453),l=n(33266),i=n(75684),o=n(28631);let s=({isClosable:e=!0,onClose:t,isBeta:n,img:a,altText:s,text:u,title:g})=>r.createElement(l.W20,{className:"relative",radius:"large",borderSide:"all",backgroundColor:"white",width:"300px",shadow:"medium"},e&&r.createElement(c,null,r.createElement(l.hU,{altText:"close",onClick:t,icon:r.createElement(i.G,null),iconColor:"white"})),r.createElement(d,null,r.createElement("img",{src:a,alt:s})),r.createElement(m,null,n?r.createElement(l.W20,null,r.createElement(o.s,null)):null,r.createElement(l.W20,{paddingTop:"medium"},r.createElement(l.ggW,{gap:"small",autoFlow:"row"},r.createElement(l.xvT,{variant:"title"},g),r.createElement(l.xvT,{variant:"body",color:"bodyDimmed"},u))))),c=a.Z.div`
  position: absolute;
  top: 6px;
  right: 4px;
  z-index: 2; /* Needed to show the close button */
`,d=a.Z.div`
  position: relative;
  z-index: ${1};
  border-radius: var(--lns-radius-large) var(--lns-radius-large) 0 0;
  height: 150px;
  overflow: hidden;
`,m=a.Z.div`
  position: relative;
  padding: var(--lns-space-medium);

  &:after {
    content: '';
    position: absolute;
    z-index: ${0};
    top: -${14}px;
    left: 0;
    right: 0;
    height: calc(100% + ${14}px);
    box-shadow: inset 0px 28px 20px -16px var(--lns-color-primary);
    border-radius: var(--lns-radius-large);
    background: transparent;
  }
`},28631:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var a=n(58453),r=n(33266);let l=function(){return a.createElement(r.W20,{backgroundColor:"blurpleLight",paddingY:.5,paddingX:1,radius:"full",width:"fit-content"},a.createElement(r.ggW,{gap:.5},a.createElement(r.JO$,{icon:a.createElement(r.TRl,{variant:"symbol",maxWidth:2}),color:"blurple"}),a.createElement(r.xvT,{fontWeight:"bold",color:"blurple"},"Limited-time beta")))}},23287:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var a=n(17730),r=n(11903),l=n(58453),i=n(15358),o=n.p+"img/consolidated-edit-tooltip-23cf237f42ce5561ae85.jpg";let s=({isClosable:e=!0})=>{let t=(0,r.st)();return l.createElement(a.q,{isClosable:e,onClose:()=>{t(i.BR.CONSOLIDATED_EDITOR_SHARE_PAGE_FTUX)},isBeta:!1,img:o,altText:"Consolidated Editor introduction",title:"Polish and edit your video",text:"Whether you prefer edit by transcript or trim and stitch, enjoy a streamlined editing experience with your one-stop shop for editing your Loom."})}},17447:function(e,t,n){"use strict";n.d(t,{S:function(){return m}});var a=n(32910),r=n.n(a),l=n(17730),i=n(11903),o=n(58453),s=n(33266),c=n(15358),d=n.p+"img/audio-variables-tooltip-1-2d07d1a1162b45ab387d.png";let m=({isClosable:e})=>{let t=(0,i.st)();return o.createElement(s.W20,{className:r()({"variables-button_fadeInTooltip_2F4":e})},o.createElement(l.q,{isClosable:e,onClose:e?()=>{t(c.BR.AUDIO_VARIABLES_SHARE_PAGE_FTUX)}:void 0,img:d,altText:"Variables introduction",isBeta:!0,title:"Try out audio variables",text:"Personalize your videos without re-recording. Swap out names with realistic AI-generated audio that sounds exactly like you."}))}},79497:function(e,t,n){"use strict";n.d(t,{T:function(){return i}});let a=[{value:1,ratio:"1:1",dimensions:"1080 ✕ 1080"},{value:4/3,ratio:"4:3",dimensions:"1024 ✕ 768"},{value:16/9,ratio:"16:9",dimensions:"1920 ✕ 1080"},{value:2,ratio:"18:9",dimensions:"2160 ✕ 1080"},{value:21/9,ratio:"21:9",dimensions:"2560 ✕ 1080"}],r=a[2],l=(e,t)=>`Recommend ${e} or ${t} files in .png or .jpg`,i=()=>{let e=document.getElementsByClassName("videoFrame")[0];if(e){let t=e.getBoundingClientRect(),n=function(e){let t=r,n=1/0;for(let r of Object.values(a)){let a=Math.abs(e-r.value);a<n&&(n=a,t=r)}return t}(t.width/t.height);return l(n.dimensions,n.ratio)}return l(r.dimensions,r.ratio)}},10164:function(e,t,n){"use strict";n.d(t,{D3:function(){return o}});var a=n(83445),r=n(55684);let l={},i=(0,a.Ps)`
    query GetIntegrationActiveStatus($integrationType: String!) {
  getIntegrationActive(integrationType: $integrationType) {
    ... on GetIntegrationActivePayload {
      isActive
    }
  }
}
    `;function o(e){let t={...l,...e};return r.a(i,t)}},29606:function(e,t,n){"use strict";n.d(t,{a:function(){return r},n:function(){return a}});let a=()=>{let e=document.getElementById("right-panel-tabs");return e?.getBoundingClientRect().height||0},r=()=>{let e=document.getElementById("comments-tab-header");return e?.getBoundingClientRect().height||0}},55914:function(e,t,n){"use strict";let a;n.d(t,{VR:function(){return nR},qZ:function(){return nD},XH:function(){return nV},iA:function(){return nA},xm:function(){return nW},of:function(){return nx}});var r=n(70276),l=n(20887),i=n(16175),o=n(32910),s=n.n(o),c=n(32950),d=n(12611),m=n(82548),u=n(50077),g=n(58453),v=n(33266),p=n(75769),E=n(49079);let f=e=>{let[t,n]=(0,g.useState)(0),a=(0,g.useCallback)(()=>{n(e=>e+1)},[]);return g.createElement(p.SV,{key:t,name:`[${e.tabName}]${E.j8.SidebarTabErrorBoundary}`,...e,renderError:()=>g.createElement(v.W20,{paddingY:"20vh"},g.createElement(p.B_,{text:`${e.tabName} not available`,CTAText:`Refresh ${e.tabName}`,handleCTAClick:a,showWarningIcon:!0}))})};var h=n(5383);let b=(0,h.r)(()=>Promise.all([n.e(8809),n.e(876)]).then(n.bind(n,65048)).then(e=>({default:e.Transcript}))),y=()=>g.createElement(g.Suspense,{fallback:null},g.createElement(b,null));var _=n(45431),k=n(92245),w=n(56694),C=n(42691),T=n.n(C);let x=(0,h.r)(()=>Promise.all([n.e(1971),n.e(5651),n.e(8851),n.e(6089),n.e(3748),n.e(8246)]).then(n.bind(n,3181)).then(e=>({default:e.CommentsWithProvider}))),S=e=>g.createElement(g.Suspense,{fallback:null},g.createElement(x,{...e}));var I=n(6854),A=n(79944),W=n(16032),N=n(67053),P=n(29903),$=n(32072),L=n(20120),F=n(17447),D=n(95401),z=n(55068),O=n(50518),R=n(58830),B=n.n(R),V=n(50679),U=n(70211),M=n(79336),Z=n(53975),q=n(12286),j=n(89390),J=n(58466),Y=n(56839),H=n(43323),K=n(76505),G=n(76706),X=n(63432),Q=n(95796),ee=n(60154),et=n(36897),en=n(86029),ea=n(82054),er=n(31639),el=n(42396),ei=n(51155),eo={editItemButton:"edit-item_editItemButton_fsF",isDisabled:"edit-item_isDisabled_2va",isPaywalled:"edit-item_isPaywalled_1-c",shorterLineHeight:"edit-item_shorterLineHeight_Eg6",popover:"edit-item_popover_2-g"};let es=({icon:e,title:t,rightOption:n,onClick:a,isDisabled:r,isPaywalled:l,disabledTooltipText:i,popoverContent:o})=>{let[c,d]=(0,ei.XI)({delayEnter:100}),m=c&&!r,{triggerProps:u,layerProps:p,renderLayer:E}=(0,ei.sJ)({isOpen:m,placement:"left-center",triggerOffset:12});return g.createElement(g.Fragment,null,g.createElement(v.ua7,{tabIndex:-1,content:i,isDisabled:!r||!i,placement:"bottomCenter",isInline:!1},g.createElement("span",{...u,...d},g.createElement(v.W20,{className:s()({[eo.editItemButton]:!0,[eo.isDisabled]:r,[eo.isPaywalled]:l}),onClick:r?void 0:a,padding:"small"},g.createElement(v.ggW,{columns:["auto","1fr","auto"],gap:"medium"},g.createElement(v.JO$,{icon:e}),g.createElement(v.xvT,null,g.createElement("div",{className:eo.shorterLineHeight},t)),n)))),m?E(g.createElement("div",{...p,className:eo.popover},o)):null)};var ec=n(46523);let ed=()=>g.createElement(v.W20,{radius:"large",paddingX:"medium",paddingY:"6px",backgroundColor:"disabledBackground",borderSide:"all"},g.createElement(v.JO$,{icon:g.createElement(ec.R,null),size:2})),em=({icon:e,title:t})=>g.createElement(es,{icon:e,title:t,rightOption:g.createElement(ed,null),isPaywalled:!0}),eu=()=>g.createElement(v.ggW,{gap:"xsmall"},g.createElement(v.xMy,{alignment:"bottomCenter"},g.createElement(v.xvT,{color:"primary"},"Add")),g.createElement(v.JO$,{icon:g.createElement(q.n,null)})),eg=({onClick:e,disabledTooltipText:t,isTrialing:n,hasExistingLink:a,isAutoLinkDetected:r,autoLinkTitle:l})=>{let i=a?"Edit the link":r?`${l} link mentioned`:"Add a link";return g.createElement(es,{icon:g.createElement(J.w,null),title:i,onClick:e,rightOption:r&&!a?g.createElement(eu,null):g.createElement(v.JO$,{icon:g.createElement(q.n,null)}),isDisabled:!1,disabledTooltipText:t,popoverContent:g.createElement(v._MZ,null,g.createElement(er.f,{img:el,imgAlignment:"bottomLeft",imgWidth:"190px",altText:"Link",text:"Add a link within your video",trial:n}))})};var ev=n(83445),ep=n(55684);let eE={},ef=(0,ev.Ps)`
    query GetAudioVariablesEligibilityForVariablesEntryPoint($videoId: ID!) {
  determineAudioPersonalizationEligibility(videoId: $videoId) {
    ... on DetermineAudioPersonalizationEligibilityPayload {
      isEligible
      reason
    }
    ... on GenericError {
      message
    }
    __typename
  }
}
    `;var eh=n(99474),eb=n(48612),ey=n(15825),e_=n(48857),ek=n(12467),ew=n(36792),eC=n(95002),eT=n(62527),ex={popoverButton:"auto-applied-popover-button_popoverButton_1-a",isDisabled:"auto-applied-popover-button_isDisabled_171",quickEditIcon:"auto-applied-popover-button_quickEditIcon_TBL",isOpen:"auto-applied-popover-button_isOpen_3u1",chevronIcon:"auto-applied-popover-button_chevronIcon_25T",popoverContent:"auto-applied-popover-button_popoverContent_1_V",aiAppliedMenuButton:"auto-applied-popover-button_aiAppliedMenuButton_1s3",editText:"auto-applied-popover-button_editText_16L",aiAppliedIcon:"auto-applied-popover-button_aiAppliedIcon_1gF",autoAppliedIconAnimation:"auto-applied-popover-button_autoAppliedIconAnimation_3Dp",autoAppliedTextAnimation:"auto-applied-popover-button_autoAppliedTextAnimation_2fQ",text:"auto-applied-popover-button_text_2nl",textOverlay:"auto-applied-popover-button_textOverlay_93a"};let eS=({icon:e,text:t,onEditClick:n})=>g.createElement("button",{className:ex.aiAppliedMenuButton,onClick:n},g.createElement(v.JO$,{icon:e,className:ex.aiAppliedIcon}),t,g.createElement("span",{className:ex.editText},"Edit")),eI=()=>{let e=(0,V.I0)();return g.createElement(v.xvT,{size:"body-sm"},"Manage your Loom AI default settings"," ",g.createElement(v.rUS,{htmlTag:"button",onClick:()=>e((0,eT.oi)(!0))},"here"))},eA=({isAiTitleApplied:e,isAiChaptersApplied:t,isAiSummaryApplied:n,videoId:a,isDisabled:r,tooltipText:i,displayDefaultSettingsCallout:o,hasAiInitiallyGenerated:c})=>{let{focusDescriptionInput:d}=(0,eb.Gq)(),{enterEditMode:m}=(0,ey.K)(),{editChapters:u}=(0,eh.Jp)(),[p,E]=(0,g.useState)(!1),f=(0,g.useRef)(null);return(0,v.t$X)(f,()=>E(!1)),g.createElement(g.Fragment,null,g.createElement("div",{ref:f},g.createElement(v.J2e,{isOpen:p&&!r,offset:1,placement:"bottomRight",content:g.createElement("div",{className:ex.popoverContent},g.createElement(v.W20,{backgroundColor:"background"},g.createElement(v.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},e&&g.createElement(eS,{icon:g.createElement(Z.K,null),text:"Title added",onEditClick:()=>{E(!1),m(ey.p.AISidebar,a)}}),t&&g.createElement(eS,{icon:g.createElement(e_._,null),text:"Chapters added",onEditClick:()=>{E(!1),u({analyticsEventName:l.P9z,scrollIntoView:!0})}}),n&&g.createElement(eS,{icon:g.createElement(ek.b,null),text:"Summary added",onEditClick:()=>{E(!1),d(a,"sidebar")}}),o?g.createElement(eI,null):null)))},g.createElement(v.ua7,{tabIndex:-1,content:i,isDisabled:!i,maxWidth:22},g.createElement("button",{className:s()({[ex.popoverButton]:!0,[ex.isOpen]:p,[ex.isDisabled]:r}),onClick:()=>{r||E(!p)}},g.createElement(v.ggW,{gap:"xsmall"},g.createElement("div",{className:s()({[ex.autoAppliedIconAnimation]:c})},g.createElement(v.JO$,{className:ex.quickEditIcon,size:2,icon:g.createElement(eC.r,null)})),g.createElement("div",{className:s()({[ex.autoAppliedTextAnimation]:c})},c&&g.createElement(v.xvT,{className:ex.textOverlay},"Auto-applied"),g.createElement(v.xvT,{className:ex.text},"Auto-applied")),g.createElement(v.JO$,{className:ex.chevronIcon,size:2,icon:g.createElement(ew.u,null)})))))))};var eW=n(30769),eN={upgradeLink:"edit-header_upgradeLink_3Ki",trialPill:"edit-header_trialPill_11D",headerBackground:"edit-header_headerBackground_2PA"};let eP=()=>g.createElement(v.ggW,{columns:["1fr","auto"],width:"100%"},g.createElement(v.ggW,{autoFlow:"row"},g.createElement(v.xvT,{size:"body-lg",fontWeight:"bold"},"Loom AI is generating..."),g.createElement(v.xvT,{size:"body-sm",color:"bodyDimmed"},"This usually takes a few seconds")),g.createElement(v.m9_,{animation:"spin 2s infinite steps(43) alternate",brand:"ai"})),e$=()=>g.createElement(v.ggW,{gap:"xsmall"},g.createElement(v.xvT,{size:"body-lg"},"Powered by"),g.createElement(v.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),g.createElement(v.xMy,{alignment:"topCenter"},g.createElement(v.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),eL=()=>{let{onClick:e}=(0,eW.X)();return g.createElement(v.ggW,{autoFlow:"row"},g.createElement(v.ggW,{gap:"xsmall"},g.createElement(v.xvT,{size:"body-lg"},"Powered by"),g.createElement(v.xvT,{size:"body-lg",fontWeight:"bold"}," ","Loom AI"),g.createElement(v.xMy,{alignment:"topCenter"},g.createElement(v.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"})),g.createElement(v.W20,{paddingLeft:"xsmall"},g.createElement("div",{className:eN.trialPill,role:"button",onClick:e},g.createElement(v.xvT,{fontWeight:"bold"},"Trial")))),g.createElement(v.xvT,{size:"body-sm",color:"bodyDimmed"},g.createElement("span",{className:eN.upgradeLink,onClick:e},"Upgrade now")," ","to keep access to AI + Editing features"))},eF=()=>{let{onClick:e}=(0,eW.X)();return g.createElement(v.ggW,{autoFlow:"row"},g.createElement(v.ggW,{gap:"xsmall"},g.createElement(v.xvT,{size:"body-lg"},"Get advanced AI and editing"),g.createElement(v.xMy,{alignment:"topCenter"},g.createElement(v.TRl,{brand:"ai",maxWidth:1.5,variant:"symbol"}))),g.createElement(v.xvT,{size:"body-sm",color:"bodyDimmed"},"Access AI-powered filler word removal, auto-drafting, video editing, and more on the Loom Business + AI Plan."," ",g.createElement("span",{className:eN.upgradeLink,onClick:e},"Upgrade now.")," "))},eD=()=>g.createElement(v.ggW,{autoFlow:"row"},g.createElement(v.xvT,{fontWeight:"bold"},"Loom AI not available on this video"),g.createElement(v.xvT,{size:"body-sm",color:"bodyDimmed"},"Some videos are not eligible for AI features. If you believe this was an error, please contact support.")),ez=({variant:e})=>{let t="no-ai-access"===e||"ai-not-available"===e;return g.createElement("div",{className:eN.headerBackground},g.createElement(v.W20,{paddingY:t?"xsmall":void 0},g.createElement(v.W20,{height:10,paddingX:"small"},g.createElement(v.xMy,{alignment:"centerLeft"},"ai-loading"===e&&g.createElement(eP,null),"ai"===e&&g.createElement(e$,null),"ai-trial"===e&&g.createElement(eL,null),"no-ai-access"===e&&g.createElement(eF,null),"ai-not-available"===e&&g.createElement(eD,null)))))};var eO=n(23287),eR={editPageButton:"edit-page-button_editPageButton_3tx",mainText:"edit-page-button_mainText_2xb",subText:"edit-page-button_subText_1Yx",trimIcon:"edit-page-button_trimIcon_289",isDisabled:"edit-page-button_isDisabled_2Ym",popover:"edit-page-button_popover_3AT"};let eB=({onClick:e,subText:t,isDisabled:n,tooltipText:a})=>{let[r,l]=(0,ei.XI)({delayEnter:100}),i=r&&!n,{triggerProps:o,layerProps:c,renderLayer:d}=(0,ei.sJ)({isOpen:i,placement:"left-center",triggerOffset:12});return g.createElement(g.Fragment,null,g.createElement(v.ua7,{tabIndex:-1,content:a,placement:"bottomCenter",isDisabled:!a,isInline:!1},g.createElement("span",{...o,...l},g.createElement("button",{className:s()({[eR.editPageButton]:!0,[eR.isDisabled]:n}),onClick:e,disabled:n},g.createElement(v.W20,{padding:"small",backgroundImage:n?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},g.createElement(v.ggW,{columns:["auto","1fr","auto"],gap:1.5,justifyContent:"stretch"},g.createElement(v.JO$,{icon:g.createElement(Y.c,null),className:eR.trimIcon}),g.createElement(v.Pag,{direction:"column",alignItems:"flex-start"},g.createElement(v.I7m,null,g.createElement("div",{className:eR.mainText},g.createElement(v.xvT,{alignment:"left",fontWeight:"bold"},"Edit and trim video"))),g.createElement(v.I7m,null,g.createElement("div",{className:eR.subText},g.createElement(v.xvT,{alignment:"left",color:"bodyDimmed"},t)))),g.createElement(v.JO$,{icon:g.createElement(q.n,null)})))))),i&&d(g.createElement("div",{...c,className:eR.popover},g.createElement(eO.k,{isClosable:!1}))))},eV=({children:e,title:t,topRightOption:n,showGradientBorderAnimation:a})=>g.createElement("div",{className:s()({"edit-section_editSectionGradientBorderAnimation_1_Y":a})},g.createElement(v.W20,{position:"relative",borderSide:"all",radius:"xlarge",paddingY:2.5,paddingX:"large",backgroundColor:"background",zIndex:1},g.createElement(v.ggW,{gap:1.5,autoFlow:"row",justifyContent:"stretch"},g.createElement(v.ggW,{autoFlow:"column",justifyContent:"space-between"},g.createElement(v.xvT,{size:"heading-sm",fontWeight:"bold"},t),n),e)));var eU=n(81504);let eM={},eZ=(0,ev.Ps)`
    mutation editTabBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String) {
  bulkTrimClips(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
  ) {
    ... on BulkTrimClipsPayload {
      removalCounts {
        fillerWords
        secondsOfSilence
      }
      removalWasPartial
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function eq(e){let t={...eM,...e};return eU.D(eZ,t)}let ej={},eJ=(0,ev.Ps)`
    mutation editTabUndoBulkTrimVideo($videoId: ID!, $forceSave: Boolean!, $lastTrimId: ID!, $includeSilences: Boolean!, $includeFillers: Boolean!, $password: String) {
  bulkUndoTrim(
    videoId: $videoId
    forceSave: $forceSave
    lastTrimId: $lastTrimId
    includeSilences: $includeSilences
    includeFillers: $includeFillers
    password: $password
  ) {
    ... on BulkUndoTrimPayload {
      video {
        id
        playable_duration
        processing_information {
          trim_id
          trim_progress
          trim_ranges {
            from
            to
          }
          videoUploadValid
        }
      }
    }
    ... on ClipUpdateError {
      message
      reason
    }
    ... on Warning {
      message
    }
    ... on Error {
      message
    }
  }
}
    `;function eY(e){let t={...ej,...e};return eU.D(eJ,t)}let eH={},eK=(0,ev.Ps)`
    query getEditTabBulkTrimCounts($videoId: ID!, $password: String) {
  getIntelligenceStatus(videoId: $videoId, password: $password) {
    ... on GetIntelligenceStatusPayload {
      hasTrimmedSilences
      hasTrimmedFillerWords
      secondsOfSilenceTrimmed
      numberOfFillerWordsTrimmed
      processingInformation {
        trim_id
      }
    }
    ... on Error {
      message
    }
  }
}
    `,eG={},eX=(0,ev.Ps)`
    query getEditTabVideoDetails($videoId: ID!, $password: String) {
  getVideo(id: $videoId, password: $password) {
    ... on RegularUserVideo {
      id
      complete
      personalizationType
      cta {
        enabled
        url
        is_auto
      }
    }
    ... on PrivateVideo {
      id
      message
    }
    ... on VideoPasswordMissingOrIncorrect {
      id
      message
    }
  }
}
    `,eQ={},e0=(0,ev.Ps)`
    query getEditTabWorkspaceBillingDetails($workspaceId: ID!) {
  getWorkspaceBillingDetails(workspaceId: $workspaceId) {
    id
    billing_details {
      plan {
        id
        pure_trial
      }
    }
  }
}
    `,e1=(e,t,n,a)=>{let r=!1,l="Feature unavailable on this video";return!t||n?{hasAccess:r,reason:null}:(a&&e?.determineAudioPersonalizationEligibility?.__typename==="DetermineAudioPersonalizationEligibilityPayload"&&(r=!!e.determineAudioPersonalizationEligibility.isEligible,l=e.determineAudioPersonalizationEligibility.reason),{hasAccess:r,reason:l})},e2=e=>{if(e?.getIntelligenceStatus?.__typename!=="GetIntelligenceStatusPayload")return{hasTrimmedSilences:!1,secondsOfSilenceTrimmed:0,hasTrimmedFillerWords:!1,numberOfFillerWordsTrimmed:0};let t=e.getIntelligenceStatus.hasTrimmedSilences,n=e.getIntelligenceStatus.secondsOfSilenceTrimmed,a=e.getIntelligenceStatus.hasTrimmedFillerWords,r=e.getIntelligenceStatus.numberOfFillerWordsTrimmed;return{hasTrimmedSilences:t,secondsOfSilenceTrimmed:n,hasTrimmedFillerWords:a,numberOfFillerWordsTrimmed:r}};var e5=n(75382),e3=n(33122);let e9=e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")return{videoIsComplete:!1,videoHasAudioVariables:!1,isAutoLinkDetected:!1,autoLinkTitle:void 0};let t=e.getVideo.complete,n=e.getVideo.personalizationType===e5.at.Audio,{is_auto:a,url:r}=e.getVideo.cta,l=!!(a&&r),i=(0,e3.V)(r);return{videoIsComplete:t,videoHasAudioVariables:n,isAutoLinkDetected:l,autoLinkTitle:i}},e8=()=>((0,g.useEffect)(()=>(document.documentElement.style.setProperty("--svg-ai-gradient-primary","url(#svg-ai-gradient-primary-def)"),()=>{document.documentElement.style.removeProperty("--svg-ai-gradient-primary")}),[]),g.createElement("svg",{width:"0",height:"0",style:{display:"absolute"}},g.createElement("defs",null,g.createElement("linearGradient",{id:"svg-ai-gradient-primary-def"},g.createElement("stop",{offset:"0%",stopColor:"hsl(242, 88%, 66%)"}),g.createElement("stop",{offset:"39%",stopColor:"hsl(247, 78%, 72%)"}),g.createElement("stop",{offset:"61%",stopColor:"hsl(270, 64%, 72%)"}),g.createElement("stop",{offset:"100%",stopColor:"hsl(313, 67%, 68%)"})))));var e6=n(89712),e4=n(94438),e7=n(81134);let te=({icon:e,text:t,isDisabled:n,tooltipText:a,onClick:r})=>g.createElement(v.ua7,{content:a,isDisabled:!a,placement:"bottomCenter",isInline:!1},g.createElement("button",{className:s()({workflows_workflowsButton_2y1:!0,workflows_isDisabled_3RX:n}),disabled:n,onClick:r},g.createElement(v.W20,{padding:1.5,backgroundImage:n?void 0:"var(--lns-gradient-ai-secondary)",height:"100%",width:"100%"},g.createElement(v.ggW,{autoFlow:"row",gap:"xsmall",justifyContent:"stretch"},g.createElement(v.ggW,{justifyContent:"space-between"},g.createElement(v.JO$,{icon:e,className:"workflows_icon_DCs"}),g.createElement("div",{className:"workflows_chevronIcon_1PP"},g.createElement(v.JO$,{icon:g.createElement(q.n,null)}))),g.createElement(v.xvT,{alignment:"left",fontWeight:"bold"},t))))),tt=({isDisabled:e,tooltipText:t,onDocumentClick:n,onMessageClick:a,onBugReportClick:r})=>g.createElement(v.ggW,{autoFlow:"row",gap:1.5,justifyContent:"stretch"},g.createElement(v.xvT,{color:"bodyDimmed"},"Use your video to generate a..."),g.createElement(v.ggW,{gap:1.5,justifyContent:"stretch",columns:["1fr","1fr","1fr"]},g.createElement(te,{icon:g.createElement(e4.E,null),text:"Document",onClick:n,isDisabled:e,tooltipText:t}),g.createElement(te,{icon:g.createElement(e7.Y,null),text:"Message",onClick:a,isDisabled:e,tooltipText:t}),g.createElement(te,{icon:g.createElement(e6.A,null),text:"Bug report",onClick:r,isDisabled:e,tooltipText:t}))),tn="Feature unavailable on this video",ta=({isAiLoading:e,aiHasError:t,transcriptInProgress:n,transcriptUnavailable:a,transcriptRegenerating:r})=>e||n&&!r?"loading":t||a?"not-available":"success",tr=({isTrialing:e,hasAnyAiScope:t,aiStatus:n})=>t?"loading"===n?"ai-loading":"not-available"===n?"ai-not-available":e?"ai-trial":"ai":"no-ai-access",tl=({videoId:e,onAddLinkClick:t})=>{let n=(0,V.I0)(),{password:a}=(0,P.u)(),{lastTrimId:r}=(0,ea.L7)(),i=(0,N._)(),o=(0,V.v9)(ee.tV),s=(0,V.v9)(ee.e6),{isLoading:c,hasError:d,autoTitleGenerated:m,autoSummaryGenerated:u,autoChaptersGenerated:p,hasUserEditedTitle:E,hasUserEditedSummary:f,hasUserEditedChapters:h,transcriptInProgress:b,transcriptUnavailable:y,transcriptRegenerating:k}=(0,A.K)(),w=y||b,C=(0,z.hP)(),T=(0,_.Mr)({flag:G.dKZ,activationValues:["variant-b"]}),{data:x,loading:S}=function(e){let t={...eQ,...e};return ep.a(e0,t)}({variables:{workspaceId:C?.id},skip:!C?.id,onError:e=>{throw e},onCompleted:e=>{if(e?.getWorkspaceBillingDetails?.__typename!=="BillingEntity")throw Error("Billing details not found")}}),{data:I,loading:R,refetch:er}=function(e){let t={...eG,...e};return ep.a(eX,t)}({variables:{videoId:e,password:a},onError:e=>{throw e},onCompleted:e=>{if(e?.getVideo?.__typename!=="RegularUserVideo")throw Error(e?.getVideo?.message??"Video data not found")}}),{videoIsComplete:el,videoHasAudioVariables:ei,isAutoLinkDetected:eo,autoLinkTitle:ec}=e9(I),{data:ed,error:eu}=(0,en.G)({variables:{videoId:e},skip:!!el||!e});(0,g.useEffect)(()=>{(ed?.recordingCompleted||eu?.message==="Video already completed")&&er()},[ed,eu,er]);let{data:ev,error:eh}=function(e){let t={...eH,...e};return ep.a(eK,t)}({variables:{videoId:e,password:a}}),eb=!!eh,{hasTrimmedSilences:ey,secondsOfSilenceTrimmed:e_,hasTrimmedFillerWords:ek,numberOfFillerWordsTrimmed:ew}=e2(ev),[eC,{loading:eT}]=eq({variables:{videoId:e,includeSilences:!0,includeFillers:!1,password:a,lastTrimId:r,forceSave:!1},refetchQueries:[eK],awaitRefetchQueries:!0,onCompleted:t=>{if(t?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!t.bulkTrimClips.video){n((0,Q.Bh)("Failed to remove silences. Please try again."));return}et.track(l.Aj0,{video_id:e,enabled:!0}),i(t.bulkTrimClips.video)}}),[ex,{loading:eS}]=eq({variables:{videoId:e,includeSilences:!1,includeFillers:!0,password:a,lastTrimId:r,forceSave:!1},refetchQueries:[eK],awaitRefetchQueries:!0,onCompleted:t=>{if(t?.bulkTrimClips?.__typename!=="BulkTrimClipsPayload"||!t.bulkTrimClips.video){n((0,Q.Bh)("Failed to remove filler words. Please try again."));return}et.track(l.tqT,{video_id:e,enabled:!0}),i(t.bulkTrimClips.video)}}),[eI,{loading:eW}]=eY({variables:{videoId:e,includeSilences:!0,includeFillers:!1,password:a,lastTrimId:r,forceSave:!1},refetchQueries:[eK],awaitRefetchQueries:!0,onCompleted:t=>{if(t?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!t.bulkUndoTrim.video){n((0,Q.Bh)("Failed to undo silence removal. Please try again."));return}et.track(l.Aj0,{video_id:e,enabled:!1}),i(t.bulkUndoTrim.video)}}),[eN,{loading:eP}]=eY({variables:{videoId:e,includeSilences:!1,includeFillers:!0,password:a,lastTrimId:r,forceSave:!1},refetchQueries:[eK],awaitRefetchQueries:!0,onCompleted:t=>{if(t?.bulkUndoTrim?.__typename!=="BulkUndoTrimPayload"||!t.bulkUndoTrim.video){n((0,Q.Bh)("Failed to undo filler word removal. Please try again."));return}et.track(l.tqT,{video_id:e,enabled:!1}),i(t.bulkUndoTrim.video)}}),{data:e$}=function(e){let t={...eE,...e};return ep.a(ef,t)}({variables:{videoId:e},skip:!el||y}),{hasAccess:eL,reason:eF}=e1(e$,!!el,b,!y),eD=(0,g.useMemo)(()=>x?.getWorkspaceBillingDetails?.billing_details?.plan?.pure_trial??!1,[x]),eO=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.GX),!1),eR=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.DI),!1),eU=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.IS),!1),eM=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.Ce),!1),eZ=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.Vu),!1),ej=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.XY),!1),eJ=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.gp),!1),e5=(0,W.useCurrentUserSelector)(e=>e.scopes.includes(X.Ce),!1),e3=(0,D.Pg)(),e6=eM||eZ||ej,e4=e6||eJ,e7=ta({isAiLoading:c,aiHasError:d,transcriptInProgress:b,transcriptUnavailable:y,transcriptRegenerating:k}),te=tr({isTrialing:eD,hasAnyAiScope:e4,aiStatus:e7}),tl=eM&&m&&!E,ti=eZ&&u&&!f,to=ej&&p&&!h,ts=!tl&&!ti&&!to,tc=(0,W.useCurrentUserSelector)(e=>e.videoSettings?.auto_title??!0,!1),td=(0,W.useCurrentUserSelector)(e=>e.videoSettings?.auto_summary??!0,!1),tm=(0,W.useCurrentUserSelector)(e=>e.videoSettings?.auto_chapters??!0,!1),tu=!tl&&!tc,tg=!ti&&!td,tv=!to&&!tm,tp="success"!==e7||ts,tE="loading"===e7?"Loom AI is still generating":tc||td||tm||!ts?"not-available"===e7||ts?"Auto titles, chapters, and summary are unavailable on this video":void 0:"Your AI features are turned off in default settings",tf=!el||ei,th=tf?tn:void 0,tb=eU?"Edit using transcript & add clips":"Trim mistakes & add clips",ty=eS||eP,t_=ty||ei||eb||w,tk=eT||eW,tw=tk||ei||eb||w,tC=eb?"Feature unavailable due to an error":ei||w?tn:void 0,tT=b?"Transcript is generating":y?tn:void 0,tx=!1===(0,_.W9)(G.EI5),tS=!tp&&s,tI=()=>{window.location.href=window.location.href.replace("/share/","/edit/"),et.track(l.Pks,{id:e})},tA=(0,L.$)(),tW=e=>{n((0,U.h7)({modalType:"WORKFLOWS_MODAL",options:{workflowTypeOnOpen:e}})),tA.createModalOpened(L.B.NEW_ENTRY_POINT),tA.workflowSelected($.q[e][0],e,"share_page_right_sidebar")};if(S||R)return g.createElement(nD,null);if(tx)return g.createElement(eV,{title:"Make edits"},eO?g.createElement(eB,{onClick:tI,subText:tb}):null,eR?g.createElement(es,{icon:g.createElement(J.w,null),title:o?"Edit the link":"Add a link",onClick:t,rightOption:g.createElement(v.JO$,{icon:g.createElement(q.n,null)})}):null);let tN=g.createElement(eV,{title:"Make edits",topRightOption:e6?g.createElement(eA,{videoId:e,isAiTitleApplied:tl,isAiSummaryApplied:ti,isAiChaptersApplied:to,isDisabled:tp,tooltipText:tE,displayDefaultSettingsCallout:tu||tg||tv,hasAiInitiallyGenerated:tS}):null,showGradientBorderAnimation:tS},eO?g.createElement(v.W20,{paddingY:"xsmall"},g.createElement(eB,{onClick:tI,subText:tb,isDisabled:tf,tooltipText:th})):g.createElement(em,{icon:g.createElement(Y.c,null),title:"Edit and trim video"}),eJ?g.createElement(g.Fragment,null,g.createElement(es,{icon:g.createElement(H.l,null),title:eT?"Removing silences...":eW?"Undoing removal...":ey?`${e_}s of silence removed`:"Remove silences",onClick:ey?eI:eC,rightOption:tk?g.createElement(v.aNw,null):g.createElement(v.rsf,{isActive:ey,isDisabled:tw,readOnly:!0}),isDisabled:tw,disabledTooltipText:tC}),g.createElement(es,{icon:g.createElement(j.Y,null),title:eS?"Removing filler words...":eP?"Undoing removal...":ek?`${ew} filler ${B()("word",ew)} removed`:"Remove filler words",onClick:ek?eN:ex,rightOption:ty?g.createElement(v.aNw,null):g.createElement(v.rsf,{isActive:ek,isDisabled:t_,readOnly:!0}),isDisabled:t_,disabledTooltipText:tC})):g.createElement(em,{icon:g.createElement(j.Y,null),title:"Remove silences & filler words"}),e6?null:g.createElement(em,{icon:g.createElement(Z.K,null),title:"Auto-title, chapters, and summary"})),tP=g.createElement(eV,{title:"Take action",showGradientBorderAnimation:tS},e5?g.createElement(v.W20,{paddingBottom:"xsmall"},g.createElement(tt,{isDisabled:w,tooltipText:tT,onDocumentClick:()=>{tW("document")},onBugReportClick:()=>{tW("ticket")},onMessageClick:()=>{tW("message")}})):g.createElement(em,{icon:g.createElement(v.JO$,{icon:g.createElement(M.m,null),size:2.8}),title:"Use AI to generate documents from your video"}),e3?g.createElement(es,{icon:g.createElement(K.j,null),title:"Personalize with variables",onClick:()=>{(0,O.Qu)(e,"share-page")},rightOption:g.createElement(v.JO$,{icon:g.createElement(q.n,null)}),isDisabled:!eL,disabledTooltipText:eF??tn,popoverContent:g.createElement(F.S,{isClosable:!1})}):g.createElement(em,{icon:g.createElement(K.j,null),title:"Personalize with variables"}),eR?g.createElement(eg,{onClick:t,disabledTooltipText:tn,isTrialing:eD,hasExistingLink:o,isAutoLinkDetected:eo,autoLinkTitle:ec}):g.createElement(em,{icon:g.createElement(J.w,null),title:"Add a link"}));return g.createElement(g.Fragment,null,g.createElement(v.W20,{paddingX:"large"},g.createElement(ez,{variant:te}),g.createElement(v.W20,{position:"relative"},g.createElement(v.ggW,{autoFlow:"row",gap:"medium",justifyContent:"stretch"},T?g.createElement(g.Fragment,null,tP,tN):g.createElement(g.Fragment,null,tN,tP)))),g.createElement(e8,null))};var ti=n(12162),to=n(55238),ts=n(37984);let tc=({onClose:e})=>{let t=(0,V.v9)(ee.tV),n=(0,V.v9)(e=>(0,ts.MU)(e,X.tS));return g.createElement(ti.T,{currentPage:to.L.Link,onClose:e,pageTitle:t?"Edit the link":"Add a link",showDefaultCta:n})};var td=n(54437),tm=n(80540),tu=n(23904),tg=n(59279),tv=n(58789),tp=n(20409),tE=n(14001),tf=n(76828),th=n(58),tb=n(60395),ty=n(3297),t_=n(29),tk=n(25051),tw=n(19006),tC=n(14866),tT=n(51458),tx=n(2165),tS=n(65922),tI=n(80110),tA=n(89881),tW=n(21190),tN=n(51110),tP=n(50376),t$=n(33136),tL=n(75684),tF=n(34941),tD=n(97505),tz=n(31924),tO=n.p+"img/illustrations/player-8461285e3e7f39968f05.png";let tR={},tB=(0,ev.Ps)`
    query GetInsightsStatsForVideo($videoId: ID!) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    stats(videoId: $videoId) {
      id
      trackedViewerCount
      completionPercentAvg
      ctaConversionPercent
    }
  }
}
    `;var tV=n(31078);let tU=()=>g.createElement(v.LZC,{bottom:2,top:2,left:1},g.createElement(v.ggW,{columns:["auto 1fr"],gap:2},g.createElement(v.W20,{height:4,width:4,backgroundColor:"disabledBackground",radius:"full",paddingLeft:4}),g.createElement(v.Pag,{direction:"column",alignItems:"start",gap:1},g.createElement(v.I7m,null,g.createElement(v.W20,{height:1.5,width:15,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),g.createElement(v.I7m,null,g.createElement(v.Pag,{direction:"row",gap:2},g.createElement(v.I7m,null,g.createElement(v.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}})),g.createElement(v.I7m,null,g.createElement(v.W20,{height:1.5,width:4,backgroundColor:"disabledBackground",style:{borderRadius:"4px"}}))))))),tM=({rowCount:e})=>{let t=[];for(let n=0;n<e;n++)t.push(g.createElement(tU,{key:n}));return g.createElement(g.Fragment,null,t)};var tZ=n(83895),tq=n(36197),tj=n(56299),tJ=n(53981),tY=n(59013);let tH=({title:e,amount:t,backgroundColor:n="backgroundSecondary",className:a,inActivitySidebar:r=!1})=>g.createElement(g.Fragment,null,r?g.createElement(v.W20,{className:a,backgroundColor:n,padding:"medium",radius:"large"},g.createElement(v.ggW,{autoFlow:"row"},g.createElement(v.xvT,{fontWeight:"bold",color:"grey8"},e),g.createElement(v.xvT,{size:"xxlarge",fontWeight:"bold",color:"grey8"},t))):g.createElement("div",{className:`flex py:small px:medium items:center ${a} radius:medium`,style:{backgroundColor:n}},g.createElement("div",{className:"grow:1"},g.createElement(v.xvT,null,e)),g.createElement(v.xvT,{fontWeight:"bold",size:"xlarge"},t)));var tK=({viewer:e,onBack:t,skipAnimation:n,inActivitySidebar:a})=>{let r=(0,g.useRef)(),{user:l={},views:i=[],percentCompleted:o=0,ctaClicks:c,events:d=[]}=e;return(0,g.useEffect)(()=>{let e=r?.current,t=()=>e?.parentElement?.classList.add(tY.Z.shrinked);document?.documentElement?.scrollTo?.({top:0}),e?.parentElement?.scrollTo?.({left:e.offsetWidth,behavior:n?"auto":"smooth"}),n?t():setTimeout(t,250);let a=new tm.Z(T()(([e])=>{e?.target?.parentElement?.scrollTo({left:e?.contentRect?.width,behavior:"smooth"})},100));return a.observe(e),()=>a.disconnect()},[n]),g.createElement("section",{className:tY.Z.slideable,ref:r},g.createElement(v.yeS,{htmlTag:"header",alignment:"center",isSpread:!0,className:tY.Z.detailsHeader},g.createElement(v.yeS,{alignment:"center",gap:"small"},a?g.createElement(g.Fragment,null,g.createElement(v.hU,{altText:"Back",icon:g.createElement(tJ.C,null),onClick:t}),g.createElement("a",{href:`/profile/${l?.profileUrl}`},g.createElement(v.xvT,{fontWeight:"bold",size:"large"},l.name))):g.createElement(g.Fragment,null,g.createElement(v.hU,{altText:"Back",icon:g.createElement(tj.s,null),onClick:t}),g.createElement("a",{href:`/profile/${l?.profileUrl}`},g.createElement(tq.uV,{avatar:l.avatar,color:l.color,variant:l.variant})),g.createElement(tq.Wd,{name:l.name})))),g.createElement("div",null,g.createElement("div",{className:"mb:large"},g.createElement(tH,{title:"Video views",amount:i.length,backgroundColor:"blurpleMedium",inActivitySidebar:a}),g.createElement(tH,{className:a?"mt:medium":"mt:small",title:"Completion rate",amount:null!=o?`${o}%`:"--",backgroundColor:"blueLight",inActivitySidebar:a}),!!c&&g.createElement(tH,{className:s()(a?"mt:medium":"mt:small","test-call-to-action-clicks"),title:"Call-to-Action Clicks",amount:c,backgroundColor:"yellowLight",inActivitySidebar:a})),g.createElement("div",{className:"p:medium bgc:backgroundSecondary mb:large radius:medium"},g.createElement("div",{className:"mb:medium"},g.createElement(v.xvT,{fontWeight:"bold"},"View Times")),g.createElement(tq.UZ,{views:i}))),g.createElement(tq.iF,{events:d}))},tG=n(49374),tX=n(86193),tQ=n(57465),t0=n(78703),t1=n(73163),t2=n(72595),t5=n.n(t2),t3=()=>{let[e,t]=(0,g.useState)(""),[n,a]=(0,g.useState)(""),{video:{isOwner:r,views:l,videoProperties:{playableDuration:i}}}=(0,m.dPl)(),{total:o=0}=l??{},s=(0,tX.aJ)({videoViews:o,videoDuration:i||0}),c=(0,tX.I5)({secondsSaved:s}),[d,{data:u,loading:p}]=(0,tG.t)(t5(),{variables:{dateRangeType:tQ.Nm.MONTH,interval:0},fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),E=u?.getInsightsValueForTimeframes?.owner?.videoView;return((0,g.useEffect)(()=>{1!==o&&c?c&&(t(`${c} saved`),a("Every view on this video beyond the first view is one less time that you had to repeat yourself. Great work at scaling knowledge!")):(d(),E&&t(`${E} views this month`))},[o,d,c,E]),o&&!p&&r&&e)?g.createElement(g.Fragment,null,g.createElement(v.ggW,{gap:"small",justifyContent:{default:"stretch",medium:"space-between"},autoFlow:{default:"row",medium:"column"}},g.createElement(v.ggW,{gap:"xsmall"},g.createElement(t1.Z,{size:3}),g.createElement(v.LZC,{left:.5}),g.createElement(v.xvT,{size:"medium",color:"bodyDimmed",fontWeight:"book"},e),n&&g.createElement(v.ua7,{content:n,maxWidth:40},g.createElement(v.JO$,{icon:g.createElement(ty.M,null),size:2.25,color:"bodyDimmed"}))),g.createElement(t0.Z,{buttonText:"More insights",source:"viewer-insights-share-page",buttonSize:"small"}))):g.createElement(g.Fragment,null)};try{a=window&&window.localStorage}catch(e){}let t9="engagementInsights:showPartialInfoSaved",t8=()=>a&&a.setItem(t9,!0),t6=()=>a&&a.getItem(t9);var t4=n(67142),t7=n(4843);let{reactor:ne}=tF.NOTIFICATION_URL_PARAMS,nt=e=>isNaN(e)?"n/a":`${Math.round(e)}%`,nn=({onExit:e,inActivitySidebar:t})=>{let{featureLoadedRef:n}=(0,tv.kX)(),a=(0,V.I0)(),r=(0,g.useRef)(null),l=(0,g.useRef)(null),i=(0,g.useRef)(null),[o,c]=(0,g.useState)(!t6()),d=(0,g.useCallback)(e=>{a((0,tT.L)(e)),e&&(0,tZ.E3)()},[a]),u=r?.current,E=l?.current,f=(0,g.useCallback)(()=>{t?((0,tZ.wK)(),d(null)):(u?.classList.remove(tY.Z.shrinked),setTimeout(()=>{document.documentElement.scrollTo({top:0}),u?.scrollTo({left:0,behavior:"smooth"}),E?.scrollTo({top:0})},50),(0,tZ.wK)(),setTimeout(()=>d(null),350))},[d,E,u,t]),{video:{id:h,ctaEnabled:b=!1,views:y}}=(0,m.dPl)(),{total:_=0,distinct:k=0}=y??{},w=(0,V.v9)(e=>(0,ts.MU)(e,X.L7)),{data:C}=function(e){let t={...tR,...e};return ep.a(tB,t)}({variables:{videoId:h},skip:!w||!_,client:(0,t$.yy)()}),T=C?.engagementInsightsSummaryForVideo?.stats?.completionPercentAvg??void 0,x=C?.engagementInsightsSummaryForVideo?.stats?.ctaConversionPercent??void 0,S=C?.engagementInsightsSummaryForVideo?.stats?.trackedViewerCount??void 0,{data:I,loading:A,fetchMore:W}=(0,tV.uB)({variables:{first:50,videoId:h},client:(0,t$.yy)(),skip:!w||!_,notifyOnNetworkStatusChange:!0}),{viewersWithEngagements:N,hasNextPage:P,endCursor:$}=(0,t7.R)(I),L=(0,g.useCallback)(()=>{!A&&W&&$&&P&&w&&W({variables:{first:50,after:$,videoId:h}})},[W,A,h,$,P,w]);(0,tz.Z)(i,L);let F=(0,t4.p)(y),D=w?N:F,z=(0,V.v9)(tA.R),O=(0,tP.D)(z),R=S!==k;return(0,g.useEffect)(()=>{let e=(0,tp.jS)(ne);if(e){let t=D.find(t=>(0,t7.O)(t)&&String(t.user.id)==e);null!=t&&(d(t),(0,tp.$5)(window)(ne))}l?.current?.scrollTo?.({top:0}),z||e||f()},[f,d,z,D]),g.createElement("div",{ref:n},g.createElement("section",{ref:l,className:tY.Z.containerBox+" overflow:auto thin-scrollbars radius:medium",style:{display:"flex",flexDirection:"column"}},0===_?g.createElement(na,null):g.createElement(p.Gm,{feature:tk.L0.EngagementInsights},!t&&g.createElement(v.yeS,{alignment:"center",isSpread:!0,className:tY.Z.sticky},g.createElement(v.xvT,{variant:"title"},"Engagement Insights"),g.createElement(v.hU,{altText:"Close",icon:g.createElement(tL.G,null),onClick:e})),R&&o&&g.createElement("div",{className:"mb:medium"},g.createElement(nc,{onClick:()=>{c(!1),t8(),(0,tZ.h$)()}})),g.createElement("div",{className:tY.Z.slideableContainer,ref:r},g.createElement("section",{className:tY.Z.slideable},g.createElement(v.LZC,{top:"medium"}),g.createElement(t3,null),g.createElement(v.LZC,{top:"small"}),g.createElement("ul",{className:s()(tY.Z.viewsMetadata,{[tY.Z.partial]:!R})},g.createElement(g.Fragment,null,g.createElement(nr,{total:_}),g.createElement(tD.Z,{name:X.L7},g.createElement(nl,{completionPercentAvg:T,trackedViewerCount:S,totalViewerCount:k})),b&&g.createElement(tD.Z,{name:X.L7},g.createElement(ni,{ctaConversionPercent:x})))),g.createElement(nm,{viewers:D,totalViewerCount:k,onViewerClick:d,hasEngagementInsights:w,hasNextPage:P??!1,paginatedViewersLoading:A,fetchMoreRef:i}),!D.length&&g.createElement(v.aNw,null)),z&&g.createElement(tK,{viewer:z,onBack:f,skipAnimation:void 0===O,inActivitySidebar:t})))))},na=()=>{let{video:{owner:{displayName:e}}}=(0,m.dPl)();return g.createElement(v.W20,{paddingY:"20vh",style:{textAlign:"center"}},g.createElement("img",{alt:"A Loom user is pointing a finger upwards to a video",width:"140px",height:"140px",src:tO,loading:"lazy"}),g.createElement(v.LZC,{bottom:3}),g.createElement(v.xvT,{fontWeight:"bold",size:"large"},"No views... yet"),g.createElement(v.LZC,{top:1,bottom:2},g.createElement(v.xvT,{fontWeight:"book",color:"bodyDimmed"},`Be the first to watch ${e}'s video`)))},nr=({total:e})=>g.createElement("li",{className:"bgc:blurpleMedium"},g.createElement(v.xvT,{fontWeight:"bold",color:"grey8"},"Total video views"),g.createElement(v.xvT,{size:"xxlarge",fontWeight:"bold",color:"grey8"},e)),nl=({completionPercentAvg:e,trackedViewerCount:t,totalViewerCount:n})=>g.createElement("li",{className:s()("bgc:blueLight",{[tY.Z.disabled]:!e})},g.createElement(v.ggW,{gap:"xsmall",autoFlow:"row"},g.createElement(v.xvT,{fontWeight:"bold",color:"grey8"},"Average Completion Rate"),g.createElement(ns,{trackedViewerCount:t,totalViewerCount:n,source:"completion rate"})),g.createElement(nd,{percent:e})),ni=({ctaConversionPercent:e})=>g.createElement("li",{className:s()("bgc:yellowLight",{[tY.Z.disabled]:!e})},g.createElement(v.ggW,{gap:"xsmall",autoFlow:"row"},g.createElement(v.xvT,{fontWeight:"bold",color:"grey8"},"Call-to-Action Conversion")),g.createElement(nd,{percent:e})),no=({href:e,source:t})=>g.createElement(v.ua7,{content:"Engagement is only tracked after upgrading to Business or Enterprise.",placement:"topCenter"},g.createElement("a",{href:e,className:tY.Z.infoIcon,onClick:()=>(0,tZ.AE)({source:t}),target:"_blank",rel:"noopener noreferrer"},g.createElement(ty.M,null))),ns=({trackedViewerCount:e,totalViewerCount:t,source:n})=>e===t?null:g.createElement("div",{className:"flex items:center"},g.createElement(v.xvT,{size:"small",color:"grey8"},"Based on ",e," of ",t," viewers"),g.createElement(no,{href:tN.NJ,source:n})),nc=({onClick:e})=>g.createElement(v.W20,{backgroundColor:"backgroundSecondary",radius:"medium",padding:"medium"},g.createElement(v.xvT,{fontWeight:"bold",className:"mb:medium"},"This video includes partially tracked data."),g.createElement(v.LZC,{bottom:"medium"},g.createElement(v.xvT,null,"Engagement is only tracked after upgrading to Business or Enterprise.")),g.createElement(v.xMy,{alignment:"centerRight"},g.createElement(v.zxk,{variant:"primary",onClick:e},"Got it"))),nd=({percent:e})=>g.createElement(v.xvT,{size:"xxlarge",fontWeight:"bold",color:"grey8"},"number"==typeof e?nt(e):"--"),nm=({viewers:e,totalViewerCount:t,onViewerClick:n,hasEngagementInsights:a,hasNextPage:r,paginatedViewersLoading:l,fetchMoreRef:i})=>g.createElement("div",{className:tY.Z.viewers},g.createElement(v.xvT,{fontWeight:"bold",size:"large",className:"mb:small"},`${t} ${B()("Viewers",t)}`),e.map(e=>g.createElement("div",{key:e.user.id,className:a?s()(tY.Z.card):"overflow:hidden",onClick:a?()=>n(e):void 0},g.createElement(tq.Dg,{user:e.user,events:e.events}))),(r||l)&&g.createElement(g.Fragment,null,g.createElement("div",{ref:i}),g.createElement(tM,{rowCount:3}))),nu=e=>g.createElement(tu.$,{feature:tk.L0.EngagementInsights,errorType:tg.s.SILENT,additionalLoggingValues:{version:"views panel"}},g.createElement(nn,{...e})),ng={SIDEBAR:10,RESIZER:11};var nv=n(30079);let np=(0,h.r)(()=>Promise.all([n.e(7333),n.e(5207)]).then(n.bind(n,72749)).then(e=>({default:e.EditTab}))),nE=e=>g.createElement(g.Suspense,{fallback:null},g.createElement(np,{...e})),nf=(0,h.r)(()=>Promise.all([n.e(7333),n.e(5207)]).then(n.bind(n,66874))),nh=e=>g.createElement(g.Suspense,{fallback:null},g.createElement(nf,{...e}));var nb=n(61259),ny={shortcutWrapper:"resizer_shortcutWrapper_1Kw",resizeBarContainer:"resizer_resizeBarContainer_3oR",resizeBar:"resizer_resizeBar_2Sx",highlight:"resizer_highlight_fUz",tooltipWrapper:"resizer_tooltipWrapper_3lN",showTooltipWrapper:"resizer_showTooltipWrapper_Whw"};let n_=()=>g.createElement(v._MZ,null,g.createElement(v.W20,{paddingX:"xsmall"},g.createElement(v.ggW,{autoFlow:"row"},g.createElement(v.ggW,{gap:"xsmall"},g.createElement(v.xvT,{size:"small",fontWeight:"bold"},"Drag"),g.createElement(v.xvT,{size:"small"},"to resize")),g.createElement(v.ggW,{gap:"xsmall"},g.createElement(v.xvT,{size:"small",fontWeight:"bold"},"Click"),g.createElement(v.xvT,{size:"small"},"to collapse"),g.createElement(v.W20,{className:ny.shortcutWrapper},g.createElement(v.xMy,{alignment:"center"},g.createElement(v.xvT,{size:"small",fontWeight:"bold",color:"grey3"},"T"))))))),nk=({setWidth:e,disabled:t})=>{let[n,a]=(0,g.useState)(!1),[r,l]=(0,g.useState)(0),[i,o]=(0,g.useState)(!1),c=nx(),{hasMousePosition:d,resetMousePosition:m,handleMouseEvent:u,trigger:v}=(0,ei.md)(),{layerProps:p,renderLayer:E}=(0,ei.sJ)({isOpen:d,onOutsideClick:m,trigger:v,placement:"right-center",triggerOffset:8});p.style={...p.style,zIndex:ng.RESIZER};let f=(0,V.v9)(ee.Mx),h=(0,g.useCallback)(t=>{if(n){t.preventDefault();let n=window.innerWidth,a=n-t.clientX;425<a&&a<700?405<a&&a<445?e(425):e(a):a<425?e(425):700<a&&e(700)}},[n,e]);return((0,g.useEffect)(()=>{document.addEventListener("mousemove",h,!1),document.addEventListener("mouseup",()=>{document.removeEventListener("mousemove",h,!1),a(!1)},!1)},[n,h]),(0,g.useEffect)(()=>{let e=document.getElementById("container");e&&(n?e.style.cursor="col-resize":e.style.cursor="unset")},[n]),t)?g.createElement(g.Fragment,null):f?g.createElement(g.Fragment,null):g.createElement("div",{className:ny.resizeBarContainer,style:{zIndex:ng.RESIZER},onMouseDown:e=>{l(e.timeStamp),m(),a(!0)},onMouseUp:e=>{let t=e.timeStamp-r;t<200&&(c(!1),o(!1))},onMouseEnter:e=>{n?o(!1):(u(e),o(!0))},onMouseLeave:()=>{m(),o(!1)}},g.createElement("div",{className:s()(ny.resizeBar,i||n?ny.highlight:void 0)}),E(g.createElement("div",{...p,className:s()(ny.tooltipWrapper,d?ny.showTooltipWrapper:void 0)},g.createElement(n_,null))))},nw=()=>{let{video:{organizationId:e,id:t}}=(0,m.dPl)(),n=(0,w.p$)(e),a=(0,k.l)(t);return n||a},nC=()=>{let{video:{currentUserCanEdit:e,showAnalytics:t}}=(0,m.dPl)(),n=nw();return n&&(e||t)},nT=()=>{let{video:{currentUserCanEdit:e}}=(0,m.dPl)(),t=(0,tx.MS)();return e&&t},nx=()=>{let e=(0,V.I0)(),t=(0,tx.ag)(`(max-width: ${r.U2}px)`),n=(0,V.v9)(tA.F),a=(0,g.useCallback)(a=>{if(t)return;e((0,eT.XU)(!1));let r=!a;e((0,tC.zn)(r)),e((0,eT.Eu)(r)),(0,tW.Ly)("theaterMode",r),r&&n&&e((0,tT.Z)())},[e,t,n]);return a},nS=()=>{let e=(0,V.I0)(),{video:{id:t}}=(0,m.dPl)(),n=(0,V.v9)(ee.RN),a=(0,g.useCallback)(a=>{null!=n&&et.track(l.NRv,{primary_navigation_item:a,video_id:t}),e((0,eT.Yi)(a))},[e,n,t]);return nI({onTab:n,setOnTab:a}),{onTab:n,setOnTab:a}},nI=({onTab:e,setOnTab:t})=>{let{video:{commentsEnabled:n,views:a}}=(0,m.dPl)(),r=(0,V.v9)(ee.Pw),l=nT(),i=(0,tx.MS)(),o=(a?.distinct??0)>0,s=l&&i&&(r||!o);(0,g.useEffect)(()=>{e||(s?t(nv.YS.Edit):n?t(nv.YS.Activity):t(nv.YS.Transcript))},[s,n,e,t])},nA=()=>{let{isCollapsed:e}=(0,c.m)();return!e},nW=()=>{let{onTab:e,setOnTab:t}=nS(),n=nx(),{isCollapsed:a}=(0,c.m)();return (r=nv.YS.Activity)=>{e!==r&&t(r),a&&n(!0)}},nN=({switchToTab:e})=>{let t=(0,m.q9z)(),n=t>9?"9+":`${t}`;return g.createElement("div",{id:"collapsed-sidebar-button-comment-icon"},g.createElement(v.hU,{altText:"Activity",className:"collapsed-sidebar-button-icon",icon:g.createElement(th.j,null),onClick:()=>e(nv.YS.Activity)}),t>0&&g.createElement("span",{id:"collapsed-sidebar-button-comment-icon-number"},n))},nP=()=>{let e=nx();return g.createElement("div",{className:"toggleSidebarButton"},g.createElement(v.ua7,{isInline:!1,content:"Hide sidebar",shortcut:["T"],placement:"rightCenter"},g.createElement(v.hU,{altText:"Hide sidebar",icon:g.createElement(tf.a,null),onClick:()=>{e(!1)}})))},n$=({tabName:e})=>{let{video:{commentsEnabled:t,currentUserCanEdit:n,showAnalytics:a,showTranscriptToViewer:r}}=(0,m.dPl)(),l=!1;if(n)switch(e){case nv.YS.Edit:l=!1;break;case nv.YS.Activity:l=!t;break;case nv.YS.Transcript:l=!r;break;case nv.YS.Views:l=!a}return l?g.createElement(v.ua7,{maxWidth:"220px",triggerOffset:8,content:"This tab is only visible to editors. To share with viewers update your video settings.",placement:"bottomCenter"},g.createElement(v.JO$,{className:"tab-tooltip-icon",altText:"Information",color:"bodyDimmed",size:"1rem",icon:g.createElement(ty.M,null)})):null},nL=({tabName:e,isActive:t,handleClick:n})=>g.createElement(v.OK9,{isActive:t,className:t?"active-tab":void 0,onClick:n,"data-testid":`sidebar-tab-${e}`},g.createElement(()=>g.createElement("div",null,e,t?g.createElement(n$,{tabName:e}):null),null)),nF=({tabsToShow:e,isViewerSelected:t,onEditSubpage:n,setOnEditSubpage:a,width:r})=>{let[l,i]=(0,g.useState)(!1),{isStacked:o}=(0,c.m)(),{onTab:s}=nS(),d=(0,g.useMemo)(()=>g.createElement(S,{onCommentDisplay:i}),[l]);return g.createElement("div",{style:o?void 0:{width:r}},e.includes(nv.YS.Edit)&&g.createElement(f,{name:"Activity Transcript Sidebar Edit",team:tk.SZ.CreatorX,tabName:"Editor"},s===nv.YS.Edit&&g.createElement("div",{style:{height:n?nv.IB:"auto"}},g.createElement(nO,{editSubtab:n,setEditSubtab:a}))),e.includes(nv.YS.Activity)&&g.createElement(f,{name:"Activity Transcript Sidebar Activity",team:tk.SZ.IntegrateOrganizeCollaborate,tabName:"Activity"},g.createElement(v.W20,{style:s===nv.YS.Activity?{}:{display:"none"}},g.createElement(v.LZC,{left:3,right:3},g.createElement("div",null,d)))),e.includes(nv.YS.Transcript)&&g.createElement(f,{name:"Activity Transcript Sidebar Transcript",team:tk.SZ.CreatorX,tabName:"Transcript"},s==nv.YS.Transcript&&g.createElement(v.LZC,{left:1,right:1},g.createElement("div",{style:{height:nv.IB}},g.createElement(y,null)))),e.includes(nv.YS.Views)&&g.createElement(g.Fragment,null,s===nv.YS.Views&&g.createElement("div",null,g.createElement(f,{name:"Activity Transcript Sidebar Viewer Insights",team:tk.SZ.CreatorX,tabName:"Views"},g.createElement(v.LZC,{left:3,right:3},t?g.createElement(v.LZC,{top:3},g.createElement(nu,{inActivitySidebar:!0})):g.createElement(nu,{inActivitySidebar:!0}))))),e.includes(nv.YS.Settings)&&g.createElement(f,{name:"Activity Transcript Sidebar Settings",team:tk.SZ.CreatorX,tabName:"Settings"},g.createElement("div",{style:s===nv.YS.Settings?{}:{display:"none"}},g.createElement(nb.Y,{goBackToEditPage:()=>a(null),pageTitle:"",settingsIsInEditTab:!0}))))},nD=()=>g.createElement(v.W20,{padding:3},g.createElement(v.LZC,{bottom:1},g.createElement(v.W20,{width:20},g.createElement(v.N2B,{size:"heading-md",lines:1}))),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.LZC,{top:2,bottom:1},g.createElement(v.W20,{width:20},g.createElement(v.N2B,{size:"heading-md",lines:1}))),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.N2B,{size:"heading-lg",lines:1}),g.createElement(v.N2B,{size:"heading-lg",lines:1})),nz=({editSubtab:e,setEditSubtab:t})=>{let{video:{modelId:n}}=(0,m.dPl)(),a=(0,_.W9)(G.SMQ),r=(0,_.Mr)({flag:G.dKZ,activationValues:["variant","variant-a","variant-b"]}),{featureLoadedRef:i}=(0,tv.kX)(),o=(0,V.I0)();if(void 0===a||void 0===r)return g.createElement("div",{ref:i},g.createElement(nD,null));if(r){let a=e===to.L.Link;return a?g.createElement(tc,{onClose:()=>t(null)}):g.createElement(tl,{videoId:n,onAddLinkClick:()=>{o((0,td.XJ)()),t(to.L.Link),et.track(l.HLl,{id:n})}})}return a?g.createElement("div",{ref:i},g.createElement(nh,{currentPage:e,onClickEditTool:t})):g.createElement("div",{ref:i},g.createElement(nE,{currentPage:e,onClickEditTool:t}))},nO=e=>g.createElement(tu.$,{feature:tk.L0.EditTools,errorType:tg.s.DEFAULT,additionalLoggingValues:{version:"edit tab"}},g.createElement(nz,{...e})),nR=()=>{let{video:{id:e}}=(0,m.dPl)(),t=(0,m.DWr)(e),n=nT(),a=nx(),r=nC(),{isStacked:l,isCollapsed:i}=(0,c.m)(),{onTab:o,setOnTab:d}=nS(),u=T()(e=>{a(!0),o!==e&&d(e)},100),p=!i||l;return g.createElement(v.W20,{radius:"full",marginX:2,className:s()("collapsed-sidebar-buttons",!t&&"prePlay",t&&"postPlay",!p&&"isVisible")},g.createElement(v.LZC,{top:2,bottom:2},g.createElement(v.ggW,{gap:2,autoFlow:"row"},n&&g.createElement(v.ua7,{placement:"leftCenter",content:"Edit"},g.createElement(v.hU,{altText:"Edit",className:"collapsed-sidebar-button-icon",icon:g.createElement(tb.b,null),onClick:()=>u(nv.YS.Edit)})),g.createElement(v.ua7,{placement:"leftCenter",content:"Activity"},g.createElement(nN,{switchToTab:u})),g.createElement(v.ua7,{placement:"leftCenter",content:"Transcript"},g.createElement(v.hU,{altText:"Transcript",className:"collapsed-sidebar-button-icon",icon:g.createElement(t_.G,null),onClick:()=>u(nv.YS.Transcript)})),r&&g.createElement(v.ua7,{placement:"leftCenter",content:"Views"},g.createElement(v.hU,{altText:"Views",className:"collapsed-sidebar-button-icon",icon:g.createElement(tE.e,null),onClick:()=>u(nv.YS.Views)})))))},nB=({responsiveWidth:e,setIsResizerDisabled:t})=>{let{video:{showTranscriptToViewer:n,organizationId:a}}=(0,m.dPl)(),r=(0,V.I0)(),{isStacked:l,isCollapsed:i}=(0,c.m)(),{onTab:o,setOnTab:p}=nS(),E=i?0:e||nv.oh,f=(0,V.v9)(tA.F),h=(0,V.v9)(tA.R),b=nC(),y=nT(),k=(0,V.v9)(tI.S),{showDefaultSettings:w}=(0,V.v9)(ee.z8),C=(0,u.K)(),T=(0,_.W9)(G.TCZ),[x,S]=(0,g.useState)(null),{isActive:A}=(0,I.V)(),W=(0,tp.jS)(tw._G),[N,P]=(0,g.useState)(!1),$=(0,V.v9)(tS.CX);(0,g.useEffect)(()=>{$&&(r((0,td.lf)()),S(to.L.Thumbnail)),$||S(null),w&&(S(to.L.Settings),setTimeout(()=>{r((0,eT.oi)(!1))})),W===nv.YS.Edit&&p(nv.YS.Edit)},[w,r,$,W,p]);let L=[];if(y?L.push(nv.YS.Edit):o===nv.YS.Edit&&(S(null),p(nv.YS.Activity)),L.push(nv.YS.Activity),(y||n)&&!C&&L.push(nv.YS.Transcript),b&&L.push(nv.YS.Views),y&&L.push(nv.YS.Settings),(0,g.useEffect)(()=>{if(t){let e=x||h;t(e)}},[x,h,t]),(0,g.useEffect)(()=>{f&&o!==nv.YS.Views&&p(nv.YS.Views)},[f]),(0,g.useEffect)(()=>{A&&p(nv.YS.Edit)},[A,p]),(0,g.useEffect)(()=>{(o===nv.YS.Views&&!f||o!==nv.YS.Views&&f)&&r((0,tT.Z)())},[o,r]),k)return null;let F=!l&&!x&&!h;return g.createElement(v.W20,{className:s()("activitySidebarContainer",{collapsed:i,stacked:l,"sidebar-scrolled":N}),id:"activity-sidebar-container",width:l?"unset":`${E}px`,style:{overflowY:l?"inherit":"auto",overflowX:"hidden"},onScroll:e=>{P(e.target.scrollTop>0)}},g.createElement(v.W20,{backgroundColor:"background",style:{position:"sticky",top:0},zIndex:ng.SIDEBAR},!h&&!x&&g.createElement("div",{id:"right-panel-tabs"},g.createElement(v.LZC,{top:2,left:3},g.createElement(v.mQc,null,L.map(e=>g.createElement(nL,{key:e,tabName:e,isActive:e===o,handleClick:()=>p(e)}))))),F&&g.createElement(nP,null)),g.createElement(nF,{tabsToShow:L,isViewerSelected:h,onEditSubpage:x,setOnEditSubpage:S,width:e||nv.oh}),T&&a&&!i&&g.createElement(d.j,{workspaceId:a,isStacked:l}))},nV=(0,g.forwardRef)(({useDefaultWidth:e=!1},t)=>{let n=t?.current,a=(0,tW.bM)(i.BT)||nv.oh,[r,l]=(0,g.useState)(a),{isStacked:o,isCollapsed:s}=(0,c.m)(),[d,m]=(0,g.useState)(0),[u,v]=(0,g.useState)(!1),[p,E]=(0,g.useState)(!1),f=T()(e=>{(0,tW.Ly)(i.BT,e)},300);return(0,g.useEffect)(()=>{e||f(r)},[r,f,e]),(0,g.useEffect)(()=>{l(e?nv.oh:a)},[e]),(0,g.useEffect)(()=>{let e=new tm.Z(T()(e=>{let t=e[0].target.clientWidth;m(t)},100));return n&&e.observe(n),()=>e.disconnect()},[n,t]),(0,g.useEffect)(()=>{s?v(!1):u||d!==r||v(!0)},[s,d,u,r]),g.createElement("div",{ref:t,className:"rightPanelWrapper"},g.createElement(nk,{setWidth:l,disabled:o||s||p}),g.createElement(nB,{responsiveWidth:r,setIsResizerDisabled:E}))});nV.displayName="RightPanelWithResizer"},31078:function(e,t,n){"use strict";n.d(t,{uB:function(){return o}});var a=n(83445),r=n(55684);let l={},i=(0,a.Ps)`
    query GetPaginatedInsightsForVideo($videoId: ID!, $first: Int!, $after: String) {
  engagementInsightsSummaryForVideo(videoId: $videoId) {
    id
    paginatedViewers(videoId: $videoId, first: $first, after: $after) {
      pageInfo {
        endCursor
        hasNextPage
      }
      edges {
        node {
          id
          hasWatchSession
          percentCompleted
          cta
          ctaClicks
          trackedViews
          views
          user {
            id
            avatar
            name
            color
            variant
            profileUrl
          }
          events {
            type
            ts
            id
            content
          }
        }
      }
    }
  }
}
    `;function o(e){let t={...l,...e};return r.a(i,t)}},67142:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});let a=(e={total:0})=>{let t=e?.named||[],n=e?.distinct||0,a=t.map(e=>({user:{name:`${e.firstName} ${e.lastName}`,avatar:e?.avatar}})),r=n-a.length;for(let e=0;e<r;e++)a.push({user:{}});return a}},4843:function(e,t,n){"use strict";n.d(t,{O:function(){return r},R:function(){return a}});let a=e=>{let t=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.edges?.map(e=>e?.node).filter(e=>e&&"EngagementInsightsAggregate"===e.__typename)??[],n=t.map(e=>({...e,commentCount:(e.events||[]).filter(e=>e&&("comment"===e.type||"reply"===e.type)).length,reactionCount:(e.events||[]).filter(e=>e&&"reaction"===e.type).length})),a=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.endCursor??null,r=e?.engagementInsightsSummaryForVideo?.paginatedViewers?.pageInfo?.hasNextPage??!1;return{viewersWithEngagements:n,endCursor:a,hasNextPage:r}},r=e=>"EngagementInsightsAggregate"===e.__typename&&"commentCount"in e&&"reactionCount"in e},20005:function(e,t,n){"use strict";var a=n(51110),r=n(58453),l=n(33266);t.Z=({workspace:e,filePreview:t,size:n=4,letter:i=""})=>{let o=e?.id||t||i;if(!o)return null;if(t)return r.createElement(l.qEK,{size:n,imageSrc:t});if(e?.workspaceLogoPath){let t=`${a.gg}/${e.workspaceLogoPath}`;return r.createElement(l.qEK,{size:n,imageSrc:t})}let s=i||e?.name?.charAt(0)?.toUpperCase();return r.createElement(l.qEK,{size:n,letter:s})}},95106:function(e,t,n){"use strict";n.d(t,{v:function(){return a}});let a="calc(var(--header-height) + var(--banner-height))"},79790:function(e,t,n){"use strict";n.d(t,{H:function(){return r},R:function(){return a}});let a="keyup",r="keydown"},92245:function(e,t,n){"use strict";n.d(t,{l:function(){return m}});var a=n(92947),r=n(16032),l=n(83445),i=n(55684);let o={},s=(0,l.Ps)`
    query HasAnonymousCreatorPrivileges($videoId: ID!) {
  result: hasAnonymousCreatorPrivilegesQuery(videoId: $videoId) {
    ... on hasAnonymousCreatorPrivilegesPayload {
      hasPrivileges
    }
  }
}
    `;var c=n(20409);let d=e=>!!(e&&e.result&&"UserAlreadyLoggedInError"!==e.result.__typename&&"GenericError"!==e.result.__typename&&e.result?.hasPrivileges)&&e.result.hasPrivileges,m=e=>{let t=(0,r.useIsCurrentUserLoggedIn)(),n=!!(a.r8&&(0,c.jS)("anon-creator")),{data:l}=function(e){let t={...o,...e};return i.a(s,t)}({variables:{...e?{videoId:e}:{videoId:""}},skip:!e||t||n}),m=d(l);return!t&&(!!n||m)}},6415:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var a=n(50679),r=n(76706),l=n(83034);let i=()=>{let e=(0,a.v9)(e=>{let t=e?.feature_flags[r._Vl];return t?.value});return!!l.Q8.includes(e)}},50376:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var a=n(58453);function r(e){let t=(0,a.useRef)();return(0,a.useEffect)(()=>{t.current=e}),t.current}},29769:function(e,t,n){"use strict";n.d(t,{LS:function(){return o},N3:function(){return u},T3:function(){return m},_S:function(){return i},jj:function(){return c},l3:function(){return g},mT:function(){return s},oV:function(){return l},yt:function(){return d}});var a,r=n(33266);let l="39rem",i="72rem";var o=((a=o||{})[a.TOKEN=0]="TOKEN",a[a.TOKEN_SELECTED=1]="TOKEN_SELECTED",a[a.ACTIVE_PLAYBACK_TOKEN=2]="ACTIVE_PLAYBACK_TOKEN",a[a.HEADER=800]="HEADER",a[a.POPOVER=900]="POPOVER",a[a.TOUR_CARD=1e3]="TOUR_CARD",a[a.MODAL=1e3]="MODAL",a[a.MODAL_CLOSE_BUTTON=1001]="MODAL_CLOSE_BUTTON",a);let s=48,c="1fr auto",d=10.5*r.bfT,m="magical-ai-gradient",u="[Edit by Transcript]",g="'s"},12443:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var a=n(29769);let r=e=>{let t=e;return t.endsWith(a.l3)&&(t=t.slice(0,-1*a.l3.length)),t}},49686:function(e,t,n){"use strict";n.d(t,{JP:function(){return o},PG:function(){return i},q2:function(){return c}});var a=n(83445),r=n(134);let l={},i=(0,a.Ps)`
    fragment AudioVariableFromTask on AudioVariable {
  __typename
  id
  taskId
  startTsInOriginalForSentence
  endTsInOriginalForSentence
}
    `,o=(0,a.Ps)`
    fragment TaskStatus on TaskStatusPayload {
  __typename
  id
  status
}
    `,s=(0,a.Ps)`
    subscription TaskStatus($videoId: ID!) {
  taskStatus(videoId: $videoId) {
    ...TaskStatus
    audioVariables {
      ...AudioVariableFromTask
    }
  }
}
    ${o}
${i}`;function c(e){let t={...l,...e};return r.m(s,t)}},50518:function(e,t,n){"use strict";n.d(t,{Qu:function(){return g},Sx:function(){return p},_C:function(){return E},g7:function(){return f},zN:function(){return v}});var a=n(20887),r=n(51110),l=n(33136),i=n(98539),o=n(19006),s=n(75382),c=n(36897),d=n(17202),m=n(49686);let{getSlug:u}=i,g=(e,t)=>{let n=`${r.OA}/edit/${e}?${o.Uu}=true`;(0,c.track)(a.Go0,{source:t,video_id:e}),window.location.href=n},v=e=>{window.location.href=`${r.OA}${r.v$}/${u(e)}?${o.jp}=${s.at.Audio}`},p=({selectedKeys:e,transcriptTokens:t,wordToTokens:n,deletedTokens:a})=>{if(e.length>1||e.some(e=>e.keysInRange.length>1))return{variableKeys:[...e]};let r=e[0].startKey,l=t[r],i=(0,d.F2)(l.value),o=n.get(i);if(!o||o.length<=1)return{variableKeys:[...e]};let s=new Set(Object.keys(a)),c=[];for(let e of o){let t=s.has(e.key);t||c.push({startKey:e.key,endKey:e.key,keysInRange:[e.key]})}return{variableKeys:c}},E=({audioVariables:e,timestampsForKeys:t})=>{let n=e.map(e=>({start:e.startTimestamp,end:e.endTimestamp})).sort((e,t)=>e.start-t.start),a=t.sort((e,t)=>e.startTsInSecs-t.startTsInSecs);for(let e of a){let t=n.some(t=>e.startTsInSecs>=t.start&&e.endTsInSecs<=t.end);if(!t)return!1}return!0},f=e=>{let t=(0,l.J$)().cache,n=t.readFragment({id:t.identify({id:e,__typename:"AudioVariable"}),fragment:m.PG});if(!n)throw Error("Could not find audioVariable in apollo cache.");let a=t.readFragment({id:t.identify({id:n.taskId,__typename:"TaskStatusPayload"}),fragment:m.JP});return{id:n.id,status:a?.status??"sent",startTimestamp:n.startTsInOriginalForSentence??0,endTimestamp:n.endTsInOriginalForSentence??0}}},59004:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});let a=function({targetTimeInSeconds:e,startRangeInMilliseconds:t,endRangeInMilliseconds:n,isEndBoundaryInclusive:a=!1}){let r=1e3*e;return a?r>=t&&r<=n:r>=t&&r<n}},46691:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});let a=(e,t,n)=>null!==t&&null!==n&&e>=t&&e<=n},90137:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});let a=function(e,t,n){return`${e}:${t}:${n}`}},17202:function(e,t,n){"use strict";n.d(t,{Bx:function(){return g},F2:function(){return m},RN:function(){return s},SQ:function(){return c},X5:function(){return d},mq:function(){return u},yZ:function(){return v}});var a=n(12443),r=n(90137),l=n(46691),i=n(59004);let o=/^[A-Z]/,s=e=>{let t=!0,n=0,r=[],l=new Set;for(let i of e.phrases)for(let e of i.tokens){if("punct"===e.type&&["?","!","."].includes(e.value))t=!0;else if("text"===e.type){let i=(0,a.s)(e.value);!t&&e.value.match(o)&&e.value.length>3&&r.length<3&&!l.has(i)&&(r.push({suggestion:i,index:n}),l.add(i)),t=!1}if(r.length>=3)return r;n++}return r},c=({variableKeys:e,tokenKeyToIndex:t,tokensArray:n})=>e.map(e=>{let a=t[e.startKey],r=t[e.endKey],l=n[a],i=n[r];if(void 0===l.start||null===l.start){let e=a;for(;(void 0===l.start||null===l.start)&&e<n.length;)l=n[e],e++}if(void 0===i.end||null===i.end){let e=r;for(;(void 0===i.end||null===i.end)&&e>=0;)i=n[e],e--}if(void 0===l.start||void 0===i.end||null===l.start||null===i.end)throw Error("Could not find start or end token");return{startTsInSecs:l.start,endTsInSecs:i.end}}),d=({startInSeconds:e,endInSeconds:t,tokensArray:n})=>{let a=n.find(t=>t.start===e),r=a?a.key:null;if(!r)throw Error("Could not find start token key");let l=[r],i=r;if(a&&t!==a.end){let e=n.find(e=>e.end===t),r=e?.key;if(r){i=r;let t=a.index+1;for(;t<=e.index;)l.push(n[t].key),t++}}return{startKey:r,endKey:i,keysInRange:l}},m=e=>{let t=e.replace(/[“”"()]/g,"").replace(/\.{2,}/g,"").replace(/[^a-zA-Z0-9-']+$/,"").replace(RegExp("(?<=\\w)-$"),"").toLowerCase();return(0,a.s)(t)},u=({transcript:e,clipPosition:t})=>{let n={},a={},l=[],i=[],o=0,s=new Map;return e.phrases.forEach((e,c)=>{e.tokens.forEach((e,d)=>{let u=(0,r.z)(t,c,d);n[u]=e,a[u]=l.length;let g={...e,key:u,index:o};l.push(g),i.push(u),o++;let v=m(e.value),p=s.get(v);void 0===p?s.set(v,[g]):s.set(v,[...p,g])})}),{transcriptTokens:n,tokenKeyToIndex:a,tokensArray:l,wordToTokens:s,indexToTokenKey:i}},g=({deletedTokens:e,tokenKeyToIndex:t,startTokenKey:n,endTokenKey:a})=>{let r=!1;return Object.keys(e).forEach(e=>{let i=t[e],o=t[n],s=t[a];(0,l.a)(i,o,s)&&(r=!0)}),r},v=(e,t,n)=>{if(0===t.length||0===e.length)return e;let a=n.filter(e=>"text"===e.type&&"number"==typeof e.start&&"number"==typeof e.end);a.sort((e,t)=>e.start-t.start);let r=[],l=[...t];return l.sort((e,t)=>e.from-t.from),e.forEach(e=>{let t={...e};for(let e of l){if(e.from>1e3*t.end)break;let n=(0,i.w)({targetTimeInSeconds:t.start,startRangeInMilliseconds:e.from,endRangeInMilliseconds:e.to}),r=(0,i.w)({targetTimeInSeconds:t.end,startRangeInMilliseconds:e.from,endRangeInMilliseconds:e.to,isEndBoundaryInclusive:!0});if(n&&r)throw Error("Cannot have a preview range that is entirely within a trim range");if(n){let n=function(e,t){let n,a=0,r=e.length-1;for(;a<=r;){let l=Math.floor((a+r)/2);1e3*e[l].start>=t?(n=e[l],r=l-1):a=l+1}return n}(a,e.to);n&&n.start&&(t.start=n.start)}else if(r){let n=function(e,t){let n,a=0,r=e.length-1;for(;a<=r;){let l=Math.floor((a+r)/2);1e3*e[l].end<=t?(n=e[l],a=l+1):r=l-1}return n}(a,e.from);n&&n.end&&(t.end=n.end)}}if(t.start>=t.end)throw Error("Range start must always be less than range end");r.push(t)}),r}},72595:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getInsightsValueForTimeframes"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"interval"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getInsightsValueForTimeframes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"dateRangeType"},value:{kind:"Variable",name:{kind:"Name",value:"dateRangeType"}}},{kind:"Argument",name:{kind:"Name",value:"interval"},value:{kind:"Variable",name:{kind:"Name",value:"interval"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InsightsForTimeframes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"videoView"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:264}};t.loc.source={body:"query getInsightsValueForTimeframes($dateRangeType: String!, $interval: Int!) {\n  getInsightsValueForTimeframes(\n    dateRangeType: $dateRangeType\n    interval: $interval\n  ) {\n    ... on InsightsForTimeframes {\n      owner {\n        videoView\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}t.definitions.forEach(function(e){if(e.name){var t=new Set;(function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var a=t.type;"NamedType"===a.kind&&n.add(a.name.value)}t.selectionSet&&t.selectionSet.selections.forEach(function(t){e(t,n)}),t.variableDefinitions&&t.variableDefinitions.forEach(function(t){e(t,n)}),t.definitions&&t.definitions.forEach(function(t){e(t,n)})})(e,t),n[e.name.value]=t}}),e.exports=t,e.exports.getInsightsValueForTimeframes=function(e,t){var r={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(r.loc=e.loc);var l=n[t]||new Set,i=new Set,o=new Set;for(l.forEach(function(e){o.add(e)});o.size>0;){var s=o;o=new Set,s.forEach(function(e){i.has(e)||(i.add(e),(n[e]||new Set).forEach(function(e){o.add(e)}))})}return i.forEach(function(t){var n=a(e,t);n&&r.definitions.push(n)}),r}(t,"getInsightsValueForTimeframes")},59013:function(e,t){"use strict";t.Z={sticky:"viewer-insights_sticky_L4M",viewerInfo:"viewer-insights_viewerInfo_1-t",viewsMetadata:"viewer-insights_viewsMetadata_3ii",card:"viewer-insights_card_3BS",partial:"viewer-insights_partial_3iq",disabled:"viewer-insights_disabled_3c9",slideableContainer:"viewer-insights_slideableContainer_6xP",slideable:"viewer-insights_slideable_2w3",detailsHeader:"viewer-insights_detailsHeader_2Wj",eventItem:"viewer-insights_eventItem_3P7",isClickable:"viewer-insights_isClickable_zTp",infoLink:"viewer-insights_infoLink_24m",infoIcon:"viewer-insights_infoIcon_1tN",containerBox:"viewer-insights_containerBox_29m",shrinked:"viewer-insights_shrinked_2rL",emoji:"viewer-insights_emoji_GVM",viewers:"viewer-insights_viewers_3Nx"}},42396:function(e,t,n){"use strict";e.exports=n.p+"img/add-a-link-tooltip-32bb735405ec9589d77f.png"}}]);
//# sourceMappingURL=https://www.loom.com/admin/sourcemaps/js/3281-9a056dab4ad3f4de49de.js.map